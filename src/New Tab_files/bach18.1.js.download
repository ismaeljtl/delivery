var n,ba=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},da="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ea=function(){ea=function(){};da.Symbol||(da.Symbol=fa)},ha=function(a,b){this.g=a;ca(this,"description",{configurable:!0,writable:!0,value:b})};
ha.prototype.toString=function(){return this.g};
var fa=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(),ja=function(){ea();var a=da.Symbol.iterator;a||(a=da.Symbol.iterator=da.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ia(ba(this))}});ja=function(){}},ia=function(a){ja();a={next:a};a[da.Symbol.iterator]=function(){return this};return a},
t=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}},la=function(a){if(!(a instanceof Array)){a=t(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},ma="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},na;
if("function"==typeof Object.setPrototypeOf)na=Object.setPrototypeOf;else{var oa;a:{var pa={a:!0},ra={};try{ra.__proto__=pa;oa=ra.a;break a}catch(a){}oa=!1}na=oa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var sa=na,w=function(a,b){a.prototype=ma(b.prototype);a.prototype.constructor=a;if(sa)sa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.De=b.prototype},ta=function(){this.j=!1;this.o=null;this.i=void 0;this.g=1;this.v=this.U=0;this.H=null},ua=function(a){if(a.j)throw new TypeError("Generator is already running");a.j=!0};ta.prototype.next_=function(a){this.i=a};
var va=function(a,b){a.H={vk:b,Ek:!0};a.g=a.U||a.v};ta.prototype.return=function(a){this.H={return:a};this.g=this.v};var wa=function(a,b,c){a.g=c;return{value:b}},xa=function(a){this.g=new ta;this.i=a};xa.prototype.next_=function(a){ua(this.g);if(this.g.o)return ya(this,this.g.o.next,a,this.g.next_);this.g.next_(a);return Aa(this)};
var Ba=function(a,b){ua(a.g);var c=a.g.o;if(c)return ya(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return Aa(a)},ya=function(a,b,c,d){try{var e=b.call(a.g.o,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.g.j=!1,e;var f=e.value}catch(g){return a.g.o=null,va(a.g,g),Aa(a)}a.g.o=null;d.call(a.g,f);return Aa(a)},Aa=function(a){for(;a.g.g;)try{var b=a.i(a.g);if(b)return a.g.j=!1,{value:b.value,
done:!1}}catch(c){a.g.i=void 0,va(a.g,c)}a.g.j=!1;if(a.g.H){b=a.g.H;a.g.H=null;if(b.Ek)throw b.vk;return{value:b.return,done:!0}}return{value:void 0,done:!0}},Ca=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){ua(a.g);a.g.o?b=ya(a,a.g.o["throw"],b,a.g.next_):(va(a.g,b),b=Aa(a));return b};this.return=function(b){return Ba(a,b)};ja();this[Symbol.iterator]=function(){return this}},Da=function(a,b){b=new Ca(new xa(b));sa&&sa(b,a.prototype);return b},Ea=function(a,b){if(b){var c=
da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ca(c,a,{configurable:!0,writable:!0,value:b})}};
Ea("Promise",function(a){function b(){this.g=null}function c(g){return g instanceof e?g:new e(function(h){h(g)})}if(a)return a;b.prototype.i=function(g){if(null==this.g){this.g=[];var h=this;this.o(function(){h.j()})}this.g.push(g)};var d=da.setTimeout;b.prototype.o=function(g){d(g,0)};b.prototype.j=function(){for(;this.g&&this.g.length;){var g=this.g;this.g=[];for(var h=0;h<g.length;++h){var k=g[h];g[h]=null;try{k()}catch(l){this.H(l)}}}this.g=null};b.prototype.H=function(g){this.o(function(){throw g;
})};var e=function(g){this.i=0;this.o=void 0;this.g=[];var h=this.H();try{g(h.resolve,h.reject)}catch(k){h.reject(k)}};e.prototype.H=function(){function g(l){return function(m){k||(k=!0,l.call(h,m))}}var h=this,k=!1;return{resolve:g(this.R),reject:g(this.j)}};e.prototype.R=function(g){if(g===this)this.j(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof e)this.Ka(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.Ca(g):
this.U(g)}};e.prototype.Ca=function(g){var h=void 0;try{h=g.then}catch(k){this.j(k);return}"function"==typeof h?this.Qa(h,g):this.U(g)};e.prototype.j=function(g){this.v(2,g)};e.prototype.U=function(g){this.v(1,g)};e.prototype.v=function(g,h){if(0!=this.i)throw Error("a`"+g+"`"+h+"`"+this.i);this.i=g;this.o=h;this.T()};e.prototype.T=function(){if(null!=this.g){for(var g=0;g<this.g.length;++g)f.i(this.g[g]);this.g=null}};var f=new b;e.prototype.Ka=function(g){var h=this.H();g.Xf(h.resolve,h.reject)};
e.prototype.Qa=function(g,h){var k=this.H();try{g.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};e.prototype.then=function(g,h){function k(q,r){return"function"==typeof q?function(u){try{l(q(u))}catch(x){m(x)}}:r}var l,m,p=new e(function(q,r){l=q;m=r});this.Xf(k(g,l),k(h,m));return p};e.prototype.catch=function(g){return this.then(void 0,g)};e.prototype.Xf=function(g,h){function k(){switch(l.i){case 1:g(l.o);break;case 2:h(l.o);break;default:throw Error("b`"+l.i);}}var l=this;null==this.g?f.i(k):
this.g.push(k)};e.resolve=c;e.reject=function(g){return new e(function(h,k){k(g)})};e.race=function(g){return new e(function(h,k){for(var l=t(g),m=l.next();!m.done;m=l.next())c(m.value).Xf(h,k)})};e.all=function(g){var h=t(g),k=h.next();return k.done?c([]):new e(function(l,m){function p(u){return function(x){q[u]=x;r--;0==r&&l(q)}}var q=[],r=0;do q.push(void 0),r++,c(k.value).Xf(p(q.length-1),m),k=h.next();while(!k.done)})};return e});
Ea("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});
var Fa=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})},Ga=function(a){return Fa(new Ca(new xa(a)))},Ha=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+
""};Ea("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Ha(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});Ea("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=Ha(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var e=b.length;0<e&&0<c;)if(d[--c]!=b[--e])return!1;return 0>=e}});
Ea("String.prototype.repeat",function(a){return a?a:function(b){var c=Ha(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});Ea("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(b.call(c,g,f,d)){b=g;break a}}b=void 0}return b}});
Ea("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});var Ja=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
Ea("WeakMap",function(a){function b(){}function c(h){Ja(h,e)||ca(h,e,{value:new b})}function d(h){var k=Object[h];k&&(Object[h]=function(l){if(l instanceof b)return l;c(l);return k(l)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),k=Object.seal({}),l=new a([[h,2],[k,3]]);if(2!=l.get(h)||3!=l.get(k))return!1;l.delete(h);l.set(k,4);return!l.has(h)&&4==l.get(k)}catch(m){return!1}}())return a;var e="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");d("seal");var f=
0,g=function(h){this.g=(f+=Math.random()+1).toString();if(h){h=t(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};g.prototype.set=function(h,k){c(h);if(!Ja(h,e))throw Error("c`"+h);h[e][this.g]=k;return this};g.prototype.get=function(h){return Ja(h,e)?h[e][this.g]:void 0};g.prototype.has=function(h){return Ja(h,e)&&Ja(h[e],this.g)};g.prototype.delete=function(h){return Ja(h,e)&&Ja(h[e],this.g)?delete h[e][this.g]:!1};return g});
Ea("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a(t([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var l=k.entries(),m=l.next();if(m.done||m.value[0]!=h||"s"!=m.value[1])return!1;m=l.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!l.next().done?!1:!0}catch(p){return!1}}())return a;ja();var b=new WeakMap,c=function(h){this.i={};this.g=
f();this.size=0;if(h){h=t(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};c.prototype.set=function(h,k){h=0===h?0:h;var l=d(this,h);l.list||(l.list=this.i[l.id]=[]);l.Vb?l.Vb.value=k:(l.Vb={next:this.g,$c:this.g.$c,head:this.g,key:h,value:k},l.list.push(l.Vb),this.g.$c.next=l.Vb,this.g.$c=l.Vb,this.size++);return this};c.prototype.delete=function(h){h=d(this,h);return h.Vb&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.i[h.id],h.Vb.$c.next=h.Vb.next,h.Vb.next.$c=h.Vb.$c,
h.Vb.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.i={};this.g=this.g.$c=f();this.size=0};c.prototype.has=function(h){return!!d(this,h).Vb};c.prototype.get=function(h){return(h=d(this,h).Vb)&&h.value};c.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};c.prototype.keys=function(){return e(this,function(h){return h.key})};c.prototype.values=function(){return e(this,function(h){return h.value})};c.prototype.forEach=function(h,k){for(var l=this.entries(),
m;!(m=l.next()).done;)m=m.value,h.call(k,m[1],m[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(h,k){var l=k&&typeof k;"object"==l||"function"==l?b.has(k)?l=b.get(k):(l=""+ ++g,b.set(k,l)):l="p_"+k;var m=h.i[l];if(m&&Ja(h.i,l))for(h=0;h<m.length;h++){var p=m[h];if(k!==k&&p.key!==p.key||k===p.key)return{id:l,list:m,index:h,Vb:p}}return{id:l,list:m,index:-1,Vb:void 0}},e=function(h,k){var l=h.g;return ia(function(){if(l){for(;l.head!=h.g;)l=l.$c;for(;l.next!=l.head;)return l=
l.next,{done:!1,value:k(l)};l=null}return{done:!0,value:void 0}})},f=function(){var h={};return h.$c=h.next=h.head=h},g=0;return c});Ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});Ea("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
Ea("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==Ha(this,b,"includes").indexOf(b,c||0)}});Ea("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});Ea("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});
Ea("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});var Ka="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Ja(d,e)&&(a[e]=d[e])}return a};
Ea("Object.assign",function(a){return a||Ka});
Ea("Set",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(t([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;ja();var b=function(c){this.g=new Map;
if(c){c=t(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.g.size};b.prototype.add=function(c){c=0===c?0:c;this.g.set(c,c);this.size=this.g.size;return this};b.prototype.delete=function(c){c=this.g.delete(c);this.size=this.g.size;return c};b.prototype.clear=function(){this.g.clear();this.size=0};b.prototype.has=function(c){return this.g.has(c)};b.prototype.entries=function(){return this.g.entries()};b.prototype.values=function(){return this.g.values()};b.prototype.keys=b.prototype.values;
b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.g.forEach(function(f){return c.call(d,f,f,e)})};return b});Ea("Math.expm1",function(a){return a?a:function(b){b=Number(b);if(.25>b&&-.25<b){for(var c=b,d=1,e=b,f=0;f!=e;)c*=b/++d,e=(f=e)+c;return e}return Math.exp(b)-1}});Ea("Math.log1p",function(a){return a?a:function(b){b=Number(b);if(.25>b&&-.25<b){for(var c=b,d=1,e=b,f=0,g=1;f!=e;)c*=b,g*=-1,e=(f=e)+g*c/++d;return e}return Math.log(1+b)}});
Ea("Math.hypot",function(a){return a?a:function(b){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var c,d,e;for(c=e=0;c<arguments.length;c++)e=Math.max(e,Math.abs(arguments[c]));if(1E100<e||1E-100>e){if(!e)return e;for(c=d=0;c<arguments.length;c++){var f=Number(arguments[c])/e;d+=f*f}return Math.sqrt(d)*e}for(c=d=0;c<arguments.length;c++)f=Number(arguments[c]),d+=f*f;return Math.sqrt(d)}});
Ea("Math.sinh",function(a){if(a)return a;var b=Math.exp;return function(c){c=Number(c);return 0===c?c:(b(c)-b(-c))/2}});Ea("Math.cosh",function(a){if(a)return a;var b=Math.exp;return function(c){c=Number(c);return(b(c)+b(-c))/2}});Ea("Math.asinh",function(a){return a?a:function(b){b=Number(b);if(0===b)return b;var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return 0>b?-c:c}});Ea("Math.acosh",function(a){return a?a:function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))}});
Ea("Math.atanh",function(a){if(a)return a;var b=Math.log1p;return function(c){c=Number(c);return(b(c)-b(-c))/2}});Ea("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});
Ea("WeakSet",function(a){if(function(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),d=Object.seal({}),e=new a([c]);if(!e.has(c)||e.has(d))return!1;e.delete(c);e.add(d);return!e.has(c)&&e.has(d)}catch(f){return!1}}())return a;var b=function(c){this.g=new WeakMap;if(c){c=t(c);for(var d;!(d=c.next()).done;)this.add(d.value)}};b.prototype.add=function(c){this.g.set(c,!0);return this};b.prototype.has=function(c){return this.g.has(c)};b.prototype.delete=function(c){return this.g.delete(c)};return b});
Ea("Number.isFinite",function(a){return a?a:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}});Ea("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});
var La=La||{},Na=this,Oa=function(a){return void 0!==a},Pa=function(a){return"string"==typeof a},Qa=function(a){return"number"==typeof a},Ra=/^[\w+/_-]+[=]{0,2}$/,Sa=null,Ta=function(){},Va=function(a){a.qh=void 0;a.ya=function(){return a.qh?a.qh:a.qh=new a}},Wa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&
"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},Xa=function(a){return"array"==Wa(a)},Ya=function(a){var b=Wa(a);return"array"==b||"object"==b&&"number"==typeof a.length},Za=function(a){return"function"==
Wa(a)},$a=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},bb="closure_uid_"+(1E9*Math.random()>>>0),db=0,eb=function(a,b,c){return a.call.apply(a.bind,arguments)},fb=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},gb=function(a,b,c){Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf("native code")?gb=eb:gb=fb;return gb.apply(null,arguments)},hb=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}},ib=Date.now||function(){return+new Date},jb=function(a,b){a=a.split(".");var c=Na;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&Oa(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=
c[d]:c=c[d]={}},kb=function(a,b){function c(){}c.prototype=b.prototype;a.De=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ql=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};var lb=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,lb);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};kb(lb,Error);lb.prototype.name="CustomError";var z={Qc:!1,Ok:function(a){return a[a.length-1]}};z.$n=z.Ok;z.indexOf=z.Qc||Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(Pa(a))return Pa(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
z.lastIndexOf=z.Qc||Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(Pa(a))return Pa(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};z.forEach=z.Qc||Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Pa(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
z.ui=function(a,b){var c=a.length,d=Pa(a)?a.split(""):a;for(--c;0<=c;--c)c in d&&b.call(void 0,d[c],c,a)};z.filter=z.Qc||Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=Pa(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e};
z.map=z.Qc||Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=Pa(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};z.reduce=z.Qc||Array.prototype.reduce?function(a,b,c,d){d&&(b=gb(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;z.forEach(a,function(f,g){e=b.call(d,e,f,g,a)});return e};
z.reduceRight=z.Qc||Array.prototype.reduceRight?function(a,b,c,d){d&&(b=gb(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;z.ui(a,function(f,g){e=b.call(d,e,f,g,a)});return e};z.some=z.Qc||Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Pa(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
z.every=z.Qc||Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Pa(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};z.count=function(a,b,c){var d=0;z.forEach(a,function(e,f,g){b.call(c,e,f,g)&&++d},c);return d};z.find=function(a,b,c){b=z.findIndex(a,b,c);return 0>b?null:Pa(a)?a.charAt(b):a[b]};
z.findIndex=function(a,b,c){for(var d=a.length,e=Pa(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};z.yn=function(a,b,c){b=z.wk(a,b,c);return 0>b?null:Pa(a)?a.charAt(b):a[b]};z.wk=function(a,b,c){var d=a.length,e=Pa(a)?a.split(""):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};z.contains=function(a,b){return 0<=z.indexOf(a,b)};z.jg=function(a){return 0==a.length};z.clear=function(a){if(!Xa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};
z.Un=function(a,b){z.contains(a,b)||a.push(b)};z.Bi=function(a,b,c){z.splice(a,c,0,b)};z.Vn=function(a,b,c){hb(z.splice,a,c,0).apply(null,b)};z.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=z.indexOf(a,c))?a.push(b):z.Bi(a,b,d)};z.remove=function(a,b){b=z.indexOf(a,b);var c;(c=0<=b)&&z.xe(a,b);return c};z.Sp=function(a,b){b=z.lastIndexOf(a,b);return 0<=b?(z.xe(a,b),!0):!1};z.xe=function(a,b){return 1==Array.prototype.splice.call(a,b,1).length};
z.Rp=function(a,b,c){b=z.findIndex(a,b,c);return 0<=b?(z.xe(a,b),!0):!1};z.Pp=function(a,b,c){var d=0;z.ui(a,function(e,f){b.call(c,e,f,a)&&z.xe(a,f)&&d++});return d};z.concat=function(a){return Array.prototype.concat.apply([],arguments)};z.join=function(a){return Array.prototype.concat.apply([],arguments)};z.Oc=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};z.clone=z.Oc;
z.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(Ya(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};z.splice=function(a,b,c,d){return Array.prototype.splice.apply(a,z.slice(arguments,1))};z.slice=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};
z.Qp=function(a,b,c){b=b||a;var d=function(k){return $a(k)?"o"+(k[bb]||(k[bb]=++db)):(typeof k).charAt(0)+k};c=c||d;d={};for(var e=0,f=0;f<a.length;){var g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g)}b.length=e};z.Wh=function(a,b,c){return z.Xh(a,c||z.sd,!1,b)};z.om=function(a,b,c){return z.Xh(a,b,!0,void 0,c)};z.Xh=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var k=f+g>>1,l;c?l=b.call(e,a[k],k,a):l=b(d,a[k]);0<l?f=k+1:(g=k,h=!l)}return h?f:~f};
z.sort=function(a,b){a.sort(b||z.sd)};z.Sq=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||z.sd;z.sort(c,function(f,g){return e(f.value,g.value)||f.index-g.index});for(d=0;d<a.length;d++)a[d]=c[d].value};z.Wk=function(a,b,c){var d=c||z.sd;z.sort(a,function(e,f){return d(b(e),b(f))})};z.Jq=function(a,b,c){z.Wk(a,function(d){return d[b]},c)};z.Zn=function(a,b,c){b=b||z.sd;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};
z.equals=function(a,b,c){if(!Ya(a)||!Ya(b)||a.length!=b.length)return!1;var d=a.length;c=c||z.qk;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};z.zm=function(a,b,c){c=c||z.sd;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return z.sd(a.length,b.length)};z.sd=function(a,b){return a>b?1:a<b?-1:0};z.Xn=function(a,b){return-z.sd(a,b)};z.qk=function(a,b){return a===b};z.km=function(a,b,c){c=z.Wh(a,b,c);return 0>c?(z.Bi(a,b,-(c+1)),!0):!1};
z.nm=function(a,b,c){b=z.Wh(a,b,c);return 0<=b?z.xe(a,b):!1};z.rm=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);Oa(g)&&(d[g]||(d[g]=[])).push(f)}return d};z.Ge=function(a,b,c){var d={};z.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};z.Sk=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};z.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};
z.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Xa(d))for(var e=0;e<d.length;e+=8192){var f=z.slice(d,e,e+8192);f=z.flatten.apply(null,f);for(var g=0;g<f.length;g++)b.push(f[g])}else b.push(d)}return b};z.rotate=function(a,b){a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b)));return a};z.Po=function(a,b,c){b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};
z.il=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};z.shuffle=function(a,b){b=b||Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};z.Sm=function(a,b){var c=[];z.forEach(b,function(d){c.push(a[d])});return c};
z.Km=function(a,b,c){return z.concat.apply([],z.map(a,b,c))};var mb=function(a,b,c){return a+c*(b-a)};var nb=function(a,b){this.x=Oa(a)?a:0;this.y=Oa(b)?b:0};n=nb.prototype;n.clone=function(){return new nb(this.x,this.y)};n.equals=function(a){return a instanceof nb&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};n.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};n.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};n.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
n.scale=function(a,b){b=Qa(b)?b:a;this.x*=a;this.y*=b;return this};var ob=function(a){this.U=a;this.o=!1;this.j=[]};ob.prototype.i=function(){if(!this.o){this.o=!0;for(var a=0,b;b=this.j[a];a++)b()}};ob.prototype.hf=function(){return this.o};var rb=function(a,b){a.o?b():a.j.push(b)},sb=function(a){ob.call(this,a);this.image=new Image};kb(sb,ob);sb.prototype.preload=function(){if(!this.image.src){var a=this;this.image.onload=function(){a.i()};this.image.src=this.U;(this.image.complete||"complete"==this.image.readyState)&&this.i()}};var vb=function(a){var b=new Image;b.onerror=b.onload=b.onabort=function(){delete tb[ub]};tb[ub]=b;b.src="/gen_204?atyp=i&ct=doodle&cad="+a+"&zx="+ib();ub++},tb=[],ub=0;var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},xb=function(a,b){return-1!=a.indexOf(b)},yb=function(a,b){return a<b?-1:a>b?1:0};var zb=function(a,b){this.i={};this.g=[];this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("d");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof zb)for(c=a.Xc(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])};zb.prototype.Kc=function(){Ab(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.i[this.g[b]]);return a};zb.prototype.Xc=function(){Ab(this);return this.g.concat()};
zb.prototype.equals=function(a,b){if(this===a)return!0;if(this.o!=a.o)return!1;b=b||Bb;Ab(this);for(var c,d=0;c=this.g[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Bb=function(a,b){return a===b};zb.prototype.jg=function(){return 0==this.o};zb.prototype.clear=function(){this.i={};this.o=this.g.length=0};zb.prototype.remove=function(a){return Cb(this.i,a)?(delete this.i[a],this.o--,this.g.length>2*this.o&&Ab(this),!0):!1};
var Ab=function(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];Cb(a.i,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){var e={};for(c=b=0;b<a.g.length;)d=a.g[b],Cb(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}};n=zb.prototype;n.get=function(a,b){return Cb(this.i,a)?this.i[a]:b};n.set=function(a,b){Cb(this.i,a)||(this.o++,this.g.push(a));this.i[a]=b};n.forEach=function(a,b){for(var c=this.Xc(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};n.clone=function(){return new zb(this)};
n.Ya=function(){for(var a=new zb,b=0;b<this.g.length;b++){var c=this.g[b];a.set(this.i[c],c)}return a};n.Ge=function(){Ab(this);for(var a={},b=0;b<this.g.length;b++){var c=this.g[b];a[c]=this.i[c]}return a};var Cb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Db=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Fb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Eb.length;f++)c=Eb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Gb=function(a){if(a.Kc&&"function"==typeof a.Kc)return a.Kc();if(Pa(a))return a.split("");if(Ya(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b},Hb=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(Ya(a)||Pa(a))z.forEach(a,b,c);else{if(a.Xc&&"function"==typeof a.Xc)var d=a.Xc();else if(a.Kc&&"function"==typeof a.Kc)d=void 0;else if(Ya(a)||Pa(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else for(f in d=
[],e=0,a)d[e++]=f;e=Gb(a);f=e.length;for(var g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var Kb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Lb=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var Mb=function(a){this.o=this.v=this.H="";this.T=null;this.j=this.i="";this.U=!1;var b;a instanceof Mb?(this.U=Oa(void 0)?void 0:a.U,Ob(this,a.H),this.v=a.v,this.o=a.o,Pb(this,a.T),this.i=a.i,Qb(this,a.g.clone()),this.j=a.j):a&&(b=String(a).match(Kb))?(this.U=!1,Ob(this,b[1]||"",!0),this.v=Rb(b[2]||""),this.o=Rb(b[3]||"",!0),Pb(this,b[4]),this.i=Rb(b[5]||"",!0),Qb(this,b[6]||"",!0),this.j=Rb(b[7]||"")):(this.U=!1,this.g=new Sb(null,this.U))};
Mb.prototype.toString=function(){var a=[],b=this.H;b&&a.push(Tb(b,Ub,!0),":");var c=this.o;if(c||"file"==b)a.push("//"),(b=this.v)&&a.push(Tb(b,Ub,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.T,null!=c&&a.push(":",String(c));if(c=this.i)this.o&&"/"!=c.charAt(0)&&a.push("/"),a.push(Tb(c,"/"==c.charAt(0)?Vb:Wb,!0));(c=this.g.toString())&&a.push("?",c);(c=this.j)&&a.push("#",Tb(c,Xb));return a.join("")};
Mb.prototype.resolve=function(a){var b=this.clone(),c=!!a.H;c?Ob(b,a.H):c=!!a.v;c?b.v=a.v:c=!!a.o;c?b.o=a.o:c=null!=a.T;var d=a.i;if(c)Pb(b,a.T);else if(c=!!a.i){if("/"!=d.charAt(0))if(this.o&&!this.i)d="/"+d;else{var e=b.i.lastIndexOf("/");-1!=e&&(d=b.i.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(xb(e,"./")||xb(e,"/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),
d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?b.i=d:c=""!==a.g.toString();c?Qb(b,a.g.clone()):c=!!a.j;c&&(b.j=a.j);return b};Mb.prototype.clone=function(){return new Mb(this)};
var Ob=function(a,b,c){a.H=c?Rb(b,!0):b;a.H&&(a.H=a.H.replace(/:$/,""))},Pb=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("e`"+b);a.T=b}else a.T=null},Qb=function(a,b,c){b instanceof Sb?(a.g=b,Yb(a.g,a.U)):(c||(b=Tb(b,Zb)),a.g=new Sb(b,a.U))},Rb=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Tb=function(a,b,c){return Pa(a)?(a=encodeURI(a).replace(b,$b),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},$b=function(a){a=a.charCodeAt(0);return"%"+
(a>>4&15).toString(16)+(a&15).toString(16)},Ub=/[#\/\?@]/g,Wb=/[#\?:]/g,Vb=/[#\?]/g,Zb=/[#\?@]/g,Xb=/#/g,Sb=function(a,b){this.i=this.g=null;this.o=a||null;this.H=!!b},ac=function(a){a.g||(a.g=new zb,a.i=0,a.o&&Lb(a.o,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};Sb.prototype.add=function(a,b){ac(this);this.o=null;a=bc(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.i+=1;return this};
Sb.prototype.remove=function(a){ac(this);a=bc(this,a);return Cb(this.g.i,a)?(this.o=null,this.i-=this.g.get(a).length,this.g.remove(a)):!1};Sb.prototype.clear=function(){this.g=this.o=null;this.i=0};Sb.prototype.jg=function(){ac(this);return 0==this.i};var dc=function(a,b){ac(a);b=bc(a,b);return Cb(a.g.i,b)};n=Sb.prototype;n.forEach=function(a,b){ac(this);this.g.forEach(function(c,d){z.forEach(c,function(e){a.call(b,e,d,this)},this)},this)};
n.Xc=function(){ac(this);for(var a=this.g.Kc(),b=this.g.Xc(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};n.Kc=function(a){ac(this);var b=[];if(Pa(a))dc(this,a)&&(b=z.concat(b,this.g.get(bc(this,a))));else{a=this.g.Kc();for(var c=0;c<a.length;c++)b=z.concat(b,a[c])}return b};n.set=function(a,b){ac(this);this.o=null;a=bc(this,a);dc(this,a)&&(this.i-=this.g.get(a).length);this.g.set(a,[b]);this.i+=1;return this};
n.get=function(a,b){if(!a)return b;a=this.Kc(a);return 0<a.length?String(a[0]):b};n.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.Xc(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Kc(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.o=a.join("&")};n.clone=function(){var a=new Sb;a.o=this.o;this.g&&(a.g=this.g.clone(),a.i=this.i);return a};
var bc=function(a,b){b=String(b);a.H&&(b=b.toLowerCase());return b},Yb=function(a,b){b&&!a.H&&(ac(a),a.o=null,a.g.forEach(function(c,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<c.length&&(this.o=null,this.g.set(bc(this,e),z.clone(c)),this.i+=c.length))},a));a.H=b};Sb.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Hb(arguments[b],function(c,d){this.add(d,c)},this)};var ec=navigator.userAgent,fc=new Mb(location.href),gc=xb(ec,"iPad")||xb(ec,"iPhone")||xb(ec,"iPod"),hc=xb(ec.toLowerCase(),"gsa"),ic=hc&&gc,jc=hc&&!gc,kc=xb(ec,"Gbot"),lc=gc||xb(ec,"Android")||xb(ec,"Mobile")||xb(ec,"Silk")||xb(ec,"UCBrowser")||xb(ec,"UCWEB"),mc=!!document.querySelector("body.hp"),pc=xb(ec,"MSIE"),qc=xb(fc.i,"/logos/")&&xb(fc.i,".html"),sc=function(){return!!document.getElementById("fkbx")||rc()},rc=function(){return"1"==fc.g.get("ntp")},tc=function(){return"1"==fc.g.get("fpdoodle")&&
!!document.getElementById("fpdoodle")},uc=function(){return!!document.querySelector("body#iframedoodle")};var vc=function(a){if(a.classList)return a.classList;a=a.className;return Pa(a)&&a.match(/\S+/g)||[]},wc=function(a,b){return a.classList?a.classList.contains(b):z.contains(vc(a),b)},xc=function(a,b){a.classList?a.classList.remove(b):wc(a,b)&&(a.className=z.filter(vc(a),function(c){return c!=b}).join(" "))},yc=function(a,b,c){wc(a,b)&&(xc(a,b),a.classList?a.classList.add(c):wc(a,c)||(a.className+=0<a.className.length?" "+c:c))};var Bc=function(a,b){this.g=a===zc&&b||"";this.i=Ac};Bc.prototype.eg=!0;Bc.prototype.$f=function(){return this.g};Bc.prototype.toString=function(){return"Const{"+this.g+"}"};var Ac={},zc={};var Cc=/[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0900-\u1fff\u200e\u2c00-\ud801\ud804-\ud839\ud83c-\udbff\uf900-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Dc=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0900-\u1fff\u200e\u2c00-\ud801\ud804-\ud839\ud83c-\udbff\uf900-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc]/,Ec=/^http:\/\/.*/,Fc=/\s+/,Gc=/[\d\u06f0-\u06f9]/,Hc=function(a){var b=0,c=0,d=!1;
a=a.split(Fc);for(var e=0;e<a.length;e++){var f=a[e];Dc.test(f)?(b++,c++):Ec.test(f)?d=!0:Cc.test(f)?c++:Gc.test(f)&&(d=!0)}return 0==c?d?1:0:.4<b/c?-1:1};var Jc=function(){this.g="";this.i=Ic};Jc.prototype.eg=!0;Jc.prototype.$f=function(){return this.g.toString()};var Kc=function(a){if(a instanceof Jc&&a.constructor===Jc&&a.i===Ic)return a.g;Wa(a);return"type_error:TrustedResourceUrl"},Mc=function(){var a=new Jc,b=Lc;a.g=b instanceof Bc&&b.constructor===Bc&&b.i===Ac?b.g:"type_error:Const";return a},Ic={};var Pc=function(){this.g="";this.i=Nc};Pc.prototype.eg=!0;Pc.prototype.$f=function(){return this.g.toString()};var Qc=function(a){if(a instanceof Pc&&a.constructor===Pc&&a.i===Nc)return a.g;Wa(a);return"type_error:SafeUrl"},Rc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Tc=function(a){if(a instanceof Pc)return a;a="object"==typeof a&&a.eg?a.$f():String(a);Rc.test(a)||(a="about:invalid#zClosurez");return Sc(a)},Nc={},Sc=function(a){var b=new Pc;b.g=a;return b};Sc("about:blank");var Uc;a:{var Vc=Na.navigator;if(Vc){var Wc=Vc.userAgent;if(Wc){Uc=Wc;break a}}Uc=""}var Xc=function(a){return xb(Uc,a)};var Yc=function(a,b){a.src=Kc(b);if(null===Sa)b:{b=Na.document;if((b=b.querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&Ra.test(b)){Sa=b;break b}Sa=""}b=Sa;b&&a.setAttribute("nonce",b)},Zc=function(a){a=a instanceof Pc?a:Tc(a);window.open(Qc(a),"",void 0,void 0)};var $c=function(a,b){for(var c=1;c<arguments.length;c+=2){var d=arguments[c],e=arguments[c+1],f=a.style;f&&d in f?f[d]=e:d in a?a[d]=e:pc&&f&&"opacity"==d&&(a.zoom=1,d=(f.filter||"").replace(/alpha\([^)]*\)/,""),isNaN(parseFloat(e))||(d+="alpha(opacity="+100*e+")"),f.filter=d)}},ad=function(){return self.performance&&self.performance.now?self.performance.now():ib()},bd=["Moz","ms","O","webkit"],cd=function(a,b,c){for(var d=0,e;e=bd[d++];)a.style[e+b]=c;a.style[b.charAt(0).toLowerCase()+b.substr(1)]=
c},dd=["","moz","ms","o","webkit"],gd=function(a,b){if(!a)return null;for(var c=0;c<dd.length;c++){var d=dd[c],e=b;0<d.length&&(e=b.charAt(0).toUpperCase()+b.substr(1));d+=e;if("undefined"!=typeof a[d])return d}return null},hd=function(a,b){var c=window.google?window.google.doodle:null;return c&&void 0!=c[a]?c[a]:b},jd=function(a,b){a=hd("doodle_args",{})[a];return null!=a?a:b},kd=function(){return!!jd("is_dogfood",!1)},ld=hd("alt",""),md=hd("hl","en"),nd=hd("gl",""),od=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i.test(md),
qd=function(){var a=void 0;var b=hd("msgs",{});Oa(a)||(a="Share Link Copied");a=b["Share Link Copied"]||pd()||a;b=Hc(a);return 1==b?"\u202a"+a+"\u202c":-1==b?"\u202b"+a+"\u202c":a},pd=function(){var a=hd("alltranslations",{});if(!a)return"";var b=a.messages;a=a.translations;if(!b||!a)return"";for(var c=-1,d=0;d<b.length;d++)if("Share Link Copied"==b[d]){c=d;break}return-1==c?"":(a[md]||a.en).ALL[c]},sd=function(a,b,c){var d=Math.max(0,c-230)+(document.querySelector("div.og-pdp")?36:12);$c(a,"width",
b+"px","height",c+"px");rd(d)},rd=function(a){a+="px";var b=document.getElementById("lga");b&&$c(b,"marginBottom",a);if(!sc()){b=document.getElementById("searchform");var c=document.getElementById("gb");b&&($c(b,"transform","translateY("+a+")"),$c(c,"transform","translateY(-"+a+")"),$c(c,"z-index","1"));a=document.createEvent("UIEvents");a.initUIEvent("resize",!1,!1,window,0);window.dispatchEvent(a)}},td=null,ud=null,vd=null,wd=function(){vd||(window.google&&window.google.kEI&&window.google.kEI.length?
vd=window.google.kEI:uc()&&dc(fc.g,"ei")&&(vd=fc.g.get("ei")));return vd},xd=function(){if(!td){var a=document.getElementById("hplogoved");a?td=a.getAttribute("data-ved"):uc()&&dc(fc.g,"ved")&&(td=fc.g.get("ved"))}return td};var yd=function(a,b){this.g=[];this.i=[];for(var c=0,d;d=b[c];c++){var e=new sb(a+d.filename);d=d.size;this.g.push(e);this.i.push(d)}};yd.prototype.preload=function(a,b){a=this.g[Qa(a)?a:a[0]];b&&rb(a,b);a.preload()};var zd=function(a,b){function c(){0==--e&&b&&b()}for(var d=[3,2,4,5,0],e=d.length,f=0;f<d.length;++f)a.preload(d[f],c)};n=yd.prototype;n.hf=function(){return this.g[Qa(void 0)?void 0:(void 0)[0]].hf()};n.lh=function(a){return this.g[Qa(a)?a:a[0]].image};n.mh=function(a){return a[3]};
n.xi=function(a){return a[4]};n.drawImage=function(a,b,c,d,e,f,g,h,k,l){var m=b[1],p=b[2],q=b[3],r=b[4];if(void 0==e){var u=m;var x=p;var v=q;var y=r;e=q;f=r}else void 0==g?(u=m,x=p,v=q,y=r):(u=m+c,x=p+d,v=e,y=f,c=g,d=h,e=k,f=l);u<m&&(l=m-u,u=m,v-=l,c+=l,e-=l);x<p&&(l=p-x,x=p,y-=l,d+=l,f-=l);u+v>m+q&&(l=u+v-(m+q),v-=l,e-=l);x+y>p+r&&(l=x+y-(p+r),y-=l,f-=l);b=this.g[Qa(b)?b:b[0]];if(!b.hf())throw Error("g");0<v&&0<y&&a.drawImage(b.image,u,x,v,y,c,d,e,f)};var Ad=function(){this.v=this.v;this.U=this.U};Ad.prototype.v=!1;Ad.prototype.ig=function(){return this.v};Ad.prototype.dispose=function(){this.v||(this.v=!0,this.i())};var Bd=function(a,b){a.v?Oa(void 0)?b.call(void 0):b():(a.U||(a.U=[]),a.U.push(Oa(void 0)?gb(b,void 0):b))};Ad.prototype.i=function(){if(this.U)for(;this.U.length;)this.U.shift()()};var Cd=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var Dd=function(a,b){this.type=a;this.g=this.target=b;this.i=!1;this.hj=!0};Dd.prototype.stopPropagation=function(){this.i=!0};Dd.prototype.preventDefault=function(){this.hj=!1};var Ed=function(a){Ed[" "](a);return a};Ed[" "]=Ta;var Hd=function(a,b){var c=Fd;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Id=Xc("Opera"),Jd=Xc("Trident")||Xc("MSIE"),Kd=Xc("Edge"),Ld=Xc("Gecko")&&!(xb(Uc.toLowerCase(),"webkit")&&!Xc("Edge"))&&!(Xc("Trident")||Xc("MSIE"))&&!Xc("Edge"),Md=xb(Uc.toLowerCase(),"webkit")&&!Xc("Edge"),Nd=function(){var a=Na.document;return a?a.documentMode:void 0},Od;
a:{var Pd="",Qd=function(){var a=Uc;if(Ld)return/rv:([^\);]+)(\)|;)/.exec(a);if(Kd)return/Edge\/([\d\.]+)/.exec(a);if(Jd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Md)return/WebKit\/(\S+)/.exec(a);if(Id)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Qd&&(Pd=Qd?Qd[1]:"");if(Jd){var Rd=Nd();if(null!=Rd&&Rd>parseFloat(Pd)){Od=String(Rd);break a}}Od=Pd}
var Sd=Od,Fd={},Td=function(a){return Hd(a,function(){for(var b=0,c=wb(String(Sd)).split("."),d=wb(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=yb(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||yb(0==g[2].length,0==h[2].length)||yb(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})},Ud;var Vd=Na.document;
Ud=Vd&&Jd?Nd()||("CSS1Compat"==Vd.compatMode?parseInt(Sd,10):5):void 0;var Wd=!Jd||9<=Number(Ud),Xd=Jd&&!Td("9");!Md||Td("528");Ld&&Td("1.9b")||Jd&&Td("8")||Id&&Td("9.5")||Md&&Td("528");Ld&&!Td("8")||Jd&&Td("9");var Yd=function(){if(!Na.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Na.addEventListener("test",Ta,b),Na.removeEventListener("test",Ta,b)}catch(c){}return a}();var $d=function(a,b){Dd.call(this,a?a.type:"");this.relatedTarget=this.g=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.o=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.g=b;if(b=a.relatedTarget){if(Ld){a:{try{Ed(b.nodeName);var e=!0;break a}catch(f){}e=
!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=
a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=Pa(a.pointerType)?a.pointerType:Zd[a.pointerType]||"";this.state=a.state;this.o=a;a.defaultPrevented&&this.preventDefault()}};kb($d,Dd);var Zd={2:"touch",3:"pen",4:"mouse"};$d.prototype.stopPropagation=function(){$d.De.stopPropagation.call(this);this.o.stopPropagation?this.o.stopPropagation():this.o.cancelBubble=!0};
$d.prototype.preventDefault=function(){$d.De.preventDefault.call(this);var a=this.o;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Xd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ae="closure_listenable_"+(1E6*Math.random()|0),be=0;var ce=function(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.capture=!!d;this.ag=e;this.key=++be;this.ye=this.Wf=!1},de=function(a){a.ye=!0;a.listener=null;a.g=null;a.src=null;a.ag=null};var ee=function(a){this.src=a;this.g={};this.i=0};ee.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.i++);var g=fe(a,b,d,e);-1<g?(b=a[g],c||(b.Wf=!1)):(b=new ce(b,this.src,f,!!d,e),b.Wf=c,a.push(b));return b};ee.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=fe(e,b,c,d);return-1<b?(de(e[b]),z.xe(e,b),0==e.length&&(delete this.g[a],this.i--),!0):!1};
var ge=function(a,b){var c=b.type;c in a.g&&z.remove(a.g[c],b)&&(de(b),0==a.g[c].length&&(delete a.g[c],a.i--))},fe=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ye&&f.listener==b&&f.capture==!!c&&f.ag==d)return e}return-1};var he="closure_lm_"+(1E6*Math.random()|0),ie={},ke=0,me=function(a,b,c,d,e){if(d&&d.once)le(a,b,c,d,e);else if(Xa(b))for(var f=0;f<b.length;f++)me(a,b[f],c,d,e);else c=ne(c),a&&a[ae]?a.o.add(String(b),c,!1,$a(d)?!!d.capture:!!d,e):oe(a,b,c,!1,d,e)},oe=function(a,b,c,d,e,f){if(!b)throw Error("h");var g=$a(e)?!!e.capture:!!e,h=pe(a);h||(a[he]=h=new ee(a));c=h.add(b,c,d,g,f);if(c.g)return c;d=qe();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)Yd||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(re(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("i");ke++;return c},qe=function(){var a=se,b=Wd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},le=function(a,b,c,d,e){if(Xa(b)){for(var f=0;f<b.length;f++)le(a,b[f],c,d,e);return null}c=ne(c);return a&&a[ae]?a.o.add(String(b),c,!0,$a(d)?!!d.capture:!!d,e):oe(a,b,c,!0,d,e)},te=function(a,b,c,d,e){if(Xa(b))for(var f=
0;f<b.length;f++)te(a,b[f],c,d,e);else(d=$a(d)?!!d.capture:!!d,c=ne(c),a&&a[ae])?a.o.remove(String(b),c,d,e):a&&(a=pe(a))&&(b=a.g[b.toString()],a=-1,b&&(a=fe(b,c,d,e)),(c=-1<a?b[a]:null)&&ue(c))},ue=function(a){if(!Qa(a)&&a&&!a.ye){var b=a.src;if(b&&b[ae])ge(b.o,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(re(c),d):b.addListener&&b.removeListener&&b.removeListener(d);ke--;(c=pe(b))?(ge(c,a),0==c.i&&(c.src=null,b[he]=null)):de(a)}}},
re=function(a){return a in ie?ie[a]:ie[a]="on"+a},we=function(a,b,c,d){var e=!0;if(a=pe(a))if(b=a.g[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.ye&&(f=ve(f,d),e=e&&!1!==f)}return e},ve=function(a,b){var c=a.listener,d=a.ag||a.src;a.Wf&&ue(a);return c.call(d,b)},se=function(a,b){if(a.ye)return!0;if(!Wd){if(!b)a:{b=["window","event"];for(var c=Na,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new $d(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=
!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.g;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.i&&0<=e;e--){b.g=d[e];var f=we(d[e],a,!0,b);c=c&&f}for(e=0;!b.i&&e<d.length;e++)b.g=d[e],f=we(d[e],a,!1,b),c=c&&f}return c}return ve(a,new $d(b,this))},pe=function(a){a=a[he];return a instanceof ee?a:null},xe="__closure_events_fn_"+(1E9*Math.random()>>>0),ne=function(a){if(Za(a))return a;a[xe]||(a[xe]=function(b){return a.handleEvent(b)});
return a[xe]};var ye=function(){Ad.call(this);this.o=new ee(this);this.Ea=this;this.Fa=null};kb(ye,Ad);ye.prototype[ae]=!0;ye.prototype.addEventListener=function(a,b,c,d){me(this,a,b,c,d)};ye.prototype.removeEventListener=function(a,b,c,d){te(this,a,b,c,d)};
var Ae=function(a,b){var c,d=a.Fa;if(d)for(c=[];d;d=d.Fa)c.push(d);a=a.Ea;d=b.type||b;if(Pa(b))b=new Dd(b,a);else if(b instanceof Dd)b.target=b.target||a;else{var e=b;b=new Dd(d,a);Fb(b,e)}e=!0;if(c)for(var f=c.length-1;!b.i&&0<=f;f--){var g=b.g=c[f];e=ze(g,d,!0,b)&&e}b.i||(g=b.g=a,e=ze(g,d,!0,b)&&e,b.i||(e=ze(g,d,!1,b)&&e));if(c)for(f=0;!b.i&&f<c.length;f++)g=b.g=c[f],e=ze(g,d,!1,b)&&e};
ye.prototype.i=function(){ye.De.i.call(this);if(this.o){var a=this.o,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,de(d[e]);delete a.g[c];a.i--}}this.Fa=null};var ze=function(a,b,c,d){b=a.o.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ye&&g.capture==c){var h=g.listener,k=g.ag||g.src;g.Wf&&ge(a.o,g);e=!1!==h.call(k,d)&&e}}return e&&0!=d.hj};var Be=function(){};Be.prototype.g=null;Be.prototype.getOptions=function(){var a;(a=this.g)||(a={},Ce(this)&&(a[0]=!0,a[1]=!0),a=this.g=a);return a};var De,Ee=function(){};kb(Ee,Be);var Fe=function(a){return(a=Ce(a))?new ActiveXObject(a):new XMLHttpRequest},Ce=function(a){if(!a.i&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.i=d}catch(e){}}throw Error("j");}return a.i};De=new Ee;var Ge=function(a,b){this.o=a;this.H=b;this.i=0;this.g=null};Ge.prototype.get=function(){if(0<this.i){this.i--;var a=this.g;this.g=a.next;a.next=null}else a=this.o();return a};var He=function(a,b){a.H(b);100>a.i&&(a.i++,b.next=a.g,a.g=b)};var Ie=function(a){Na.setTimeout(function(){throw a;},0)},Je,Ke=function(){var a=Na.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Xc("Presto")&&(a=function(){var e=document.createElement("IFRAME");e.style.display="none";e.src="";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write("");e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;
e=gb(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Xc("Trident")&&!Xc("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Oa(c.next)){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(e){var f=document.createElement("SCRIPT");f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){Na.setTimeout(e,0)}};var Le=function(){this.i=this.g=null},Ne=new Ge(function(){return new Me},function(a){a.reset()});Le.prototype.add=function(a,b){var c=Ne.get();c.set(a,b);this.i?this.i.next=c:this.g=c;this.i=c};Le.prototype.remove=function(){var a=null;this.g&&(a=this.g,this.g=this.g.next,this.g||(this.i=null),a.next=null);return a};var Me=function(){this.next=this.i=this.g=null};Me.prototype.set=function(a,b){this.g=a;this.i=b;this.next=null};Me.prototype.reset=function(){this.next=this.i=this.g=null};var Se=function(a,b){Oe||Pe();Qe||(Oe(),Qe=!0);Re.add(a,b)},Oe,Pe=function(){if(Na.Promise&&Na.Promise.resolve){var a=Na.Promise.resolve(void 0);Oe=function(){a.then(Te)}}else Oe=function(){var b=Te;!Za(Na.setImmediate)||Na.Window&&Na.Window.prototype&&!Xc("Edge")&&Na.Window.prototype.setImmediate==Na.setImmediate?(Je||(Je=Ke()),Je(b)):Na.setImmediate(b)}},Qe=!1,Re=new Le,Te=function(){for(var a;a=Re.remove();){try{a.g.call(a.i)}catch(b){Ie(b)}He(Ne,a)}Qe=!1};var Ue=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var We=function(a){this.g=0;this.v=void 0;this.H=this.i=this.o=null;this.j=this.U=!1;if(a!=Ta)try{var b=this;a.call(void 0,function(c){Ve(b,2,c)},function(c){Ve(b,3,c)})}catch(c){Ve(this,3,c)}},Xe=function(){this.next=this.o=this.i=this.H=this.g=null;this.j=!1};Xe.prototype.reset=function(){this.o=this.i=this.H=this.g=null;this.j=!1};var Ye=new Ge(function(){return new Xe},function(a){a.reset()}),Ze=function(a,b,c){var d=Ye.get();d.H=a;d.i=b;d.o=c;return d};
We.prototype.then=function(a,b,c){return $e(this,Za(a)?a:null,Za(b)?b:null,c)};We.prototype.$goog_Thenable=!0;We.prototype.cancel=function(a){0==this.g&&Se(function(){var b=new af(a);bf(this,b)},this)};
var bf=function(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.i){for(var d=0,e=null,f=null,g=c.i;g&&(g.j||(d++,g.g==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.g&&1==d?bf(c,b):(f?(d=f,d.next==c.H&&(c.H=d),d.next=d.next.next):cf(c),df(c,e,3,b)))}a.o=null}else Ve(a,3,b)},ff=function(a,b){a.i||2!=a.g&&3!=a.g||ef(a);a.H?a.H.next=b:a.i=b;a.H=b},$e=function(a,b,c,d){var e=Ze(null,null,null);e.g=new We(function(f,g){e.H=b?function(h){try{var k=b.call(d,h);f(k)}catch(l){g(l)}}:f;e.i=c?function(h){try{var k=c.call(d,
h);!Oa(k)&&h instanceof af?g(h):f(k)}catch(l){g(l)}}:g});e.g.o=a;ff(a,e);return e.g};We.prototype.Ca=function(a){this.g=0;Ve(this,2,a)};We.prototype.R=function(a){this.g=0;Ve(this,3,a)};
var Ve=function(a,b,c){if(0==a.g){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.g=1;a:{var d=c,e=a.Ca,f=a.R;if(d instanceof We){ff(d,Ze(e||Ta,f||null,a));var g=!0}else if(Ue(d))d.then(e,f,a),g=!0;else{if($a(d))try{var h=d.then;if(Za(h)){gf(d,h,e,f,a);g=!0;break a}}catch(k){f.call(a,k);g=!0;break a}g=!1}}g||(a.v=c,a.g=b,a.o=null,ef(a),3!=b||c instanceof af||hf(a,c))}},gf=function(a,b,c,d,e){var f=!1,g=function(k){f||(f=!0,c.call(e,k))},h=function(k){f||(f=!0,d.call(e,k))};try{b.call(a,
g,h)}catch(k){h(k)}},ef=function(a){a.U||(a.U=!0,Se(a.T,a))},cf=function(a){var b=null;a.i&&(b=a.i,a.i=b.next,b.next=null);a.i||(a.H=null);return b};We.prototype.T=function(){for(var a;a=cf(this);)df(this,a,this.g,this.v);this.U=!1};
var df=function(a,b,c,d){if(3==c&&b.i&&!b.j)for(;a&&a.j;a=a.o)a.j=!1;if(b.g)b.g.o=null,jf(b,c,d);else try{b.j?b.H.call(b.o):jf(b,c,d)}catch(e){kf.call(null,e)}He(Ye,b)},jf=function(a,b,c){2==b?a.H.call(a.o,c):a.i&&a.i.call(a.o,c)},hf=function(a,b){a.j=!0;Se(function(){a.j&&kf.call(null,b)})},kf=Ie,af=function(a){lb.call(this,a)};kb(af,lb);af.prototype.name="cancel";var lf=function(a,b,c){if(Za(a))c&&(a=gb(a,c));else if(a&&"function"==typeof a.handleEvent)a=gb(a.handleEvent,a);else throw Error("k");return 2147483647<Number(b)?-1:Na.setTimeout(a,b||0)};var mf=function(a){ye.call(this);this.headers=new zb;this.Ka=a||null;this.H=!1;this.R=this.g=null;this.W="";this.j=this.S=this.T=this.Qa=!1;this.Sa=0;this.Ca=null;this.$="";this.va=this.Ba=!1};kb(mf,ye);var nf=/^https?$/i,of=["POST","PUT"],pf=[],qf=function(a,b){var c=new mf;pf.push(c);b&&c.o.add("complete",b,!1,void 0,void 0);c.o.add("ready",c.Ma,!0,void 0,void 0);c.send(a,void 0,void 0,void 0);return c};mf.prototype.Ma=function(){this.dispose();z.remove(pf,this)};
mf.prototype.send=function(a,b,c,d){if(this.g)throw Error("l`"+this.W+"`"+a);b=b?b.toUpperCase():"GET";this.W=a;this.Qa=!1;this.H=!0;this.g=this.Ka?Fe(this.Ka):Fe(De);this.R=this.Ka?this.Ka.getOptions():De.getOptions();this.g.onreadystatechange=gb(this.wa,this);try{this.S=!0,this.g.open(b,String(a),!0),this.S=!1}catch(f){uf(this);return}a=c||"";var e=this.headers.clone();d&&Hb(d,function(f,g){e.set(g,f)});d=z.find(e.Xc(),vf);c=Na.FormData&&a instanceof Na.FormData;!z.contains(of,b)||d||c||e.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(f,g){this.g.setRequestHeader(g,f)},this);this.$&&(this.g.responseType=this.$);"withCredentials"in this.g&&this.g.withCredentials!==this.Ba&&(this.g.withCredentials=this.Ba);try{wf(this),0<this.Sa&&((this.va=xf(this.g))?(this.g.timeout=this.Sa,this.g.ontimeout=gb(this.Nc,this)):this.Ca=lf(this.Nc,this.Sa,this)),this.T=!0,this.g.send(a),this.T=!1}catch(f){uf(this)}};
var xf=function(a){return Jd&&Td(9)&&Qa(a.timeout)&&Oa(a.ontimeout)},vf=function(a){return"content-type"==a.toLowerCase()};mf.prototype.Nc=function(){"undefined"!=typeof La&&this.g&&(Ae(this,"timeout"),this.abort(8))};var uf=function(a){a.H=!1;a.g&&(a.j=!0,a.g.abort(),a.j=!1);yf(a);zf(a)},yf=function(a){a.Qa||(a.Qa=!0,Ae(a,"complete"),Ae(a,"error"))};mf.prototype.abort=function(){this.g&&this.H&&(this.H=!1,this.j=!0,this.g.abort(),this.j=!1,Ae(this,"complete"),Ae(this,"abort"),zf(this))};
mf.prototype.i=function(){this.g&&(this.H&&(this.H=!1,this.j=!0,this.g.abort(),this.j=!1),zf(this,!0));mf.De.i.call(this)};mf.prototype.wa=function(){this.ig()||(this.S||this.T||this.j?Af(this):this.La())};mf.prototype.La=function(){Af(this)};
var Af=function(a){if(a.H&&"undefined"!=typeof La&&(!a.R[1]||4!=(a.g?a.g.readyState:0)||2!=Df(a)))if(a.T&&4==(a.g?a.g.readyState:0))lf(a.wa,0,a);else if(Ae(a,"readystatechange"),4==(a.g?a.g.readyState:0)){a.H=!1;try{Ef(a)?(Ae(a,"complete"),Ae(a,"success")):yf(a)}finally{zf(a)}}},zf=function(a,b){if(a.g){wf(a);var c=a.g,d=a.R[0]?Ta:null;a.g=null;a.R=null;b||Ae(a,"ready");try{c.onreadystatechange=d}catch(e){}}},wf=function(a){a.g&&a.va&&(a.g.ontimeout=null);a.Ca&&(Na.clearTimeout(a.Ca),a.Ca=null)},
Ef=function(a){var b=Df(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.W).match(Kb)[1]||null,!a&&Na.self&&Na.self.location&&(a=Na.self.location.protocol,a=a.substr(0,a.length-1)),b=!nf.test(a?a.toLowerCase():"");c=b}return c},Df=function(a){try{return 2<(a.g?a.g.readyState:0)?a.g.status:-1}catch(b){return-1}},Ff=function(a){try{return a.g?a.g.responseXML:null}catch(b){return null}};var Gf=function(a){ob.call(this,a);this.H=this.g=this.v=null};w(Gf,ob);Gf.prototype.preload=function(){var a=this;this.v||this.g||(this.g=qf(this.U,function(){return a.i()}))};Gf.prototype.i=function(){var a=this;this.g&&Ef(this.g)&&(this.v=Ff(this.g),this.g.dispose(),this.g=null,this.H=new Image,this.H.onload=function(){return ob.prototype.i.call(a)},this.H.src="data:image/svg+xml;utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(this.v)))};Gf.prototype.lh=function(){return this.H};var Hf=function(a,b){this.i=z.map(b,function(c){return new Gf(a+c)});this.g=new Map};Hf.prototype.preload=function(a,b){a=If(this,a);rb(a,b);a.preload()};var Jf=function(a,b){for(var c=[0],d=c.length,e=function(){0==--d&&b&&b()},f=0;f<c.length;++f)a.preload(c[f],e)},If=function(a,b){return"number"==typeof b?a.i[b]:a.i[b[0]]};Hf.prototype.xi=function(a){return a[4]};Hf.prototype.mh=function(a){return a[3]};
var Kf=function(a,b,c){var d=document.createElement("canvas"),e=a[3]+10,f=a[4]+10;d.width=Math.ceil(e*c);d.height=Math.ceil(f*c);var g=d.getContext("2d");g.scale(c,c);g.drawImage(b,a[1]-5,a[2]-5,e,f,0,0,e,f);return d};var Lf=function(){};Lf.prototype.i=function(){};Lf.prototype.g=function(){};var Mf=null;var Nf=function(a,b){this.width=a;this.height=b};n=Nf.prototype;n.clone=function(){return new Nf(this.width,this.height)};n.aspectRatio=function(){return this.width/this.height};n.jg=function(){return!(this.width*this.height)};n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};n.scale=function(a,b){b=Qa(b)?b:a;this.width*=a;this.height*=b;return this};var Of=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};n=Of.prototype;n.clone=function(){return new Of(this.left,this.top,this.width,this.height)};n.contains=function(a){return a instanceof nb?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};
n.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a,b){b=Qa(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};var Pf=function(a,b,c){this.x=Oa(a)?a:0;this.y=Oa(b)?b:0;this.g=Oa(c)?c:0};Pf.prototype.clone=function(){return new Pf(this.x,this.y,this.g)};Pf.prototype.Oc=function(){return[this.x,this.y,this.g]};var A=function(a,b,c){this.x=a;this.y=b;this.g=c};kb(A,Pf);A.prototype.clone=function(){return new A(this.x,this.y,this.g)};A.prototype.scale=function(a){this.x*=a;this.y*=a;this.g*=a;return this};A.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.g+=a.g;return this};A.prototype.equals=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.g==a.g};var Qf=function(a,b){return new A(a.x-b.x,a.y-b.y,a.g-b.g)},Rf=function(a,b,c){return new A(mb(a.x,b.x,c),mb(a.y,b.y,c),mb(a.g,b.g,c))};var Sf=768*1.2,Tf=lc?600:Sf,Uf=lc?338:518.4,Vf=new Of(0,0,1E3,1E3),Wf=new A(0,0,0),Xf=Wf;Object.isFrozen&&!Object.isFrozen(Wf)&&(Xf=Object.create(Wf),Object.freeze(Xf));var Yf=1/96;var $f=function(a,b,c){a=void 0===a?0:a;this.Ka=[];this.Qa=null;this.H=a instanceof A?a:new A(a,void 0===b?0:b,void 0===c?0:c);this.Le=new A(0,0,0);this.Th=new A(0,0,0);this.Sh=this.Ca=1;this.Vg=this.Ug=this.g=!0;this.Tg=new Zf;this.U=0},ag=function(a){return a.g&&(!a.Qa||ag(a.Qa))},bg=function(a,b){a.Ug=!0;a=t(a.Ka);for(var c=a.next();!c.done;c=a.next())bg(c.value,b)},cg=function(a,b){a.Vg=!0;a=t(a.Ka);for(var c=a.next();!c.done;c=a.next())cg(c.value,b)};$f.prototype.getParent=function(){return this.Qa};
var B=function(a,b){bg(a,!0);cg(a,!0);a.Qa&&z.remove(a.Qa.Ka,a);(a.Qa=b)&&a.Qa.Ka.push(a)},dg=function(a,b){B(b,a)};$f.prototype.removeChild=function(a){z.contains(this.Ka,a)&&B(a,null)};var fg=function(a){for(var b=t(a.Ka),c=b.next();!c.done;c=b.next())eg(c.value);a.Ka=[]},eg=function(a){B(a,null)};$f.prototype.i=function(a,b,c){bg(this,!0);a instanceof A?(this.H.x=a.x,this.H.y=a.y,this.H.g=a.g):(this.H.x=a,this.H.y=void 0===b?this.H.y:b,this.H.g=void 0===c?this.H.g:c)};
var gg=function(a,b){cg(a,!0);bg(a,!0);a.Ca=b},ig=function(a){a.Ug&&(a.Le.x=a.H.x,a.Le.y=a.H.y,a.Le.g=a.H.g,a.Qa&&a.Le.scale(hg(a.Qa)).add(ig(a.Qa)),a.Th=a.Le,a.Ug=!1);return a.Th},hg=function(a){if(a.Vg){var b=a.Qa?a.Ca*hg(a.Qa):a.Ca;a.Sh=b;a.Vg=!1}return a.Sh},jg=function(a,b){if(a.g){b(a);a=t(a.Ka);for(var c=a.next();!c.done;c=a.next())jg(c.value,b)}};$f.prototype.ha=function(){return new Nf(0,0)};$f.prototype.ub=function(){};
var kg=function(a){return a.Qa?a.U+kg(a.Qa):a.U},Zf=function(){this.g=0};var lg=function(){$f.call(this);this.T=!1};w(lg,$f);n=lg.prototype;n.ub=function(a){this.T||(this.T=!0,this.Zi());this.Dh(a);this.Rd()&&this.bc()};n.Dh=function(){};n.Zi=function(){};n.bc=function(){};n.Rd=function(){return!1};var mg=function(a,b,c){b=void 0===b?function(){}:b;c=void 0===c?function(){}:c;lg.call(this);this.o=0;this.R=a;b&&(this.Dh=b);this.bc=c};w(mg,lg);mg.prototype.Rd=function(){return this.o>=this.R};mg.prototype.ub=function(a){this.o+=a;lg.prototype.ub.call(this,a)};
var ng=function(a){lg.call(this);this.o=a};w(ng,lg);ng.prototype.ub=function(a){for(var b=t(this.o),c=b.next();!c.done;c=b.next())c=c.value,c.Rd()||c.ub(a);lg.prototype.ub.call(this,a)};ng.prototype.Rd=function(){for(var a=t(this.o),b=a.next();!b.done;b=a.next())if(!b.value.Rd())return!1;return!0};var pg=function(){$f.call(this);this.o=[];this.j=[]};w(pg,$f);pg.prototype.ub=function(a){if(0<this.o.length&&0<a){var b=this.o[0];b.ub(a);b.Rd()&&this.o.length&&this.o[0]===b&&this.o.shift()}for(b=0;b<this.j.length;b++)this.j[b].ub(a),this.j[b].Rd()&&this.j.splice(b--,1)};
var qg=function(a,b){Array.isArray(b)?a.o.push(new ng(b)):a.o.push(b)},rg=function(a,b,c){qg(a,new mg(b,function(){},void 0===c?function(){}:c))},sg=function(a){a.o=[]},tg=function(a){a.j=[]},vg=function(a,b){ug(a,new mg(300,function(){},void 0===b?function(){}:b))},ug=function(a,b){Array.isArray(b)?a.j.push(new ng(b)):a.j.push(b)};var xg=function(a,b,c,d,e,f){if(6==arguments.length)wg(this,a,b,c,d,e,f);else{if(0!=arguments.length)throw Error("m");this.g=this.i=1;this.H=this.o=this.j=this.U=0}};xg.prototype.clone=function(){return new xg(this.g,this.H,this.o,this.i,this.j,this.U)};var wg=function(a,b,c,d,e,f,g){if(!(Qa(b)&&Qa(c)&&Qa(d)&&Qa(e)&&Qa(f)&&Qa(g)))throw Error("n");a.g=b;a.H=c;a.o=d;a.i=e;a.j=f;a.U=g;return a};xg.prototype.scale=function(a,b){this.g*=a;this.H*=a;this.o*=b;this.i*=b;return this};
xg.prototype.rotate=function(a,b,c){var d=new xg,e=Math.cos(a);a=Math.sin(a);b=wg(d,e,a,-a,e,b-b*e+c*a,c-b*a-c*e);c=this.g;d=this.o;this.g=b.g*c+b.H*d;this.o=b.o*c+b.i*d;this.j+=b.j*c+b.U*d;c=this.H;d=this.i;this.H=b.g*c+b.H*d;this.i=b.o*c+b.i*d;this.U+=b.j*c+b.U*d;return this};xg.prototype.toString=function(){return"matrix("+[this.g,this.H,this.o,this.i,this.j,this.U].join()+")"};
xg.prototype.transform=function(a,b,c,d,e){var f=b;for(b+=2*e;f<b;){e=a[f++];var g=a[f++];c[d++]=e*this.g+g*this.o+this.j;c[d++]=e*this.H+g*this.i+this.U}};var yg=function(a){var b=a.g*a.i-a.o*a.H;return new xg(a.i/b,-a.H/b,-a.o/b,a.g/b,(a.o*a.U-a.i*a.j)/b,(a.H*a.j-a.g*a.U)/b)};xg.prototype.equals=function(a){return this==a?!0:a?this.g==a.g&&this.o==a.o&&this.j==a.j&&this.H==a.H&&this.i==a.i&&this.U==a.U:!1};var zg=function(a,b){b=void 0===b?new A(0,0,0):b;$f.call(this,b);this.o=a;this.j=new Map;this.T=new pg;B(this.T,this);this.v=.9*this.o.height};w(zg,$f);zg.prototype.ub=function(){this.v=.9*this.o.height};zg.prototype.i=function(a,b,c){$f.prototype.i.call(this,a,b,c);this.j.clear()};var Ag=function(a,b){var c=a.j.get(173*(103*b.x+b.y)+b.g);if(!c){c=Qf(b,ig(a));var d=c.y,e=c.g;c.x=c.x;c.y=d;c.g=e;a.j.set(173*(103*b.x+b.y)+b.g,c)}return c};var Bg=function(){};Bg.prototype.g=function(){};var Cg=function(a,b,c){$f.call(this,void 0===a?0:a,void 0===b?0:b,void 0===c?0:c);this.T=new xg;this.$b=new Of(0,0,0,0);this.Tc=new Nf(0,0);this.Tb=0;this.o=1;this.Bc=null;this.Sa=new nb(.5,.5);this.lc="source-over";this.ke=0};w(Cg,$f);var Dg=function(a,b,c){a.Sa.x=b;a.Sa.y=c};Cg.prototype.isVisible=function(){var a=this.Cc();return Vf.left<=a.left+a.width&&a.left<=Vf.left+Vf.width&&Vf.top<=a.top+a.height&&a.top<=Vf.top+Vf.height};
Cg.prototype.Sc=function(a){(this.T=a)&&Eg(this)&&this.T.rotate(-Eg(this),0,0)};var Fg=function(a,b,c,d,e){a.$b.left=b;a.$b.top=c;a.$b.width=d;a.$b.height=e};n=Cg.prototype;n.Cc=function(){return this.$b};n.Zf=function(){return ig(this).g};n.vd=function(){return this.ke};n.ha=function(){return this.Tc};n.setSize=function(a,b){a instanceof Nf?this.Tc=a.clone():(this.Tc.width=a,this.Tc.height=void 0===b?a:b)};
var Eg=function(a){return a.getParent()&&a.getParent()instanceof Cg?a.Tb+Eg(a.getParent()):a.Tb};n=Cg.prototype;n.qc=function(a){jg(this,function(b){b instanceof Cg&&(b.o=a)})};n.wg=function(a){if(!this.Fh(a))return!1;this.Yh();return this.isVisible()};n.Fh=function(a){var b=ig(this);a=new nb(b.x+a.o.width/2,b.y+a.o.height/2);this.T?wg(this.T,hg(this),0,0,hg(this),a.x,a.y):this.T=new xg(hg(this),0,0,hg(this),a.x,a.y);this.Sc(this.T);return!0};
n.Yh=function(){var a=this.T,b=this.ha().width*a.g,c=this.ha().height*a.i;Fg(this,a.j-this.Sa.x*b,a.U-this.Sa.y*c,b,c)};n.vb=function(){};var E=function(a,b,c){Cg.call(this,void 0===a?0:a,void 0===b?0:b,void 0===c?0:c);this.Ac=!1;this.je=0};w(E,Cg);E.prototype.Zf=function(a){return this.Ac?Cg.prototype.Zf.call(this,a):this.je};E.prototype.Fa=function(a){this.Ac=a};E.prototype.Fh=function(a){if(this.Ac)return Cg.prototype.Fh.call(this,a);this.je=Ag(a,ig(this)).g;var b=ig(this),c=hg(this);c=void 0===c?1:c;b=Ag(a,b);if(2>=b.g)a=null;else{var d=a.v/b.g;a=new xg(d*c,0,0,d*c,d*b.x+a.o.width/2,-1*d*b.y+a.o.height/2)}this.Sc(a);return!!a};
E.prototype.vb=function(){};!Ld&&!Jd||Jd&&9<=Number(Ud)||Ld&&Td("1.9.1");Jd&&Td("9");var Hg=function(a,b){Db(b,function(c,d){c&&"object"==typeof c&&c.eg&&(c=c.$f());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:Gg.hasOwnProperty(d)?a.setAttribute(Gg[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})},Gg={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",
width:"width"};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Jg=function(a){var b=Ig;this.j=[];this.Qa=b;this.Ka=a||null;this.H=this.g=!1;this.o=void 0;this.Ca=this.S=this.v=!1;this.U=0;this.i=null;this.T=0};Jg.prototype.cancel=function(a){if(this.g)this.o instanceof Jg&&this.o.cancel();else{if(this.i){var b=this.i;delete this.i;a?b.cancel(a):(b.T--,0>=b.T&&b.cancel())}this.Qa?this.Qa.call(this.Ka,this):this.Ca=!0;this.g||(a=new Kg(this),Lg(this),Mg(this,!1,a))}};Jg.prototype.R=function(a,b){this.v=!1;Mg(this,a,b)};
var Mg=function(a,b,c){a.g=!0;a.o=c;a.H=!b;Ng(a)},Lg=function(a){if(a.g){if(!a.Ca)throw new Rg(a);a.Ca=!1}},Sg=function(a,b,c,d){a.j.push([b,c,d]);a.g&&Ng(a)};Jg.prototype.then=function(a,b,c){var d,e,f=new We(function(g,h){d=g;e=h});Sg(this,d,function(g){g instanceof Kg?f.cancel():e(g)});return f.then(a,b,c)};Jg.prototype.$goog_Thenable=!0;
var Tg=function(a){return z.some(a.j,function(b){return Za(b[1])})},Ng=function(a){if(a.U&&a.g&&Tg(a)){var b=a.U,c=Vg[b];c&&(Na.clearTimeout(c.g),delete Vg[b]);a.U=0}a.i&&(a.i.T--,delete a.i);b=a.o;for(var d=c=!1;a.j.length&&!a.v;){var e=a.j.shift(),f=e[0],g=e[1];e=e[2];if(f=a.H?g:f)try{var h=f.call(e||a.Ka,b);Oa(h)&&(a.H=a.H&&(h==b||h instanceof Error),a.o=b=h);if(Ue(b)||"function"===typeof Na.Promise&&b instanceof Na.Promise)d=!0,a.v=!0}catch(k){b=k,a.H=!0,Tg(a)||(c=!0)}}a.o=b;d&&(h=gb(a.R,a,!0),
d=gb(a.R,a,!1),b instanceof Jg?(Sg(b,h,d),b.S=!0):b.then(h,d));c&&(b=new Wg(b),Vg[b.g]=b,a.U=b.g)},Rg=function(){lb.call(this)};kb(Rg,lb);Rg.prototype.message="Deferred has already fired";Rg.prototype.name="AlreadyCalledError";var Kg=function(){lb.call(this)};kb(Kg,lb);Kg.prototype.message="Deferred was canceled";Kg.prototype.name="CanceledError";var Wg=function(a){this.g=Na.setTimeout(gb(this.throwError,this),0);this.i=a};Wg.prototype.throwError=function(){delete Vg[this.g];throw this.i;};
var Vg={};var $g=function(){var a=Mc(),b={},c=b.document||document,d=Kc(a).toString(),e=document.createElement("SCRIPT"),f={jj:e,Nc:void 0},g=new Jg(f),h=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(h=window.setTimeout(function(){Xg(e,!0);var l=new Yg(1,"Timeout reached for loading script "+d);Lg(g);Mg(g,!1,l)},k),f.Nc=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Xg(e,b.vm||!1,h),Lg(g),Mg(g,!0,null))};e.onerror=function(){Xg(e,!0,h);var l=new Yg(0,
"Error while loading script "+d);Lg(g);Mg(g,!1,l)};f=b.attributes||{};Fb(f,{type:"text/javascript",charset:"UTF-8"});Hg(e,f);Yc(e,a);Zg(c).appendChild(e);return g},Zg=function(a){var b=(a||document).getElementsByTagName("HEAD");return!b||z.jg(b)?a.documentElement:b[0]},Ig=function(){if(this&&this.jj){var a=this.jj;a&&"SCRIPT"==a.tagName&&Xg(a,!0,this.Nc)}},Xg=function(a,b,c){null!=c&&Na.clearTimeout(c);a.onload=Ta;a.onerror=Ta;a.onreadystatechange=Ta;b&&window.setTimeout(function(){a&&a.parentNode&&
a.parentNode.removeChild(a)},0)},Yg=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);lb.call(this,c);this.code=a};kb(Yg,lb);var ah=function(a,b){this.o=b?1E3/b:0;this.g=null;this.i=a};ah.prototype.reset=function(){this.g=null};ah.prototype.call=function(a,b){0==this.o?b++:(b=ib(),null==this.g&&(this.g=b),b=Math.floor((b-this.g)/this.o));b>=a&&(b=0<=this.i?b%(a-this.i)+this.i:a-1);return b};var bh=function(a,b,c,d,e){this.H=a;this.o=b;this.v=c;this.U=d;this.g=-1;this.i=0;(a=e)||(a=new ah(-1,void 0));this.j=a},dh=function(a,b){0==b&&ch(a);b=a.o.frames[b];for(var c=0;c<b.length;c++){var d=b[c],e=d[0],f=d[1],g=d[2]+a.U.x,h=d[3]+a.U.y,k=d[4];d=d[5];a.H.clearRect(e,f,k,d);a.H.drawImage(a.v,g,h,k,d,e,f,k,d)}},eh=function(a){a.g>a.i&&(a.g=-1);for(a.g==a.i&&dh(a,a.i);a.g<a.i;)dh(a,++a.g)},ch=function(a){a.H.clearRect(0,0,a.o.width,a.o.height)};
bh.prototype.reset=function(){ch(this);this.i=0;this.g=-1;this.j.reset()};var fh=function(a,b){E.call(this);var c=a.Vc;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;this.v=d;c=this.v.getContext("2d");d=Mf.g();var e=a.Zd;this.R=new bh(c,a.Vc,d.lh(a.Zd),{x:e[1],y:e[2]},new ah(0,b||1E3/83));b=this.Ac?1:Yf;this.setSize(b*a.Vc.width,b*a.Vc.height);this.j=!0;this.S=!1};w(fh,E);fh.prototype.play=function(){this.j=!1};var gh=function(a,b,c){var d=a.ha();b=Math.min(b/d.width,c/d.height);a.setSize(d.width*b,d.height*b)};
fh.prototype.ub=function(){if(this.j)this.S||eh(this.R);else{var a=this.R;eh(a);a.i=a.j.call(a.o.frames.length,a.g)}this.S=!0};fh.prototype.vb=function(a){a.drawImage(this.v,-this.ha().width/2,-this.ha().height/2,this.ha().width,this.ha().height)};var hh=function(a,b){Cg.call(this);this.j=new fh(a,12);B(this.j,this);this.v=b};w(hh,Cg);n=hh.prototype;n.re=function(a){if(!this.g)return!1;(a=this.j.Cc().contains(a))||this.cancel();return a};n.ve=function(a,b){b&&this.v()};n.se=function(){};n.cancel=function(){};n.nf=function(){};n.Yd=function(){return!0};n.Xd=function(){return!1};n.vd=function(){return this.j.vd()};var ih=function(){this.g=[]},jh=function(a,b,c){for(var d=a.g.slice(0),e=0;e<d.length;e++)-1!=a.g.indexOf(d[e])&&d[e].$a(b,c)};ih.prototype.addListener=function(a){this.g.push(a)};ih.prototype.removeListener=function(a){for(var b=this.g.indexOf(a);-1!=b;)this.g.splice(b,1),b=this.g.indexOf(a)};Va(ih);var kh=function(){this.g=this.i=null};kh.prototype.load=function(a,b,c,d,e){var f=this;a=lh(this,a,b,c,void 0===e?"en":e);if(null==a)return Promise.resolve();var g=d+"messages."+a+".json",h=new mf;h.$="text";return new Promise(function(k,l){h.addEventListener("success",function(){try{var m=h.g?h.g.responseText:""}catch(p){m=""}f.i=JSON.parse(m.substring(5));k()});h.addEventListener("error",l);h.send(g)})};
var mh=function(a,b){if(null==a.i)throw"Translations not loaded";a=Oa(a.i[b])?a.i[b]:"";b=Hc(a);return 1==b?"\u202a"+a+"\u202c":-1==b?"\u202b"+a+"\u202c":a},lh=function(a,b,c,d,e){c=b+"-"+c;return-1<d.indexOf(c)?(a.g=b,c):b&&-1<d.indexOf(b)?a.g=b:e&&-1<d.indexOf(e)?a.g=e:a.g=null};Va(kh);var nh=function(){var a=kh.ya().g;return"en de es es-419 fr pt-BR pt-PT en-GB it".split(" ").includes(a)?"Germania One, Noto Serif, serif":"Noto Serif, serif"};var ph=function(a,b,c,d){E.call(this,void 0===b?0:b,void 0===c?0:c,void 0===d?0:d);this.$=(this.j="number"==typeof a[0]?null:a)?this.j[0]:a;this.v=this.wa=0;this.Za=!1;this.Ea=this.Ob=!0;this.W=!1;this.La=new Nf(0,0);this.S=new Nf(1,1);this.Oa=!1;oh(this)};w(ph,E);ph.prototype.Ba=function(){};
var qh=function(a,b){a.j="number"==typeof b[0]?null:b;a.$=a.j?a.j[0]:b;a.v=0;a.wa=0;oh(a)},oh=function(a){var b=a.Ac?1:Yf;a.setSize(b*a.Ba().mh(a.$),b*a.Ba().xi(a.$))},rh=function(a,b,c){a.La.width=b;a.La.height=c};ph.prototype.Fa=function(a){E.prototype.Fa.call(this,a);oh(this)};var sh=function(a,b,c){var d=a.ha();b=Math.min(b/d.width,c/d.height);a.setSize(d.width*b,d.height*b)},th=function(a){a.Za=!0;a.v=a.W?a.j.length-1:0;a.wa=0;a.j&&(a.$=a.j[a.v])};n=ph.prototype;
n.setLoop=function(a){this.Ob=a};n.reset=function(){this.v=this.W?this.j.length-1:0;this.wa=0;this.$=this.j[this.v];this.Za=!1};n.ub=function(a){E.prototype.ub.call(this,a);this.wa+=a;if(this.j&&this.Za&&83<this.wa)if(this.wa-=83,!this.W&&this.v<this.j.length-1||this.W&&0<this.v)this.v+=this.W?-1:1,this.$=this.j[this.v];else if(this.v=0,(this.Za=this.Ob)&&this.Ea&&(this.W=!this.W))this.v=this.j.length-1};
n.Yh=function(){var a=this.T,b=this.ha().width*this.S.width*a.g,c=this.ha().height*this.S.height*a.i;Fg(this,a.j-b/2+b*this.La.width*(this.Oa?-1:1),a.U-c/2+c*this.La.height,b,c)};n.vb=function(a){E.prototype.vb.call(this,a);this.ih(a,this.La.width*this.ha().width*this.S.width,this.La.height*this.ha().height*this.S.height,this.ha().width*this.S.width,this.ha().height*this.S.height,this.Oa)};n.ih=function(){};var G=function(a){ph.apply(this,arguments)};w(G,ph);G.prototype.Ba=function(){return Mf.g()};G.prototype.ih=function(a,b,c,d,e,f){f&&a.scale(-1,1);this.Ba().drawImage(a,this.$,b-d/2,c-e/2,d,e);f&&a.scale(-1,1)};var uh=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);255<e&&(b[c++]=e&255,e>>=8);b[c++]=e}return b},vh=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};var wh=Xc("Safari")&&!((Xc("Chrome")||Xc("CriOS"))&&!Xc("Edge")||Xc("Coast")||Xc("Opera")||Xc("Edge")||Xc("Firefox")||Xc("FxiOS")||Xc("Silk")||Xc("Android"))&&!(Xc("iPhone")&&!Xc("iPod")&&!Xc("iPad")||Xc("iPad")||Xc("iPod"));var xh=null,yh=null,zh=null,Ah=Ld||Md&&!wh||Id||"function"==typeof Na.btoa,Ch=function(a,b){Bh();b=b?zh:xh;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,l=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|k>>6;k&=63;h||(k=64,f||(g=64));c.push(b[l],b[e],b[g],b[k])}return c.join("")},Eh=function(a){var b=[];Dh(a,function(c){b.push(c)});return b},Fh=function(a){var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;Dh(a,
function(f){d[e++]=f});return d.subarray(0,e)},Dh=function(a,b){function c(k){for(;d<a.length;){var l=a.charAt(d++),m=yh[l];if(null!=m)return m;if(!/^[\s\xa0]*$/.test(l))throw Error("o`"+l);}return k}Bh();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},Bh=function(){if(!xh){xh={};yh={};zh={};for(var a=0;65>a;a++)xh[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),yh[xh[a]]=a,zh[a]=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(yh["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var Hh=function(a,b,c){this.i=null;this.g=this.H=this.o=0;this.j=!1;a&&Gh(this,a,b,c)},Ih=[],Jh=function(a,b,c){if(Ih.length){var d=Ih.pop();a&&Gh(d,a,b,c);return d}return new Hh(a,b,c)};Hh.prototype.clone=function(){return Jh(this.i,this.o,this.H-this.o)};Hh.prototype.clear=function(){this.i=null;this.g=this.H=this.o=0;this.j=!1};
var Gh=function(a,b,c,d){b=b.constructor===Uint8Array?b:b.constructor===ArrayBuffer?new Uint8Array(b):b.constructor===Array?new Uint8Array(b):b.constructor===String?Fh(b):new Uint8Array(0);a.i=b;a.o=Oa(c)?c:0;a.H=Oa(d)?a.o+d:a.i.length;a.g=a.o};Hh.prototype.reset=function(){this.g=this.o};
var Kh=function(a){var b=a.i;var c=b[a.g+0];var d=c&127;if(128>c)return a.g+=1,d;c=b[a.g+1];d|=(c&127)<<7;if(128>c)return a.g+=2,d;c=b[a.g+2];d|=(c&127)<<14;if(128>c)return a.g+=3,d;c=b[a.g+3];d|=(c&127)<<21;if(128>c)return a.g+=4,d;c=b[a.g+4];d|=(c&15)<<28;if(128>c)return a.g+=5,d>>>0;a.g+=5;128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&a.g++;return d};var Lh=function(a,b,c){this.g=Jh(a,b,c);this.i=this.o=-1;this.H=!1},Mh=[];Lh.prototype.reset=function(){this.g.reset();this.i=this.o=-1};
var Nh=function(a){var b=a.g;(b=b.g==b.H)||(b=a.H)||(b=a.g,b=b.j||0>b.g||b.g>b.H);if(b)return!1;b=Kh(a.g);var c=b&7;if(0!=c&&5!=c&&1!=c&&2!=c&&3!=c&&4!=c)return a.H=!0,!1;a.o=b>>>3;a.i=c;return!0},Oh=function(a){switch(a.i){case 0:if(0!=a.i)Oh(a);else{for(a=a.g;a.i[a.g]&128;)a.g++;a.g++}break;case 1:1!=a.i?Oh(a):(a=a.g,a.g+=8);break;case 2:if(2!=a.i)Oh(a);else{var b=Kh(a.g);a=a.g;a.g+=b}break;case 5:5!=a.i?Oh(a):(a=a.g,a.g+=4);break;case 3:b=a.o;do{if(!Nh(a)){a.H=!0;break}if(4==a.i){a.o!=b&&(a.H=
!0);break}Oh(a)}while(1)}},Ph=function(a){var b=Kh(a.g);a=a.g;var c=a.i,d=a.g,e=d+b;b=[];for(var f="";d<e;){var g=c[d++];if(128>g)b.push(g);else if(192>g)continue;else if(224>g){var h=c[d++];b.push((g&31)<<6|h&63)}else if(240>g){h=c[d++];var k=c[d++];b.push((g&15)<<12|(h&63)<<6|k&63)}else if(248>g){h=c[d++];k=c[d++];var l=c[d++];g=(g&7)<<18|(h&63)<<12|(k&63)<<6|l&63;g-=65536;b.push((g>>10&1023)+55296,(g&1023)+56320)}8192<=b.length&&(f+=String.fromCharCode.apply(null,b),b.length=0)}c=f;if(8192>=b.length)b=
String.fromCharCode.apply(null,b);else{e="";for(f=0;f<b.length;f+=8192)g=z.slice(b,f,f+8192),e+=String.fromCharCode.apply(null,g);b=e}a.g=d;return c+b};var Qh=function(){this.g=[]};Qh.prototype.length=function(){return this.g.length};Qh.prototype.end=function(){var a=this.g;this.g=[];return a};var Rh=function(){this.o=[];this.g=0;this.i=new Qh};Rh.prototype.reset=function(){this.o=[];this.i.end();this.g=0};
var Sh=function(a,b,c){if(null!=c){var d=a.i;for(b=8*b+2;127<b;)d.g.push(b&127|128),b>>>=7;d.g.push(b);d=a.i.end();a.o.push(d);a.g+=d.length;d.push(a.g);b=a.i;for(var e=0;e<c.length;e++){var f=c.charCodeAt(e);if(128>f)b.g.push(f);else if(2048>f)b.g.push(f>>6|192),b.g.push(f&63|128);else if(65536>f)if(55296<=f&&56319>=f&&e+1<c.length){var g=c.charCodeAt(e+1);56320<=g&&57343>=g&&(f=1024*(f-55296)+g-56320+65536,b.g.push(f>>18|240),b.g.push(f>>12&63|128),b.g.push(f>>6&63|128),b.g.push(f&63|128),e++)}else b.g.push(f>>
12|224),b.g.push(f>>6&63|128),b.g.push(f&63|128)}c=d.pop();for(c=a.g+a.i.length()-c;127<c;)d.push(c&127|128),c>>>=7,a.g++;d.push(c);a.g++}};var Th=function(){},Uh="function"==typeof Uint8Array,Xh=function(a,b,c){a.g=null;b||(b=[]);a.v=void 0;a.o=-1;a.nc=b;a:{if(b=a.nc.length){--b;var d=a.nc[b];if(!(null===d||"object"!=typeof d||Xa(d)||Uh&&d instanceof Uint8Array)){a.H=b-a.o;a.i=d;break a}}a.H=Number.MAX_VALUE}a.U={};if(c)for(b=0;b<c.length;b++)d=c[b],d<a.H?(d+=a.o,a.nc[d]=a.nc[d]||Vh):(Wh(a),a.i[d]=a.i[d]||Vh)},Vh=[],Wh=function(a){var b=a.H+a.o;a.nc[b]||(a.i=a.nc[b]={})},Yh=function(a,b){if(b<a.H){b+=a.o;var c=a.nc[b];return c===Vh?
a.nc[b]=[]:c}if(a.i)return c=a.i[b],c===Vh?a.i[b]=[]:c},Zh=function(a,b,c){b<a.H?a.nc[b+a.o]=c:(Wh(a),a.i[b]=c)},$h=function(a,b,c,d){a.g||(a.g={});if(!a.g[c]){var e=Yh(a,c);if(d||e)a.g[c]=new b(e)}return a.g[c]},bi=function(a){var b=ai;a.g||(a.g={});if(!a.g[1]){for(var c=Yh(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==Vh&&(b=a.g[1]=[]);return b},ci=function(a,b){a.g||(a.g={});var c=b?b.Oc():b;a.g[3]=b;Zh(a,3,c)},di=function(a,b){a.g||(a.g={});b=b||[];for(var c=[],d=0;d<b.length;d++)c[d]=
b[d].Oc();a.g[1]=b;Zh(a,1,c)},ei=function(a){if(a.g)for(var b in a.g){var c=a.g[b];if(Xa(c))for(var d=0;d<c.length;d++)c[d]&&c[d].Oc();else c&&c.Oc()}};Th.prototype.Oc=function(){ei(this);return this.nc};Th.prototype.j=Uh?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){return Ch(this)};try{return JSON.stringify(this.nc&&this.Oc(),fi)}finally{Uint8Array.prototype.toJSON=a}}:function(){return JSON.stringify(this.nc&&this.Oc(),fi)};
var fi=function(a,b){return Qa(b)&&(isNaN(b)||Infinity===b||-Infinity===b)?String(b):b};Th.prototype.toString=function(){ei(this);return this.nc.toString()};Th.prototype.getExtension=function(a){if(this.i){this.g||(this.g={});var b=a.o;if(a.H){if(a.i())return this.g[b]||(this.g[b]=z.map(this.i[b]||[],function(c){return new a.g(c)})),this.g[b]}else if(a.i())return!this.g[b]&&this.i[b]&&(this.g[b]=new a.g(this.i[b])),this.g[b];return this.i[b]}};Th.prototype.clone=function(){return gi(this)};
var gi=function(a){return new a.constructor(hi(a.Oc()))},hi=function(a){if(Xa(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?hi(d):d)}return b}if(Uh&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?hi(d):d);return b};var ii=function(a){Xh(this,a,null)};kb(ii,Th);var ai=function(a){Xh(this,a,null)};kb(ai,Th);var ki=function(a){Xh(this,a,ji)};kb(ki,Th);ii.prototype.Ge=function(a){return li(a,this)};var li=function(a,b){var c,d={pitch:null==(c=Yh(b,1))?void 0:c,voice:null==(c=Yh(b,2))?void 0:c};a&&(d.Rf=b);return d},mi=function(a){return Yh(a,1)};ai.prototype.Ge=function(a){return ni(a,this)};
var ni=function(a,b){var c,d={Uq:null==(c=Yh(b,1))?void 0:c,hn:null==(c=Yh(b,2))?void 0:c,ep:(c=oi(b))&&li(a,c),gq:null==(c=Yh(b,4))?void 0:c};a&&(d.Rf=b);return d},oi=function(a){return $h(a,ii,3,1)},ji=[1];ki.prototype.Ge=function(a){return pi(a,this)};var pi=function(a,b){for(var c=bi(b),d=ni,e=[],f=0;f<c.length;f++)e[f]=d.call(c[f],a,c[f]);c={fp:e};a&&(c.Rf=b);return c};var qi=new Map([["Cbb",10],["Cb",11],["C",0],["C#",1],["C##",2],["Dbb",0],["Db",1],["D",2],["D#",3],["D##",4],["Ebb",2],["Eb",3],["E",4],["E#",5],["E##",6],["Fbb",3],["Fb",4],["F",5],["F#",6],["F##",7],["Gbb",5],["Gb",6],["G",7],["G#",8],["G##",9],["Abb",7],["Ab",8],["A",9],["A#",10],["A##",11],["Bbb",9],["Bb",10],["B",11],["B#",0],["B##",1]]),ri=new Map([[0,["B#","C","Dbb"]],[1,["B##","C#","Db"]],[2,["C##","D","Ebb"]],[3,["D#","Eb","Fbb"]],[4,["D##","E","Fb"]],[5,["E#","F","Gbb"]],[6,["E##","F#",
"Gb"]],[7,["F##","G","Abb"]],[8,["G#","Ab"]],[9,["G##","A","Bbb"]],[10,["A#","Bb","Cbb"]],[11,["A##","B","Cb"]]]),si=function(a){return Math.floor(4+(a-(a+60)%12-60)/12)},ti=function(){for(var a=[],b=0;32>b;b++){for(var c=[];46>c.push([0,0,0,0]););a.push(c)}return a},ui=function(a){var b=ti();bi(a).forEach(function(c){for(var d=mi(oi(c))-36,e=Yh(c,1),f=Yh(oi(c),2),g=e;g<e+Yh(c,2);g++)b[g][d][f]=1});return b},vi=function(a){var b=new ki,c=[];a.forEach(function(d,e){d.forEach(function(f,g){f.forEach(function(h,
k){1==h&&(h=new ii,Zh(h,1,g+36),Zh(h,2,k),k=new ai,Zh(k,1,e),Zh(k,2,1),ci(k,h),c.push(k))})})});di(b,c);return b};var xi=function(){yd.call(this,"/logos/2018/bach/r2/",wi)};kb(xi,yd);
var wi=[{filename:"main-sprite.png",size:[1842,1351]},{filename:"unboxing-sprite.png",size:[1149,939]},{filename:"animated-bachs-h-sprite.png",size:[1236,1337]},{filename:"animated-bachs-o-sprite.png",size:[1089,1214]},{filename:"animated-bachs-v-sprite.png",size:[813,910]},{filename:"rock-all-sprite.png",size:[1755,1910]},{filename:"cta-animated-sprite.png",size:[1311,549]},{filename:"cta-bach-sprite.png",size:[718,808]},{filename:"cta-sprite.png",size:[240,282]}],yi=[0,1547,260,277,188],zi=[0,1737,
451,86,46],Ai=[0,1312,707,85,40],Bi=[0,1737,500,85,46],Ci=[0,1005,466,84,39],Di=[0,0,111,1435,187],Ei=[0,1438,111,401,146],Fi=[0,0,466,1002,183],Gi=[7,0,0,718,808],Hi=[0,0,0,1842,108],Ii=[0,1396,750,6,139],Ji=[0,968,1079,92,138],Ki=[0,635,942,108,108],Li=[0,746,970,108,108],Mi=[0,857,970,108,108],Ni=[0,514,1015,105,105],Oi=[0,1077,1017,105,105],Pi=[8,134,0,106,282],Qi=[0,191,849,187,137],Ri=[0,930,707,188,167],Si=[0,1547,451,187,90],Ti=[0,381,849,187,90],Ui=[0,571,849,187,90],Vi=[0,761,877,187,90],
Wi=[0,951,877,187,90],Xi=[0,1547,451,187,90],Yi=[0,1811,1104,19,31],Zi=[0,1636,904,22,31],$i=[0,255,1098,19,32],ej=[0,1811,914,22,31],fj=[0,359,989,18,31],gj=[0,1826,498,16,27],hj=[0,277,1098,19,32],ij=[0,1807,549,31,44],jj=[0,1077,970,39,44],kj=[0,1811,746,26,26],lj=[0,1811,775,25,25],mj=[0,1811,948,20,44],nj=[0,1406,553,398,149],oj=[0,1005,553,398,151],pj=[0,1093,301,451,249],qj=[6,1216,444,43,105],rj=[0,1438,260,46,5],sj=[0,0,688,989,7],tj=[0,0,670,992,6],uj=[0,0,652,994,6],vj=[0,0,679,991,6],
wj=[0,0,661,993,6],xj=[6,1262,444,42,59],yj=[0,0,698,927,148],zj=[0,1503,904,130,239],Aj=[0,381,942,130,239],Bj=[0,1291,1044,99,118],Cj=[0,1312,750,81,110],Dj=[0,816,1081,38,62],Ej=[0,1826,451,16,44],Fj=[0,1141,877,178,137],Gj=[0,1121,707,188,167],Hj=[0,300,989,56,362],Ij=[0,0,301,1090,162],Jj=[0,1322,904,178,137],Kj=[8,0,0,131,130],Lj=[8,0,133,77,92],Mj=[0,0,849,188,167],Nj=[0,1393,1044,99,118],Oj=[0,968,970,106,106],Pj=[0,622,1053,99,118],Qj=[5,0,0,1755,1910],Rj=[0,1666,705,142,494],Sj=[0,1119,
970,18,44],Tj=[0,359,1023,17,44],Uj=[0,359,1070,15,50],Vj=[0,1069,508,20,42],Wj=[0,1406,705,257,196],Xj=[0,191,989,106,106],Yj=[0,724,1081,89,229],Zj=[0,1185,1017,103,109],ak=[1,0,543,582,385],bk=[1,585,543,564,396],ck=[1,0,0,960,540],dk=[[6,1251,214,60,112],[6,1047,322,60,112],[6,1110,322,60,112],[6,1173,322,60,112],[6,1236,329,60,112],[6,775,429,60,112],[6,838,429,60,112],[6,901,429,60,112],[6,964,429,60,112],[6,0,430,60,112],[6,63,430,60,112],[6,126,430,60,112],[6,189,430,60,112],[6,252,430,60,
112],[6,315,430,60,112],[6,378,430,60,112],[6,441,430,60,112],[6,504,430,60,112],[6,567,430,60,112],[6,630,430,60,112],[6,693,430,60,112],[6,1027,437,60,112],[6,1090,437,60,112],[6,1153,437,60,112]],ek=[[6,0,0,152,212],[6,155,0,152,212],[6,310,0,152,212],[6,465,0,152,212],[6,620,0,152,212],[6,775,0,152,212],[6,930,0,152,212],[6,1085,0,152,212],[6,0,215,152,212],[6,155,215,152,212],[6,310,215,152,212],[6,465,215,152,212],[6,620,215,152,212]],fk=[[6,1240,0,65,104],[6,1240,107,65,104],[6,775,215,65,
104],[6,843,215,65,104],[6,911,215,65,104],[6,979,215,65,104],[6,1047,215,65,104],[6,1115,215,65,104],[6,1183,215,65,104],[6,775,322,65,104],[6,843,322,65,104],[6,911,322,65,104],[6,979,322,65,104]];Va(xi);var gk=function(a,b,c){b=void 0===b?1:b;c=void 0===c?"":c;this.wb=a;this.i=0;void 0!==this.wb&&(this.i=mi(this.wb));this.o=b;this.g=c};gk.prototype.clone=function(){return new gk(gi(this.wb),this.o,this.g)};
var hk=function(a){var b=ri.get((mi(a.wb)+60)%12),c=b?b.find(function(d){return-1<d.indexOf(a.g)}):"C";return void 0===c?b[0]:c},ik=function(a){var b=ri.get((a.i+60)%12),c=b?b.find(function(d){return-1<d.indexOf(a.g)}):"C";return void 0===c?b[0]:c},kk=function(a){var b=hk(a);return b+jk(a,b)},lk=function(a){var b=ri.get((mi(a.wb)+60)%12);b=b?b.find(function(c){return 3>c.length}):"C";return b+jk(a,b)},jk=function(a,b){a=si(mi(a.wb));["Cb","Cbb"].includes(b)?a++:["B#","B##"].includes(b)&&a--;return a.toString()},
nk=function(a){var b=new G(mk.get(a.g));b.S.width=1.2;b.S.height=1;a=hk(a);0<a.indexOf("#")?(a=new G(Sj,.3),gg(a,.8),B(a,b)):0<a.indexOf("b")&&(a=new G(mj,.3),gg(a,.8),B(a,b));return b};gk.prototype.Wd=function(a){this.o=a};gk.prototype.getDuration=function(){return this.o};
var ok=function(a,b){var c="",d=ri.get((mi(a.wb)+60)%12);c=d.find(function(f){return 1===f.length});if(!c){var e=b?"#":"b";c=d.find(function(f){return f.includes(e)&&3>f.length});c=c.slice(0,1)}a.g=c},mk=new Map([["A",[0,1811,995,20,34]],["B",[0,1811,803,23,34]],["C",[0,1523,260,20,35]],["D",[0,1811,840,23,34]],["E",[0,233,1098,19,34]],["F",[0,1636,1011,20,34]],["G",[0,1636,973,20,35]]]);var pk=kh.ya(),qk=new Map([["Cbb",3],["Cb",3],["C",3],["C#",3],["C##",3],["Dbb",2],["Db",2],["D",2],["D#",2],["D##",2],["Ebb",1],["Eb",1],["E",1],["E#",1],["E##",1],["Fbb",0],["Fb",0],["F",0],["F#",0],["F##",0],["Gbb",-1],["Gb",-1],["G",-1],["G#",-1],["G##",-1],["Abb",-2],["Ab",-2],["A",-2],["A#",-2],["A##",-2],["Bbb",-3],["Bb",-3],["B",-3],["B#",-3],["B##",-3]]),rk=new Map(Array.from(qk.entries()).filter(function(a){return-1==a[0].indexOf("#")}).filter(function(a){return-1==a[0].indexOf("b")}).map(function(a){return[a[1],
a[0]]})),sk=function(a,b){b=void 0===b?0:b;var c=hk(a),d=qk.get(c);a=si(mi(a.wb));["Cb","Cbb"].includes(c)?a++:["B#","B##"].includes(c)&&a--;c=d-7*(a-5);1==b&&(c-=12);return c},tk=function(a,b){a=Math.round(a/.425);1==(void 0===b?0:b)&&(a+=12);return a},vk=function(a,b){b=void 0===b?0:b;var c=uk(a,b);b=Math.floor((tk(a,void 0===b?0:b)- -3)/7);a=new ii;c=qi.get(c)+12*(-b+5-4)+60;Zh(a,1,c);return a},uk=function(a,b){a=tk(a);1==(void 0===b?0:b)&&(a+=12);return rk.get(a-7*Math.floor((a- -3)/7))},wk=function(a,
b){return.425*-sk(a,void 0===b?0:b)},zk=function(a,b){return 8>b?xk.get(a):yk.get(a)},Ak=["#000","#b73434","#1ea04a","#3574b4"],Bk=[function(){return mh(pk,"Voice - Soprano")},function(){return mh(pk,"Voice - Alto")},function(){return mh(pk,"Voice - Tenor")},function(){return mh(pk,"Voice - Bass")}],Ck=!0,xk=new Map([["#000",[0,1827,260,13,15]],["#b73434",[0,1827,296,13,15]],["#1ea04a",[0,1827,278,13,15]],["#3574b4",[0,1470,268,13,15]]]),yk=new Map([["#000",[0,1438,268,29,29]],["#b73434",[0,1807,
596,29,29]],["#1ea04a",[0,1037,508,29,29]],["#3574b4",[0,1005,508,29,29]]]);var Dk=function(a){return Math.round(100*a/4)/100};var Ek=function(a){this.g=a=void 0===a?Array(4):a};Ek.prototype.Mc=function(a,b,c){c=void 0===c?!1:c;var d;!(d=0>a||a>=this.g.length)&&(d=b)&&(d=!(Ck?!(1<b.getDuration()&&a%2||2<b.getDuration()&&0!=a):1));if(!d&&(this.g[a]=b,(!b||b||null!=b&&null!=b.wb&&0==Yh(b.wb,2))&&c))for(a=0;a<this.g.length;a++)this.g[a]&&this.g[a].Wd(Fk(this,a,!0))};
var Fk=function(a,b,c){if((void 0===c||!c)&&a.g[b])return a.g[b].getDuration();if(1==b||b>=a.g.length-1||a.g[b+1])return 1;c=1;for(b+=1;b<a.g.length&&!a.g[b];b++)c++;return c},Kk=function(){for(var a=Gk,b=Hk[Gk][Ik][Jk].map(function(c){if(c){var d=new ii;var e=c.Ra;e=qi.get(c.pitch)+12*(e-4)+60;Zh(d,1,e);Zh(d,2,a);c=new gk(d,c.duration)}else c=null;return c});4>b.length;)b.push(null);return new Ek(b)};var Lk=function(){return uc()?"1"!=fc.g.get("scta"):!sc()},Mk=function(){if(uc())throw"";return mc||sc()},Nk=function(){if(uc())throw"";return tc()||qc},Ok=function(){if(uc())throw"";return kc?!1:tc()&&!(ic||jc)||qc&&lc},Pk=function(){return uc()?"1"==fc.g.get("ccta"):tc()&&!sc()||qc&&lc};var Qk=[5,6,7,8,9,11,12,16],Rk=0,Sk=0,Tk=!1,Uk={},Vk=[],Wk=function(a,b,c){Uk[a]=b;(void 0===c?0:c)&&!Vk.includes(a)&&Vk.push(a)},Yk=function(a){Uk.c=a;Xk(1)},Xk=function(a){var b=ib();Uk.dt=b-Sk;Sk=b;0==a&&(Rk=b);Uk.e=a;Uk.t=0==Rk?-1:Math.floor(b-Rk);Uk.m=lc?1:0;b=window.document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;b=new Nf(b.clientWidth,b.clientHeight);Uk.w=b.width>b.height?1:0;b=[];for(var c in Uk)Uk.hasOwnProperty(c)&&b.push(c+":"+Uk[c]);c=b.join(",");b=10==a;var d=0<=Qk.indexOf(a);
sc()&&(c+="&ntp=1");b?(b=xd())&&(c+="&ved="+b):d&&(ud||((b=document.getElementById("hplogoshareved"))?ud=b.getAttribute("data-ved"):uc()&&dc(fc.g,"sved")&&(ud=fc.g.get("sved"))),(b=ud)&&(c+="&ved="+b));-1==c.search("&ei=")&&(c=wd()?c+("&ei="+wd()):c+"&ei=");for(window.google&&window.google.log?window.google.log("doodle",c):vb(c);0<Vk.length;)delete Uk[Vk.pop()];Tk||0!=a||Pk()||(Tk=!0,Xk(10))};var Zk=!0,$k=0,al=0,bl="",dl=function(a,b,c){Wk("d1",b,!0);Wk("d10",c,!0);Wk("d3",a?btoa(a.j()):0,!0);Xk(102);delete Uk.d2;Yk(3);cl(102,c,b,a?1:0)},el=function(a){Wk("d10",a,!0);Xk(110);cl(110,a,0,0)},cl=function(a,b,c,d){var e=bl,f=al,g=new Mb("https://doodle-mon.appspot.com");g.g.set("b",e);g.g.set("e",a);g.g.set("l",b);g.g.set("wl",c);g.g.set("st",f);g.g.set("s",d);(new Image).src=g.toString()};var fl=function(a){return a.reduce(function(b,c){return[].concat(la(b),la(c.g))},[])},gl=function(){return Array(4).fill(0).map(function(){return new Ek})},hl=function(){return[gl(),gl()]},il=function(){return Array(4).fill(0).map(function(){return hl()})},jl=function(a){var b=Math.floor(a/16);a-=16*b;var c=Math.floor(a/4);return{measure:b,qd:c,step:a-4*c}},kl=function(a){var b=[];a=t(a);for(var c=a.next();!c.done;c=a.next())c=c.value.map(function(d){return fl(d)}),b=[].concat(la(b),[(0,z.flatten)(c)]);
return z.il.apply(z,la(b))},ll=function(a){a=kl(a);for(var b=new ki,c=[],d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++){var f=a[d][e];if(f){var g=new ai;ci(g,f.wb);Zh(g,4,f.g);Zh(g,1,d);f=f.getDuration();Zh(g,2,f);c.push(g)}}di(b,c);return b},ml=function(a){return kl(a).filter(function(b){return b.length&&!!b[0]}).length},ol=function(a){for(var b=kl(a),c=t(nl(b,2,6)),d=c.next();!d.done;d=c.next()){d=d.value;var e=d[0];a[2][e.measure][e.qd].Mc(e.step,d[1])}b=t(nl(b,3,12));for(d=b.next();!d.done;d=
b.next())c=d.value,d=c[0],a[3][d.measure][d.qd].Mc(d.step,c[1]);return a},nl=function(a,b,c){for(var d=[],e={kc:0};e.kc<a.length;e={kc:e.kc,Ie:e.Ie,ee:e.ee,kd:e.kd},e.kc++)!a[e.kc][b]||36<mi(a[e.kc][b].wb)||(e.ee=a[e.kc][b],e.Ie=0==e.kc||16==e.kc,e.kd=jl(e.kc),(e.Ie?function(f){return function(g){for(var h=f.kc+1;h<a.length&&!g(h);h++);}}(e):function(f){return function(g){for(var h=f.kc-1;0<=h&&!g(h);h--);}}(e))(function(f){return function(g){if(!a[g][b])return!1;var h=a[g][b],k=jl(g);if(f.Ie&&36==
mi(h.wb))return a[g][b]=null,d.push([k,null]),f.ee.Wd(f.ee.getDuration()+h.getDuration()),!1;if(mi(h.wb)<=36+c)return!0;f.Ie||k.measure!=f.kd.measure||k.qd!=f.kd.qd?(h=h.clone(),h.Wd(f.ee.getDuration()),k.measure=f.kd.measure,k.qd=f.kd.qd,k.step=f.kd.step,d.push([k,h]),a[f.kc][b]=h):(h.Wd(h.getDuration()+f.ee.getDuration()),a[f.kc][b]=null,d.push([f.kd,null]));Xk(108);return!0}}(e)));return d},pl=function(a){var b=Array(4).fill(0).map(function(){return[]});a=t(bi(a));for(var c=a.next();!c.done;c=
a.next()){var d=c.value;c=Yh(d,1);var e="";Yh(d,4)&&(e=Yh(d,4));e=new gk(oi(d),Yh(d,2),e);d=Yh(oi(d),2)||0;b[d][c]=e}a=[];for(c=0;4>c;c++)if(b[c]){d=[];for(e=0;32>e;e++){var f=b[c],g=jl(e);d[g.measure]||(d[g.measure]=Array(4).fill(0).map(function(){return new Ek}));f[e]&&d[g.measure][g.qd].Mc(g.step,f[e],!1)}a[c]=d}return a},ql=function(a){return a.every(function(b){return fl(b).every(function(c){return!c})})};var rl=JSON.parse('[[[0,2,[72,0],"C"],[2,2,[72,0],"C"],[4,2,[79,0],"G"],[6,2,[79,0],"G"],[8,2,[81,0],"A"],[10,2,[81,0],"A"],[12,4,[79,0],"G"],[16,2,[77,0],"F"],[18,2,[77,0],"F"],[20,2,[76,0],"E"],[22,2,[76,0],"E"],[24,2,[74,0],"D"],[26,2,[74,0],"D"],[28,4,[72,0],"C"]]]'),sl={Ag:new ki(rl),key:0},tl=JSON.parse('[[[0,2,[76,0],"E"],[2,2,[74,0],"D"],[4,2,[72,0],"C"],[6,2,[74,0],"D"],[8,2,[76,0],"E"],[10,2,[76,0],"E"],[12,4,[76,0],"E"],[16,2,[74,0],"D"],[18,2,[74,0],"D"],[20,4,[74,0],"D"],[24,2,[76,0],"E"],[26,2,[79,0],"G"],[28,4,[79,0],"G"]]]'),
ul={Ag:new ki(tl),key:0},vl=JSON.parse('[[[0,1,[81,0],"A"],[1,1,[79,0],"G"],[2,2,[81,0],"A"],[6,1,[79,0],"G"],[7,1,[77,0],"F"],[8,1,[76,0],"E"],[9,1,[74,0],"D"],[10,2,[73,0],"C"],[12,4,[74,0],"D"],[16,1,[69,0],"A"],[17,1,[67,0],"G"],[18,2,[69,0],"A"],[22,2,[64,0],"E"],[24,2,[65,0],"F"],[26,2,[61,0],"C"],[28,4,[62,0],"D"]]]'),wl={Ag:new ki(vl),key:11},xl=JSON.parse('[[[0,2,[69,0],"A"],[2,2,[81,0],"A"],[4,2,[79,0],"G"],[6,2,[81,0],"A"],[8,2,[77,0],"F"],[10,2,[81,0],"A"],[12,2,[76,0],"E"],[14,2,[81,0],"A"],[16,2,[74,0],"D"],[18,2,[81,0],"A"],[20,2,[73,0],"C"],[22,2,[81,0],"A"],[24,2,[74,0],"D"],[26,2,[81,0],"A"],[28,2,[76,0],"E"],[30,2,[81,0],"A"]]]');
new ki(xl);
for(var Hk=[[[[{pitch:"A",Ra:"4",duration:4}],[{pitch:"B",Ra:"4",duration:4}],[{pitch:"C",Ra:"5",duration:4}],[{pitch:"C",Ra:"5",duration:4}]],[[{pitch:"C",Ra:"5",duration:4}],[{pitch:"D",Ra:"5",duration:4}],[{pitch:"E",Ra:"5",duration:4}],[{pitch:"E",Ra:"5",duration:4}]]],[[[{pitch:"E",Ra:"4",duration:4}],[{pitch:"E",Ra:"4",duration:4}],[{pitch:"E",Ra:"4",duration:4}],[{pitch:"E",Ra:"4",duration:4}]],[[{pitch:"E",Ra:"4",duration:4}],[{pitch:"G",Ra:"4",duration:4}],[{pitch:"G",Ra:"4",duration:4}],[{pitch:"G",
Ra:"4",duration:4}]]],[[[{pitch:"C",Ra:"4",duration:4}],[{pitch:"B",Ra:"3",duration:4}],[{pitch:"A",Ra:"3",duration:4}],[{pitch:"A",Ra:"3",duration:4}]],[[{pitch:"A",Ra:"3",duration:4}],[{pitch:"B",Ra:"3",duration:4}],[{pitch:"C",Ra:"4",duration:4}],[{pitch:"C",Ra:"4",duration:4}]]],[[[{pitch:"A",Ra:"3",duration:4}],[{pitch:"G#",Ra:"3",duration:4}],[{pitch:"A",Ra:"3",duration:4}],[{pitch:"A",Ra:"2",duration:4}]],[[{pitch:"A",Ra:"3",duration:4}],[{pitch:"G",Ra:"3",duration:4}],[{pitch:"C",Ra:"4",duration:4}],
[{pitch:"C",Ra:"3",duration:4}]]]],yl=il(),Gk=0;Gk<Hk.length;Gk++)for(var Ik=0;Ik<Hk[Gk].length;Ik++)for(var Jk=0;Jk<Hk[Gk][Ik].length;Jk++)yl[Gk][Ik][Jk]=Kk();var zl={width:893,height:234,frames:[[[0,0,0,0,868,234,0]],[[147,45,1714,383,4,3,0],[29,73,267,1628,122,109,0],[132,190,1704,366,6,6,0],[104,199,1674,330,23,24,0],[162,175,1694,379,4,4,0],[169,61,1749,269,5,5,0],[190,81,1699,378,4,4,0],[204,11,0,871,627,203,0],[442,218,1750,184,5,10,0]],[[147,44,810,379,4,4,0],[82,64,865,293,3,3,0],[67,74,1749,275,5,5,0],[29,81,636,1638,122,101,0],[132,189,1722,339,6,7,0],[104,210,1733,233,20,7,0],[163,176,1751,300,3,3,0],[170,61,1714,377,4,5,0],[198,53,1751,304,
3,3,0],[424,2,1560,484,182,5,0],[268,10,1256,1047,239,9,0],[203,21,630,678,628,192,0],[441,217,1750,215,5,6,0]],[[30,78,1004,1658,121,98,0],[124,203,1751,308,3,3,0],[110,210,1751,312,3,3,0],[203,21,512,1250,509,191,0],[714,81,1126,1671,120,103,0]],[[30,78,759,1638,122,100,0],[122,201,1749,281,5,5,0],[106,209,804,356,20,9,0],[228,59,1751,153,3,5,0],[203,67,836,329,28,56,0],[222,191,1719,384,4,3,0],[235,54,1674,374,5,3,0],[236,79,1751,316,3,3,0],[239,83,1674,367,6,6,0],[235,122,839,283,24,11,0],[253,
156,815,380,4,4,0],[251,162,1724,355,4,9,0],[252,172,820,369,6,5,0],[252,179,827,369,6,5,0],[251,188,825,356,9,4,0],[264,26,1743,28,11,6,0],[263,56,852,257,12,10,0],[261,87,1708,291,32,37,0],[312,186,1751,320,3,3,0],[320,21,964,1487,208,170,0],[329,202,1751,324,3,3,0],[535,196,1724,379,3,3,0],[541,197,1724,383,3,3,0],[543,203,1689,385,3,3,0],[561,130,1745,13,9,5,0],[556,183,1694,384,3,3,0],[551,198,1741,291,12,4,0],[550,204,1738,93,15,4,0],[575,27,1613,1463,134,111,0],[670,142,1735,172,15,6,0],[632,
153,1713,265,35,25,0],[571,194,1560,644,139,17,0],[713,72,1247,1671,120,101,0]],[[29,83,1528,1719,120,99,0],[122,201,804,386,3,3,0],[104,207,1698,347,22,9,0],[237,122,804,344,22,11,0],[251,158,1749,222,5,6,0],[245,165,1738,62,15,19,0],[251,189,1741,319,9,5,0],[301,27,1681,367,6,6,0],[354,184,834,386,3,3,0],[359,185,838,386,3,3,0],[364,185,809,384,4,3,0],[379,186,842,386,3,3,0],[383,70,1688,367,6,6,0],[396,72,846,386,3,3,0],[399,90,850,386,3,3,0],[465,21,804,366,7,4,0],[452,33,854,386,3,3,0],[454,
38,820,380,4,4,0],[464,51,1680,374,5,3,0],[417,69,858,386,3,3,0],[413,73,812,366,7,3,0],[411,78,1675,195,59,37,0],[447,116,865,257,3,4,0],[457,130,839,295,12,4,0],[407,187,1722,258,30,3,0],[477,185,814,385,4,3,0],[492,23,1715,365,7,5,0],[495,93,1686,374,5,3,0],[488,130,1743,42,11,4,0],[487,165,1741,310,9,8,0],[501,12,862,386,3,3,0],[501,27,804,371,5,5,0],[509,35,1751,159,3,5,0],[513,42,1728,385,3,3,0],[521,59,1751,146,3,6,0],[521,72,1732,385,3,3,0],[522,76,865,262,3,4,0],[520,82,863,235,4,7,0],[526,
189,1736,385,3,3,0],[556,183,1740,385,3,3,0],[560,132,1744,385,3,3,0],[563,205,1748,385,3,3,0],[568,132,819,385,4,3,0],[578,128,1704,318,3,3,0],[577,132,825,380,4,4,0],[573,194,1702,373,5,4,0],[574,206,1704,322,3,3,0],[582,195,1704,386,3,3,0],[586,126,1735,196,14,10,0],[598,143,824,385,4,3,0],[587,207,852,295,12,3,0],[603,27,1649,1719,102,111,0],[670,140,1735,163,15,8,0],[632,156,804,278,34,22,0],[665,194,865,267,3,4,0],[662,207,829,385,4,3,0],[715,72,512,1158,111,78,0],[773,159,1674,284,34,6,0],
[828,158,1708,386,3,3,0]],[[231,24,1675,0,76,12,0],[191,53,1560,490,152,153,0],[418,21,1675,99,59,95,0],[425,138,1674,265,38,18,0],[479,21,1389,1463,223,117,0],[669,139,1735,153,15,9,0],[487,165,1743,19,11,8,0],[517,189,1560,461,194,22,0],[713,73,142,1725,120,98,0]],[[33,86,513,1733,119,81,0],[88,170,852,243,13,7,0],[113,200,1712,387,3,3,0],[103,206,1698,339,23,7,0],[231,27,804,243,47,13,0],[275,41,1751,165,3,5,0],[191,56,1375,1581,152,151,0],[205,218,1735,99,19,4,0],[363,91,1674,388,3,3,0],[371,
73,1723,365,4,6,0],[382,94,1678,388,3,3,0],[381,105,1751,171,3,5,0],[387,20,0,1427,324,191,0],[441,218,1751,135,3,10,0],[713,78,882,1658,121,106,0]],[[32,91,759,1739,117,77,0],[88,173,1735,207,14,4,0],[113,205,852,251,13,5,0],[192,21,1156,1061,519,189,0],[253,225,1751,177,3,5,0],[715,87,1368,1733,118,80,0],[776,175,1674,233,58,8,0]],[[29,0,869,0,805,231,0]],[[30,0,869,232,804,228,0],[240,229,1738,57,16,4,0]],[[65,0,790,461,769,216,0]],[[30,0,0,438,789,234,0]],[[29,77,142,1619,124,105,0],[135,192,
1682,388,3,3,0],[95,201,836,301,31,27,0],[102,229,1693,388,3,3,0],[207,20,0,1619,141,142,0],[240,171,1735,117,18,5,0],[190,177,344,1372,126,48,0],[361,73,1697,388,3,3,0],[353,110,1743,35,11,6,0],[367,87,1716,388,3,3,0],[365,95,810,374,5,4,0],[367,119,864,272,3,4,0],[372,92,1674,378,4,5,0],[379,90,1692,375,5,3,0],[378,105,1674,318,29,11,0],[501,12,1720,388,3,3,0],[411,36,1220,1808,96,102,0],[422,141,804,261,46,16,0],[451,169,804,257,47,3,0],[511,26,1173,1487,201,183,0],[714,90,263,1738,117,78,0]],
[[29,81,380,1269,127,101,0],[135,192,1724,387,3,3,0],[95,198,1674,291,33,19,0],[100,219,830,380,4,4,0],[106,225,808,388,3,3,0],[165,94,1719,379,4,4,0],[178,94,804,381,4,4,0],[185,20,628,1061,527,188,0],[713,80,816,375,5,4,0],[714,94,1004,1757,117,75,0]],[[67,21,0,1269,379,102,0],[92,125,0,1372,343,36,0],[89,167,1735,212,14,3,0],[99,183,1405,1251,347,14,0],[460,187,1750,195,5,10,0],[467,21,812,389,3,3,0],[480,25,1389,1279,354,183,0]],[[467,21,1674,384,4,3,0],[30,25,0,235,803,202,0]],[[329,1,1496,1047,
98,6,0],[29,11,1256,875,420,171,0],[245,183,816,389,3,3,0],[131,189,1595,1047,94,7,0],[119,198,1735,225,13,6,0],[65,205,1022,1251,382,27,0],[458,11,648,1442,315,195,0],[461,217,0,1409,333,17,0],[800,223,1735,184,14,11,0]],[[123,5,1722,242,31,7,0],[121,19,1722,250,31,7,0],[66,55,820,389,3,3,0],[81,63,822,375,5,4,0],[66,73,1695,368,6,6,0],[33,86,0,1762,116,80,0],[131,189,1715,357,8,7,0],[126,201,1679,384,4,3,0],[75,229,1675,13,69,5,0],[157,19,825,361,8,7,0],[162,174,1679,378,4,5,0],[170,20,827,348,
7,6,0],[170,61,1684,378,4,5,0],[183,20,1696,361,7,6,0],[196,19,1721,347,6,7,0],[198,52,1704,381,4,4,0],[210,70,824,389,3,3,0],[215,46,1711,371,5,5,0],[220,191,812,370,6,3,0],[234,4,1674,242,47,22,0],[229,124,1735,104,18,12,0],[233,207,1699,383,4,4,0],[289,60,1749,262,5,6,0],[298,0,1247,1773,111,34,0],[303,57,1709,381,4,4,0],[373,88,828,389,3,3,0],[369,96,832,390,3,3,0],[386,105,1735,123,17,11,0],[410,3,804,301,31,29,0],[436,33,864,283,3,4,0],[435,47,1704,329,24,9,0],[428,58,1689,379,4,5,0],[432,65,
1750,206,5,8,0],[421,84,1735,216,13,8,0],[422,93,804,390,3,3,0],[425,97,1743,47,10,6,0],[418,107,1723,372,4,6,0],[441,131,1741,296,12,3,0],[426,142,1674,311,31,6,0],[467,0,1022,1279,366,207,0]],[[148,7,836,390,3,3,0],[32,87,390,1736,117,80,0],[87,173,1735,179,15,4,0],[104,202,1674,355,21,11,0],[105,221,840,390,3,3,0],[250,7,844,390,3,3,0],[261,33,864,288,3,4,0],[273,38,848,390,3,3,0],[217,66,1675,57,62,41,0],[223,121,1675,19,67,37,0],[243,174,1698,330,4,7,0],[220,190,839,278,26,4,0],[291,116,1735,
135,15,17,0],[309,110,851,268,12,5,0],[312,125,1741,300,9,9,0],[307,190,828,331,7,8,0],[322,109,804,377,5,3,0],[328,108,852,390,3,3,0],[332,107,1708,377,5,3,0],[338,106,856,390,3,3,0],[342,105,860,390,3,3,0],[359,20,1528,1581,152,137,0],[405,166,512,1237,93,7,0],[512,23,325,1442,322,185,0]],[[32,92,633,1740,117,76,0],[88,174,1696,357,9,3,0],[207,20,628,871,627,189,0]],[[29,75,390,1628,122,107,0],[120,200,828,340,7,7,0],[103,209,804,331,23,12,0],[501,12,1717,371,5,5,0],[206,19,0,1075,511,193,0],[720,
83,1122,1775,97,77,0],[823,108,1706,357,8,8,0]],[[30,66,513,1628,122,104,0],[111,209,1738,82,15,10,0],[118,220,865,297,3,3,0],[501,12,828,375,5,4,0],[205,17,0,673,629,197,0]],[[32,67,877,1765,115,80,0],[31,152,1560,662,102,10,0],[215,64,1684,384,4,3,0],[204,69,1729,329,23,55,0],[220,191,865,329,3,3,0],[229,17,1259,678,485,196,0],[717,85,512,1075,114,82,0],[776,176,804,235,58,7,0]]]};var Al=function(a,b,c,d,e){d=void 0===d?0:d;e=void 0===e?360:e;E.call(this,a);this.j=b;this.fillStyle=c;this.wa=d*Math.PI/180;this.W=e*Math.PI/180;this.setSize(2*this.j)};w(Al,E);Al.prototype.v=function(a){this.j=a;this.setSize(2*this.j)};Al.prototype.R=function(){return this.j};Al.prototype.vb=function(a){E.prototype.vb.call(this,a);a.beginPath();a.arc(0,0,this.j,this.wa,this.W);a.lineTo(0,0);a.closePath();a.fillStyle=this.fillStyle;a.fill()};var Bl=function(a,b,c,d,e){c=void 0===c?function(){}:c;d=void 0===d?!1:d;e=void 0===e?Ta:e;E.call(this,a);this.Wb=this.W=null;this.Za=d;this.mg=b;this.od=c;this.Uc=e;this.Ob=this.Ma=!1;this.mc=!0};w(Bl,E);var Cl=function(a,b){var c=null;a.Wb&&(c=a.Wb.Cc(),eg(a.Wb));if(a.Wb=b)a.Wb.U=-1,a.Wb.i(0,.1*a.Wb.ha().height),B(a.Wb,a),c&&Fg(b,c.left,c.top,c.width,c.height)};n=Bl.prototype;n.se=function(){this.Ob||(this.sh(),this.Ob=!0)};n.sh=function(){};n.th=function(){};
n.cancel=function(){this.Ob&&(this.Ob=!1,this.th(),this.ve(new nb(0,0),!1))};n.nf=function(a){this.Ma||(this.Ma=!0,this.od(a))};n.ve=function(a,b){this.Ma&&(this.Ma=!1,b&&this.re(a)&&this.mg(),this.Uc())};n.Yd=function(){return this.mc};n.re=function(a){if(!ag(this))return!1;if(this.Za)return!0;(a=this.Cc().contains(a))||this.Ma||this.cancel();return a};n.Cc=function(){if(!this.Za){if(this.W)return this.W.Cc();if(this.Wb)return this.Wb.Cc()}return E.prototype.Cc.call(this)};
n.ha=function(){if(!this.Za){if(this.W)return this.W.ha();if(this.Wb)return this.Wb.ha()}return E.prototype.ha.call(this)};n.Xd=function(){return this.Za};var Dl=function(a,b,c,d,e,f,g,h){this.g=a;this.j=b;this.o=c;this.U=d;this.H=e;this.v=f;this.i=g;this.T=h};Dl.prototype.clone=function(){return new Dl(this.g,this.j,this.o,this.U,this.H,this.v,this.i,this.T)};Dl.prototype.equals=function(a){return this.g==a.g&&this.j==a.j&&this.o==a.o&&this.U==a.U&&this.H==a.H&&this.v==a.v&&this.i==a.i&&this.T==a.T};
var El=function(a,b){if(0==b)return a.g;if(1==b)return a.i;var c=mb(a.g,a.o,b),d=mb(a.o,a.H,b);a=mb(a.H,a.i,b);c=mb(c,d,b);d=mb(d,a,b);return mb(c,d,b)},Fl=function(a,b){var c=(b-a.g)/(a.i-a.g);if(0>=c)return 0;if(1<=c)return 1;for(var d=0,e=1,f=0,g=0;8>g;g++){f=El(a,c);var h=(El(a,c+1E-6)-f)/1E-6;if(1E-6>Math.abs(f-b))return c;if(1E-6>Math.abs(h))break;else f<b?d=c:e=c,c-=(f-b)/h}for(g=0;1E-6<Math.abs(f-b)&&8>g;g++)f<b?(d=c,c=(c+e)/2):(e=c,c=(c+d)/2),f=El(a,c);return c};var Gl=function(a,b,c){var d=new Dl(0,0,a,b,c,1,1,1);return function(e){e=Fl(d,e);if(0==e)e=d.j;else if(1==e)e=d.T;else{var f=mb(d.j,d.U,e),g=mb(d.U,d.v,e),h=mb(d.v,d.T,e);f=mb(f,g,e);g=mb(g,h,e);e=mb(f,g,e)}return e}},Hl=function(a){return a},Il=Gl(.25,.1,.25),Jl=Gl(.4,0,1),Kl=Gl(0,0,.6);var Ll=function(a,b,c,d,e){e=void 0===e?{}:e;var f=void 0===e.Di?mb:e.Di,g=void 0===e.td?Hl:e.td,h=void 0===e.Dc?void 0:e.Dc;mg.call(this,a,null,void 0===e.bc?function(){}:e.bc);this.Fa=d;this.v=h;this.j=b;if(null===this.j&&void 0===this.v)throw Error("p");this.$=c;this.S=f;this.W=g};w(Ll,mg);Ll.prototype.Zi=function(){null===this.j&&(this.j=this.v())};Ll.prototype.Dh=function(){this.Fa(this.S(this.j,this.$,this.W(Math.min(Math.max(this.o/this.R,0),1))))};var Ml=function(a,b){var c=void 0===c?!0:c;return new Ll(b,0,1,function(d){c?a.qc(d):a.o=d})},Nl=function(a,b){var c=void 0===c?!0:c;return new Ll(b,1,0,function(d){c?a.qc(d):a.o=d})};var Ol=function(){E.call(this);this.R=new pg;B(this.R,this);this.o=0;this.v="240, 230, 140";this.j=null;this.setSize(1,1)};w(Ol,E);Ol.prototype.setSize=function(a){E.prototype.setSize.call(this,a);this.j=null};var Pl=function(a){sg(a.R);qg(a.R,Ml(a,150))},Ql=function(a){sg(a.R);qg(a.R,Nl(a,150))};
Ol.prototype.vb=function(a){if(!this.j){this.j=document.createElement("canvas");var b=100*this.ha().width;this.j.width=b;this.j.height=b;var c=this.j.getContext("2d");c.clearRect(0,0,b,b);var d=c.createRadialGradient(b/2,b/2,b/4,b/2,b/2,b/2);d.addColorStop(0,"rgba("+this.v+", 0.8)");d.addColorStop(1,"rgba("+this.v+", 0)");c.fillStyle=d;c.fillRect(0,0,b,b)}a.drawImage(this.j,-(this.ha().width*this.Ca)/2,-(this.ha().width*this.Ca)/2,this.ha().width*this.Ca,this.ha().width*this.Ca)};var Rl=function(a,b){this.U=a;this.H=b;this.v=this.g=null;this.j=this.o=!1;this.T=[];this.i=null},Wl=function(a,b,c){if(Sl&&!a.g){a.g=c||new (window.AudioContext||window.webkitAudioContext);a.v=a.g.createGain();a.v.connect(a.g.destination);for(var d in a.U)a.U[d].H=a.g;for(var e in a.H)Tl(a.H[e],a.g,a.v);a.g.onstatechange=function(){Ul(a)};Ul(a);Vl(a);le(b,["click","pointerup","mouseup","touchend"],function(){a.g.resume();Vl(a)},!0)}},Ul=function(a){if("running"==a.g.state&&!a.j){a.j=!0;for(var b=
0;b<a.T.length;b++)a.T[b]()}},Xl=function(a){a.i=a.g.createBufferSource();a.i.buffer=a.g.createBuffer(1,1,22050);a.i.connect(a.g.destination);a.i.start(0)},Vl=function(a){a.g&&(null==a.i?Xl(a):void 0===a.i.playbackState?Xl(a):a.i.playbackState!==a.i.PLAYING_STATE&&a.i.playbackState!==a.i.FINISHED_STATE&&Xl(a))};Rl.prototype.getContext=function(){return this.g};Rl.prototype.destroy=function(){this.g.close();this.g=null};Rl.prototype.reset=function(){for(var a in this.U)this.U[a].j=[];for(var b in this.H)this.H[b].stop()};
Rl.prototype.isMuted=function(){return!1};var Sl=!(!window.AudioContext&&!window.webkitAudioContext)&&!!window.GainNode,Yl=function(a,b,c){this.U=a;this.v=b;this.j=c;this.i={};this.H=this.g=this.o=null;this.T=0},Tl=function(a,b,c){a.g=b;a.H=c};Yl.prototype.getContext=function(){return this.g};var Zl=function(a){if(a.g){var b=1E3*a.g.currentTime,c;for(c in a.i){var d=a.i[c];!d.Hk&&d.aj+a.j<b&&delete a.i[c]}}},$l=function(a){!a.o&&a.g.createGain&&(a.o=a.g.createGain())};
Yl.prototype.play=function(a,b,c,d,e,f){a=void 0===a?0:a;b=void 0===b?!1:b;c=void 0===c?0:c;e=void 0===e?!1:e;if(!this.g||!this.H)return-1;Zl(this);f=void 0===f?this.g.currentTime+a/1E3:f;d||(d=this.g.createBufferSource(),d.playbackRate.setValueAtTime(1,this.g.currentTime));$l(this);this.o?(d.connect(this.o),this.o.connect(this.H)):d.connect(this.H);d.loop=b;try{d.buffer=this.U.buffer}catch(h){return-1}a=this.v/1E3;var g=this.j/1E3/d.playbackRate.value;b?(d.loopStart=a+(e?c/1E3:0),d.loopEnd=a+g,d.start(f,
a+c/1E3)):d.start(f,a+c/1E3,g);e=this.T++;this.i[e]={node:d,aj:1E3*f-c,Hk:b};return e};var am=function(a,b){$l(a);a.o&&a.o.gain.setValueAtTime(b,a.g.currentTime)};Yl.prototype.stop=function(a){Zl(this);if(void 0!==a){if(this.i[a]){try{this.i[a].node.stop(0)}catch(c){}var b=(1E3*this.g.currentTime-this.i[a].aj)%this.j;delete this.i[a];return[b]}return[]}a=[];for(b in this.i)a=a.concat(this.stop(b));return a};
var bm=document.createElement("audio"),cm=Za(bm.canPlayType)&&""!=bm.canPlayType("audio/mpeg")?".mp3":".ogg",dm=function(a,b){ob.call(this,a+b+cm);this.H=this.buffer=null;this.g=0};w(dm,ob);
dm.prototype.preload=function(a,b){var c=this;a&&rb(this,a);if(0==this.g&&this.H){var d=new XMLHttpRequest;d.open("GET",this.U,!0);d.responseType="arraybuffer";d.onload=function(){c.H.decodeAudioData(d.response,function(e){e&&(c.buffer=e,c.g=3,c.i())});c.g=2};b&&(d.onprogress=function(e){e.lengthComputable&&b(e.loaded/e.total)});d.send();this.g=1}};var em=function(){Rl.call(this,em.i,em.g)};w(em,Rl);em.H=dm;em.o=Yl;em.j=Sl;em.i={nd:new dm("/logos/2018/bach/r2/","effects")};var fm=em.i;em.g={Bj:new Yl(fm.nd,0,3096,0),Cj:new Yl(fm.nd,4096,2832,0),Sf:new Yl(fm.nd,7928,408,0),Dj:new Yl(fm.nd,9336,216,0),Ej:new Yl(fm.nd,10552,2184,0),Sg:new Yl(fm.nd,13736,5511.854,0),Rh:new Yl(fm.nd,20247.854,9072,0)};Va(em);var gm=em;var im=function(a,b,c){E.call(this,a,b,c);this.setSize(hm.width*Yf,hm.height*Yf)};w(im,E);im.prototype.vb=function(a){a.drawImage(hm,-this.ha().width/2,-this.ha().height/2,this.ha().width,this.ha().height)};var jm=document.createElement("canvas");jm.width=50;jm.height=80;var km=jm.getContext("2d"),lm=km.createRadialGradient(25,40,10,25,40,25);lm.addColorStop(0,"rgba(255, 250, 205, 0.5)");lm.addColorStop(1,"rgba(255, 250, 205, 0)");km.fillStyle=lm;km.beginPath();km.arc(25,40,25,0,2*Math.PI);km.fill();
km.globalAlpha=.8;km.beginPath();km.moveTo(25,0);km.quadraticCurveTo(25,40,50,40);km.quadraticCurveTo(25,40,25,80);km.quadraticCurveTo(25,40,0,40);km.quadraticCurveTo(25,40,25,0);km.closePath();km.fillStyle="LightYellow";km.fill();var hm=jm;var mm=function(a,b,c,d,e){e=void 0===e?Ta:e;Bl.call(this,a,function(){f.Ea&&f.Ea.play();f.up();d()},function(){f.La=!0;Cl(f,f.$);f.$.i(f.$.H.x,f.$.H.y+f.R);e()},!1,function(){f.up()});var f=this;this.Ea=gm.g.Sf;this.La=!1;this.$=c;this.$a=b;this.R=0;Cl(this,b);this.W&&eg(this.W);this.W=null;this.j=new Ol;this.j.setSize(this.ha().width,this.ha().height);B(this.j,this);this.j.g=!1;this.v=new pg;B(this.v,this);this.v.g=!1;this.va=this.wa=this.Ba=null};w(mm,Bl);
var pm=function(a,b){b=void 0===b?new A(0,0,0):b;a.wa||(a.wa=new $f(b),a.va=new pg,b=new im(-1,1,0),b.U=-3,B(b,a.wa),b=new im(-.9,1.2,1),b.U=-3,B(b,a.wa),b=new im(.2,.4,0),b.U=-3,B(b,a.wa),B(a.wa,a),B(a.va,a));b={};for(var c=t(a.wa.Ka),d=c.next();!d.done;b={Gd:b.Gd},d=c.next())b.Gd=d.value,b.Gd=b.Gd,b.Gd.o=0,rg(a.va,0,function(e){return function(){ug(a.va,Ml(e.Gd,300))}}(b)),rg(a.va,200,function(e){return function(){vg(a.va,function(){ug(a.va,Nl(e.Gd,300))})}}(b))},qm=function(a,b,c){a.j.i(a.ha().width*
b,a.ha().height*c)};mm.prototype.sh=function(){var a=this;Bl.prototype.sh.call(this);this.Ba&&this.Ba(!0);this.j.g?Pl(this.j):this.v.g&&(tg(this.v),ug(this.v,new Ll(200,1,1.25,function(b){gg(a.Wb,b)},{td:Kl,Dc:function(){return a.Wb.Ca}})))};mm.prototype.th=function(){var a=this;Bl.prototype.th.call(this);this.Ba&&this.Ba(!1);this.j.g?Ql(this.j):this.v.g&&(tg(this.v),ug(this.v,new Ll(200,1.25,1,function(b){gg(a.Wb,b)},{Dc:function(){return a.Wb.Ca}})))};
mm.prototype.up=function(){this.La=!1;Cl(this,this.$a)};var rm=function(a,b,c,d){c=void 0===c?"255, 245, 100":c;a.Ba=null;0==b?(a.j.g=!1,a.v.g=!1):3==b?(a.j.g=!1,a.v.g=!0):(1==b?(a.v.g=!1,a.j.g=!0,a.j.U=-2,a.j.lc="screen",b=a.j,b.v=c,b.j=null):(a.v.g=!1,a.j.g=!0,a.j.U=3,a.j.lc="lighter",c?(b=a.j,b.v=c,b.j=null):(c=a.j,c.v="240, 230, 140",c.j=null)),gg(a.j,void 0===d?1:d))},sm=function(a,b){a.j.g=!1;a.v.g=!1;a.Ba=b};mm.prototype.vd=function(){return this.Wb.vd()};var xm=function(a,b,c){$f.call(this,void 0===a?0:a,void 0===b?0:b,void 0===c?0:c);gg(this,1.2);a=new Cg(0,2);c=new G(yj);sh(c,45,30);c.i(0,-5.8);B(c,a);b=new G(zj);b.i(-19.35,3.6);sh(b,6.3,12);B(b,a);var d=new G(Aj);d.i(19.35,3.6);sh(d,6.3,12);B(d,a);a.setSize(c.ha().width,c.ha().height+b.ha().height);B(a,this);this.$=!1;this.o=new G(Ij);this.o.i(0,a.ha().height/2-.4,1);rh(this.o,0,-.5);sh(this.o,44,7);B(this.o,a);this.Sa=new G(Di,.5,1);sh(this.Sa,37,30);rh(this.Sa,0,-.5);B(this.Sa,this.o);var e=
0;c=function(){jh(ih.ya(),11,tm[e++%tm.length])};this.j=new hh(um,c);gh(this.j.j,14,14);this.j.i(11.5,7.5);B(this.j,this.o);this.T=new hh(vm,c);this.T.i(-1,8.5);gh(this.T.j,15,15);B(this.T,this.o);this.v=new hh(wm,c);this.v.i(-13.6,7.7);gh(this.v.j,11,11);B(this.v,this.o);gg(this.o,.95);this.va=new $f;for(c=0;16>c;c++)d=new G(Hj),d.i(-19+c/15*37.5,3*Math.sin(c/Math.PI*2)),sh(d,2.2,20),B(d,this.va);this.va.i(0,16,3);B(this.va,this);this.S=new fh({Vc:zl,Zd:Qj},12);gh(this.S,53,20);this.S.i(1,19,2);
this.S.g=!1;B(this.S,this);c=new G(Nj);dg(c,new G(Bj));d=new G(Nj);dg(d,new G(Pj));this.W=new mm(new A(-1,2,0),c,c,function(){jh(ih.ya(),13,ul)});gg(this.W,3);B(this.W,b);rm(this.W,3);this.R=new mm(new A(-1,2,0),d,d,function(){jh(ih.ya(),13,wl)});gg(this.R,3);this.R.g=!1;B(this.R,b);rm(this.R,3);c=new G(Nj);c.Tb=20*Math.PI/180;d=new G(Zj);d.Tb=-10*Math.PI/180;B(d,c);this.Fa=new mm(new A(-1.2,-2,0),c,c,function(){jh(ih.ya(),13,sl)});gg(this.Fa,3);B(this.Fa,b);rm(this.Fa,3);b=new G(Fi,0,a.ha().height/
2+1.2);sh(b,18,20);B(b,a)};w(xm,$f);var ym=function(a,b){a.R.g=b&&a.$;a.W.g=b&&!a.$;a.Fa.g=b&&!a.$},zm=function(a){var b=a.j.H;a=a.o.H;return(new A(b.x+a.x,b.y+a.y,b.g+a.g)).add(new A(1,2.3,0))},Mm=function(a){return[a.j,a.T,a.v].concat(la(a.$?[a.R]:[a.Fa,a.W]))},Nm=function(a,b){a.$=b;a.va.g=!b;a.Sa.g=!b;a.o.o=b?0:1;a.S.g=b;a.j.g=!b;a.T.g=!b;a.v.g=!b;a.W.g=!b;a.R.g=b;a.Fa.g=!b};xm.prototype.play=function(){this.S.play();this.j.j.play();this.v.j.play();this.T.j.play()};
var Om=function(a){a.S.j=!0;a.j.j.j=!0;a.v.j.j=!0;a.T.j.j=!0},um={Vc:{width:270,height:240,frames:[[[8,26,722,0,239,204,0]],[[7,24,241,0,240,206,0]],[[7,19,0,0,240,209,0]],[[17,189,477,307,3,3,0],[14,210,1232,308,3,3,0],[28,186,477,311,3,3,0],[32,216,236,312,3,3,0],[42,218,1232,312,3,3,0],[56,129,477,238,3,7,0],[55,182,477,315,3,3,0],[54,220,236,316,3,3,0],[62,16,849,624,185,110,0],[173,148,1180,1159,52,6,0],[98,159,798,1190,129,35,0],[161,206,833,1226,74,12,0],[144,221,1014,1219,63,7,0]],[[17,189,
1232,316,3,3,0],[16,211,477,319,3,3,0],[28,215,236,320,3,3,0],[32,216,1232,320,3,3,0],[42,218,477,323,3,3,0],[62,16,1035,624,185,110,0],[56,130,1232,255,3,6,0],[219,148,1208,317,6,4,0],[55,158,544,904,178,36,0],[162,207,1014,1227,61,17,0],[144,225,236,324,3,3,0]],[[7,198,1232,324,3,3,0],[17,189,477,327,3,3,0],[16,211,236,328,3,3,0],[28,215,1232,328,3,3,0],[32,216,477,331,3,3,0],[42,218,236,332,3,3,0],[56,129,236,210,3,9,0],[54,220,1232,332,3,3,0],[62,87,1194,283,20,12,0],[71,118,477,335,3,3,0],[65,
122,236,336,3,3,0],[71,158,1232,336,3,3,0],[68,179,1194,313,13,5,0],[85,83,477,339,3,3,0],[91,77,236,340,3,3,0],[101,42,1218,355,5,5,0],[98,58,236,282,3,4,0],[96,66,1232,340,3,3,0],[113,40,1194,331,13,4,0],[129,40,1228,102,7,4,0],[127,225,477,343,3,3,0],[137,47,236,344,3,3,0],[144,57,1232,344,3,3,0],[141,159,477,347,3,3,0],[139,173,236,348,3,3,0],[151,16,1082,1198,96,111,0],[173,148,1180,1166,52,6,0],[160,164,229,1272,67,30,0],[162,207,499,1248,73,12,0],[160,224,1232,348,3,3,0]],[[7,198,477,351,3,
3,0],[17,189,236,352,3,3,0],[14,210,1230,355,5,4,0],[28,215,477,355,3,3,0],[32,216,236,356,3,3,0],[48,219,477,359,3,3,0],[56,129,477,218,3,9,0],[62,17,0,651,184,114,0],[173,147,1180,1151,52,7,0],[230,166,236,360,3,3,0],[68,171,1073,1044,159,23,0],[238,198,477,363,3,3,0],[193,209,1190,419,42,10,0],[127,225,1198,204,20,3,0]],[[7,198,236,364,3,3,0],[14,210,1194,357,5,4,0],[28,186,477,367,3,3,0],[28,215,236,368,3,3,0],[56,129,477,207,3,10,0],[55,182,477,371,3,3,0],[54,220,236,372,3,3,0],[62,19,849,735,
183,111,0],[215,146,1194,240,23,6,0],[78,161,317,1150,149,33,0],[238,198,1194,373,3,3,0],[162,206,899,1018,80,12,0],[127,222,233,1251,72,6,0]],[[16,211,1209,373,3,3,0],[28,186,1213,373,3,3,0],[56,133,236,239,3,7,0],[55,182,477,375,3,3,0],[54,220,1204,375,3,3,0],[63,91,1194,296,13,8,0],[65,107,1223,361,4,5,0],[71,121,236,376,3,3,0],[69,181,1198,376,3,3,0],[72,222,1217,376,3,3,0],[81,85,1208,305,6,5,0],[88,82,1221,376,3,3,0],[92,75,1194,362,4,5,0],[101,42,1198,78,34,7,0],[99,54,1225,376,3,3,0],[98,
59,1229,376,3,3,0],[97,65,1194,377,3,3,0],[98,177,1198,0,37,5,0],[126,225,1206,346,4,3,0],[139,52,1226,119,10,13,0],[140,167,1208,377,3,3,0],[140,180,1212,377,3,3,0],[145,225,1228,368,4,3,0],[151,20,317,1212,94,109,0],[222,132,1206,357,4,7,0],[214,146,1198,197,24,6,0],[160,161,183,766,51,33,0],[161,207,833,1239,74,12,0],[174,224,477,379,3,3,0]],[[17,189,1202,379,3,3,0],[28,215,236,380,3,3,0],[56,131,236,230,3,8,0],[62,96,1223,367,4,4,0],[66,109,1198,380,3,3,0],[65,122,1216,380,3,3,0],[71,158,1220,
380,3,3,0],[72,222,1224,380,3,3,0],[98,177,1228,380,3,3,0],[97,224,1233,368,3,3,0],[134,45,1233,376,3,3,0],[140,167,1232,380,3,3,0],[152,70,1194,381,3,3,0],[157,20,412,1212,86,110,0],[222,132,1230,360,4,7,0],[214,145,1198,189,24,7,0],[159,161,946,1153,74,32,0],[160,206,899,1004,82,13,0],[174,222,1198,183,25,5,0]],[[10,186,1194,263,21,11,0],[7,198,1206,381,3,3,0],[12,209,1216,278,19,9,0],[39,184,1210,381,3,3,0],[32,216,1194,319,13,5,0],[46,183,477,383,3,3,0],[46,218,1194,368,4,4,0],[55,20,660,622,
188,181,0],[53,202,0,624,186,26,0]],[[7,20,722,205,235,208,0]],[[7,21,241,207,235,207,0]],[[7,21,236,415,235,206,0]],[[7,200,1202,383,3,3,0],[16,187,236,384,3,3,0],[17,209,1198,384,3,3,0],[57,22,1033,735,183,103,0],[56,126,468,828,182,64,0],[163,202,86,1282,58,17,0],[166,222,1214,384,3,3,0]],[[9,191,1218,384,3,3,0],[52,180,1222,384,3,3,0],[56,125,236,220,3,9,0],[56,135,1226,384,3,3,0],[62,19,365,893,178,104,0],[221,127,1230,384,3,3,0],[214,141,1194,305,13,7,0],[170,149,1194,385,3,3,0],[62,159,1055,
1078,171,32,0],[159,203,1198,91,29,13,0],[213,217,1206,385,3,3,0]],[[9,191,1210,385,3,3,0],[7,196,477,387,3,3,0],[16,187,1202,387,3,3,0],[17,209,236,388,3,3,0],[30,213,1198,388,3,3,0],[39,215,1214,388,3,3,0],[52,180,1218,388,3,3,0],[56,125,1222,388,3,3,0],[56,129,477,269,3,5,0],[56,135,236,255,3,6,0],[62,19,183,932,177,108,0],[214,141,1224,171,12,7,0],[170,149,1207,342,6,3,0],[62,159,882,1083,169,33,0],[162,204,160,1277,59,15,0]],[[9,191,1226,388,3,3,0],[7,196,1230,388,3,3,0],[16,186,1208,322,6,4,
0],[45,181,1194,389,3,3,0],[56,125,1206,389,3,3,0],[56,129,477,275,3,5,0],[56,138,1210,389,3,3,0],[62,19,544,941,177,104,0],[215,141,1226,133,10,6,0],[80,161,662,1151,147,31,0],[162,204,570,1275,67,15,0]],[[9,191,477,391,3,3,0],[17,209,1202,391,3,3,0],[45,181,236,392,3,3,0],[56,125,477,228,3,9,0],[56,138,1198,392,3,3,0],[56,147,1214,392,3,3,0],[62,21,1024,946,176,97,0],[63,120,1218,392,3,3,0],[215,141,1223,195,12,6,0],[170,149,1199,362,4,5,0],[107,162,1222,392,3,3,0],[98,167,946,1188,135,25,0],[193,
207,1198,6,36,10,0],[79,220,1226,392,3,3,0]],[[17,209,1230,392,3,3,0],[39,215,1194,393,3,3,0],[56,126,477,246,3,7,0],[56,138,1206,393,3,3,0],[56,147,1210,393,3,3,0],[62,23,722,952,176,97,0],[215,142,1226,140,10,5,0],[98,162,662,1183,135,30,0],[162,204,1198,54,34,11,0]],[[9,191,477,395,3,3,0],[39,215,1202,395,3,3,0],[56,138,236,396,3,3,0],[56,147,1224,355,5,5,0],[63,120,1198,396,3,3,0],[72,89,1214,396,3,3,0],[69,112,1218,396,3,3,0],[94,71,1222,396,3,3,0],[103,42,1226,396,3,3,0],[107,162,1230,396,3,
3,0],[109,222,1199,368,4,3,0],[132,176,236,287,3,4,0],[137,47,1194,397,3,3,0],[153,22,0,1215,85,90,0],[189,113,1198,86,30,4,0],[218,119,1206,397,3,3,0],[220,125,1210,397,3,3,0],[220,141,1208,311,6,5,0],[160,161,499,1261,70,31,0],[161,204,570,1261,68,13,0]],[[9,191,477,399,3,3,0],[19,186,1202,399,3,3,0],[17,209,236,400,3,3,0],[52,180,1198,400,3,3,0],[56,128,236,262,3,6,0],[58,149,1214,400,3,3,0],[62,179,1218,400,3,3,0],[94,71,1222,400,3,3,0],[98,175,1226,400,3,3,0],[103,42,1230,400,3,3,0],[107,162,
1194,401,3,3,0],[109,222,1209,369,4,3,0],[132,176,477,287,3,4,0],[137,47,1206,401,3,3,0],[149,222,1210,401,3,3,0],[153,22,662,1214,85,123,0],[170,149,477,403,3,3,0],[159,159,833,1252,71,32,0],[161,204,1014,1245,60,15,0],[239,197,1202,403,3,3,0]],[[9,183,1198,171,25,11,0],[8,203,1198,157,26,13,0],[35,180,1216,271,20,6,0],[35,213,1216,263,20,7,0],[56,22,0,766,182,203,0],[239,206,236,404,3,3,0]],[[7,21,954,419,235,204,0]],[[7,20,0,418,235,205,0]],[[7,20,0,210,235,207,0]],[[7,22,472,415,235,206,0]],[[11,
192,1198,404,3,3,0],[21,213,1214,404,3,3,0],[56,130,1218,404,3,3,0],[62,23,709,1050,172,100,0],[215,143,1194,336,12,6,0],[72,158,882,1117,161,35,0],[161,206,160,1251,72,12,0],[84,219,1082,1188,135,9,0],[235,149,1222,404,3,3,0],[239,206,1232,288,3,4,0]],[[7,198,1226,404,3,3,0],[16,211,1230,404,3,3,0],[21,213,1194,405,3,3,0],[28,186,1206,405,3,3,0],[62,23,536,1046,172,102,0],[215,143,1194,254,22,8,0],[98,158,1044,1151,135,36,0],[162,207,1198,66,34,11,0],[123,220,899,989,91,8,0],[239,206,236,292,3,4,
0]],[[7,198,1210,405,3,3,0],[11,192,477,407,3,3,0],[18,189,1202,407,3,3,0],[16,211,236,408,3,3,0],[29,215,1198,408,3,3,0],[46,183,1214,408,3,3,0],[56,128,236,276,3,5,0],[64,94,1194,351,8,5,0],[69,115,1218,408,3,3,0],[75,88,1226,155,9,6,0],[100,45,1226,146,9,8,0],[97,65,1222,408,3,3,0],[92,74,1212,355,5,7,0],[108,162,1226,408,3,3,0],[98,173,1230,408,3,3,0],[98,177,1194,409,3,3,0],[114,44,1208,327,6,4,0],[112,161,1206,409,3,3,0],[121,44,1218,233,17,7,0],[127,158,1210,409,3,3,0],[132,179,1202,411,3,
3,0],[123,225,1214,369,4,3,0],[140,55,1198,412,3,3,0],[143,59,1214,412,3,3,0],[147,65,1218,412,3,3,0],[147,225,1222,412,3,3,0],[151,22,748,1226,84,101,0],[218,124,1226,412,3,3,0],[177,141,1014,1261,60,13,0],[160,163,86,1248,73,33,0],[162,207,1198,30,35,11,0]],[[18,189,1230,412,3,3,0],[19,212,1200,357,5,4,0],[28,186,1194,413,3,3,0],[28,215,1204,371,4,3,0],[46,183,1206,413,3,3,0],[56,128,477,292,3,4,0],[62,22,176,1041,174,105,0],[215,143,1194,343,11,7,0],[177,151,1210,413,3,3,0],[112,161,1014,1214,
65,4,0],[98,167,317,1184,135,27,0],[193,209,1218,361,4,7,0],[71,217,351,1138,156,11,0]],[[7,198,708,415,3,3,0],[28,186,712,415,3,3,0],[28,215,1199,372,4,3,0],[62,22,361,998,174,106,0],[215,143,1224,179,12,7,0],[112,158,899,952,121,36,0],[162,207,233,1258,71,13,0],[84,223,899,1037,74,5,0]],[[19,212,708,419,3,3,0],[28,186,712,419,3,3,0],[28,215,1219,372,4,3,0],[62,21,0,970,175,107,0],[215,143,1194,221,23,9,0],[98,158,810,1153,135,36,0],[161,207,1198,145,27,11,0],[116,219,723,939,103,9,0]],[[7,198,708,
423,3,3,0],[21,213,712,423,3,3,0],[28,215,708,427,3,3,0],[33,185,712,427,3,3,0],[56,127,1232,293,3,4,0],[62,97,1190,430,3,3,0],[67,111,1194,430,3,3,0],[84,223,1198,430,3,3,0],[98,177,1202,430,3,3,0],[127,158,1206,430,3,3,0],[140,167,1210,430,3,3,0],[147,225,1224,372,4,3,0],[152,21,928,1214,85,109,0],[222,131,1214,430,3,3,0],[215,144,1194,231,23,8,0],[159,161,86,1215,74,32,0],[160,206,573,1248,73,12,0],[196,219,1194,247,23,6,0]],[[7,198,1218,430,3,3,0],[11,21,236,622,231,207,0]],[[7,20,958,211,235,
207,0]],[[7,20,718,414,235,207,0]],[[7,19,962,0,235,210,0]],[[7,22,482,206,235,208,0]],[[16,191,1222,430,3,3,0],[56,136,236,297,3,4,0],[56,142,477,297,3,4,0],[57,222,1226,430,3,3,0],[62,24,1033,839,180,106,0],[216,146,1224,187,12,7,0],[140,162,365,854,93,33,0],[239,201,1230,430,3,3,0],[159,207,1198,105,29,13,0],[182,224,1217,255,14,4,0]],[[16,191,708,431,3,3,0],[26,188,712,431,3,3,0],[26,216,1190,434,3,3,0],[30,217,1194,434,3,3,0],[39,219,1198,434,3,3,0],[44,220,1202,434,3,3,0],[56,136,1232,298,3,
4,0],[56,141,236,302,3,4,0],[57,222,1229,372,4,3,0],[62,26,843,847,180,104,0],[222,131,1206,434,3,3,0],[218,146,1218,241,16,7,0],[66,158,0,1078,172,38,0],[161,208,1198,17,35,12,0],[88,225,899,1031,78,5,0]],[[7,204,1210,434,3,3,0],[35,218,1228,107,7,4,0],[44,220,1214,434,3,3,0],[56,133,236,247,3,7,0],[56,141,477,254,3,7,0],[57,222,1218,434,3,3,0],[62,26,183,830,181,101,0],[219,148,1219,204,15,5,0],[66,158,1052,1111,166,39,0],[239,201,1222,434,3,3,0],[162,208,1198,42,35,11,0],[88,225,544,898,78,4,0]],
[[7,199,1226,434,3,3,0],[7,204,1230,434,3,3,0],[26,216,708,435,3,3,0],[35,218,1228,112,7,4,0],[56,134,712,435,3,3,0],[56,144,477,302,3,4,0],[59,183,1190,438,3,3,0],[72,86,1218,221,17,11,0],[65,109,1211,363,4,5,0],[66,158,1208,332,6,4,0],[73,182,1194,438,3,3,0],[75,224,1198,438,3,3,0],[91,26,163,1147,153,103,0],[220,148,1194,325,13,5,0],[235,159,1202,438,3,3,0],[130,173,365,830,96,23,0],[235,197,1206,438,3,3,0],[239,201,1210,438,3,3,0],[193,211,1194,211,38,9,0],[177,225,1214,438,3,3,0]],[[7,199,1218,
438,3,3,0],[7,204,1222,438,3,3,0],[16,191,1226,438,3,3,0],[26,216,1230,438,3,3,0],[42,185,708,439,3,3,0],[39,219,712,439,3,3,0],[62,26,660,804,182,99,0],[56,135,477,262,3,6,0],[173,148,1014,1275,60,8,0],[66,158,882,1078,172,4,0],[59,164,899,1044,173,33,0],[163,208,160,1264,68,12,0],[57,222,1073,1068,139,6,0]],[[26,216,1190,442,3,3,0],[62,27,0,1117,162,97,0],[222,130,1194,442,3,3,0],[56,135,236,269,3,6,0],[56,142,1198,442,3,3,0],[221,150,1202,442,3,3,0],[59,164,351,1105,168,32,0],[161,208,1198,119,
27,12,0],[75,224,544,893,105,4,0],[228,31,1215,288,16,66,0],[230,148,1206,442,3,3,0],[229,194,1210,442,3,3,0]],[[8,196,1214,442,3,3,0],[7,204,1218,442,3,3,0],[26,216,1222,442,3,3,0],[56,135,477,281,3,5,0],[56,141,1232,303,3,4,0],[56,151,1226,442,3,3,0],[64,95,1228,96,7,5,0],[62,103,1204,365,4,5,0],[66,158,1230,442,3,3,0],[73,90,1225,162,9,6,0],[73,182,708,443,3,3,0],[85,86,712,443,3,3,0],[88,225,1190,446,3,3,0],[92,26,508,1149,153,98,0],[235,159,1194,446,3,3,0],[130,163,723,904,103,34,0],[161,208,
1198,132,27,12,0],[107,224,899,998,89,5,0]],[[7,194,1208,296,6,8,0],[7,204,1229,86,7,9,0],[19,189,1207,337,6,4,0],[17,213,1203,351,8,5,0],[30,185,1218,249,15,5,0],[26,216,1194,275,21,7,0],[50,184,1198,446,3,3,0],[50,220,236,307,3,4,0],[55,25,468,622,191,205,0]],[[7,25,482,0,239,205,0]]]},Zd:[2,0,0,1236,1337]},vm={Vc:{width:279,height:208,frames:[[[16,10,0,189,244,184,0]],[[15,7,246,0,245,187,0]],[[27,7,233,559,231,168,0],[27,178,465,569,228,16,0]],[[23,7,0,374,237,165,0],[252,178,1085,379,3,3,0],
[39,184,898,895,184,10,0]],[[16,174,1085,551,3,3,0],[27,9,452,798,224,120,0],[217,133,1074,675,3,3,0],[97,139,983,0,98,14,0],[234,155,1078,676,3,3,0],[25,159,465,586,227,13,0],[22,179,1080,201,8,5,0],[61,187,983,150,88,7,0],[257,165,691,677,3,3,0],[255,176,695,677,3,3,0]],[[16,174,699,677,3,3,0],[22,179,703,677,3,3,0],[68,69,707,677,3,3,0],[172,19,693,586,4,5,0],[167,32,711,677,3,3,0],[97,44,976,207,85,70,0],[119,148,1083,362,5,4,0],[146,163,1008,546,30,7,0],[124,191,1060,281,25,3,0],[183,146,465,
564,4,3,0],[220,90,715,677,3,3,0],[226,102,719,677,3,3,0],[234,155,723,677,3,3,0],[238,83,1082,678,3,3,0],[251,160,1074,679,3,3,0],[256,163,1078,680,3,3,0]],[[16,174,691,681,3,3,0],[27,98,695,681,3,3,0],[27,181,699,681,3,3,0],[35,183,703,681,3,3,0],[67,69,718,603,4,3,0],[80,91,1075,102,11,19,0],[109,46,1062,233,25,25,0],[112,73,723,605,4,3,0],[130,79,708,607,4,3,0],[128,90,967,550,6,3,0],[124,191,707,681,3,3,0],[136,77,475,539,7,4,0],[136,93,711,681,3,3,0],[148,76,715,681,3,3,0],[149,92,719,681,3,
3,0],[145,191,723,681,3,3,0],[155,75,1082,682,3,3,0],[163,47,1074,683,3,3,0],[167,32,1078,684,3,3,0],[172,19,698,586,4,5,0],[182,11,691,685,3,3,0],[200,11,695,685,3,3,0],[219,86,699,685,3,3,0],[218,186,1055,550,5,3,0],[234,155,703,685,3,3,0],[238,83,707,685,3,3,0],[243,29,711,685,3,3,0],[251,160,715,685,3,3,0]],[[16,174,719,685,3,3,0],[27,98,723,685,3,3,0],[27,181,1082,686,3,3,0],[68,69,1074,687,3,3,0],[84,100,703,586,4,5,0],[167,31,1078,688,3,3,0],[109,50,691,689,3,3,0],[96,66,983,158,86,48,0],[119,
148,1082,9,6,4,0],[146,163,1052,355,30,9,0],[123,191,695,689,3,3,0],[185,10,699,689,3,3,0],[183,146,703,689,3,3,0],[190,189,707,689,3,3,0],[200,11,711,689,3,3,0],[219,86,715,689,3,3,0],[221,92,719,689,3,3,0],[218,186,1061,550,5,3,0],[226,102,723,689,3,3,0],[228,125,1082,690,3,3,0],[234,16,1074,691,3,3,0],[234,155,1078,692,3,3,0],[243,29,691,693,3,3,0],[256,163,695,693,3,3,0],[255,176,699,693,3,3,0]],[[20,178,703,693,3,3,0],[27,98,707,693,3,3,0],[172,21,711,693,3,3,0],[109,50,715,693,3,3,0],[92,58,
983,81,91,56,0],[97,140,483,517,6,5,0],[118,147,976,361,69,6,0],[172,156,713,607,4,3,0],[147,163,1038,450,30,9,0],[146,191,718,607,4,3,0],[191,149,1083,152,5,5,0],[193,161,693,608,4,3,0],[200,11,719,693,3,3,0],[222,96,708,586,4,5,0],[228,125,723,693,3,3,0],[234,155,1082,694,3,3,0],[240,23,1071,696,3,3,0],[242,157,1075,696,3,3,0],[248,54,691,697,3,3,0],[252,178,695,697,3,3,0],[257,165,699,697,3,3,0]],[[87,105,703,697,3,3,0],[87,138,1085,348,3,5,0],[93,106,1085,546,3,4,0],[97,107,475,544,7,4,0],[98,
141,1083,355,5,6,0],[109,50,707,697,3,3,0],[108,54,711,697,3,3,0],[109,66,715,697,3,3,0],[113,113,698,608,4,3,0],[119,101,719,697,3,3,0],[118,149,1079,454,8,5,0],[123,191,723,697,3,3,0],[137,10,967,462,68,75,0],[163,87,694,569,24,16,0],[147,147,1034,368,50,8,0],[171,156,988,550,5,4,0],[140,161,976,368,57,6,0],[150,168,708,592,4,4,0],[146,189,1038,444,47,5,0],[208,11,475,486,8,3,0],[209,85,233,546,3,4,0],[218,82,963,697,3,3,0],[219,186,967,697,3,3,0],[223,11,233,1042,29,75,0],[226,102,971,697,3,3,
0],[256,163,713,586,4,5,0]],[[17,176,975,697,3,3,0],[22,179,979,697,3,3,0],[27,10,730,555,232,165,0],[255,176,983,697,3,3,0],[27,181,917,721,166,13,0]],[[17,176,987,697,3,3,0],[24,10,238,374,236,184,0]],[[19,162,991,697,3,3,0],[17,176,995,697,3,3,0],[24,10,730,378,236,176,0],[76,189,967,378,117,5,0]],[[16,6,738,0,244,188,0]],[[16,166,999,697,3,3,0],[16,172,1046,361,4,6,0],[25,6,0,540,232,174,0],[35,182,876,1023,209,8,0],[130,191,1076,78,13,3,0],[258,168,1085,305,3,6,0]],[[19,162,1003,697,3,3,0],[23,
160,1007,697,3,3,0],[27,8,226,728,225,153,0],[133,171,703,608,4,3,0],[35,183,0,1028,194,11,0],[254,161,1011,697,3,3,0],[258,171,1015,697,3,3,0]],[[16,166,1019,697,3,3,0],[23,160,1023,697,3,3,0],[28,72,1075,132,11,4,0],[29,100,233,551,3,4,0],[36,183,1079,698,3,3,0],[41,71,1072,152,10,4,0],[43,184,1083,698,3,3,0],[52,186,1084,624,4,3,0],[57,69,1073,146,15,5,0],[60,77,1071,700,3,3,0],[73,10,876,1032,179,122,0],[230,134,1085,367,3,5,0],[99,140,898,937,147,20,0],[133,170,1084,628,4,3,0],[213,184,1043,
423,22,6,0],[127,191,1070,158,18,3,0],[258,171,1075,700,3,3,0]],[[16,164,718,587,4,5,0],[27,95,691,701,3,3,0],[48,71,695,701,3,3,0],[53,186,699,701,3,3,0],[75,74,974,550,6,3,0],[89,77,475,429,9,11,0],[161,42,703,701,3,3,0],[99,68,967,384,75,46,0],[118,140,485,438,4,6,0],[154,160,707,701,3,3,0],[100,190,1043,399,44,4,0],[176,23,711,701,3,3,0],[183,143,485,445,4,6,0],[190,142,723,589,4,5,0],[200,141,484,486,6,7,0],[223,83,715,701,3,3,0],[228,14,719,701,3,3,0],[230,120,723,701,3,3,0],[229,129,963,701,
3,3,0],[230,134,1085,373,3,5,0],[229,147,471,559,3,4,0],[229,153,967,701,3,3,0],[258,171,971,701,3,3,0]],[[27,95,975,701,3,3,0],[29,158,979,701,3,3,0],[25,180,983,701,3,3,0],[53,71,987,701,3,3,0],[59,187,991,701,3,3,0],[92,67,995,701,3,3,0],[100,190,999,701,3,3,0],[109,58,1003,701,3,3,0],[133,76,1055,546,7,3,0],[131,86,713,592,4,4,0],[138,91,483,535,6,4,0],[127,191,1070,162,18,3,0],[152,79,1007,701,3,3,0],[149,92,1011,701,3,3,0],[163,61,1015,701,3,3,0],[176,23,1019,701,3,3,0],[213,187,1023,701,3,
3,0],[223,83,1079,702,3,3,0],[222,92,1083,702,3,3,0],[226,101,1071,704,3,3,0],[229,129,1075,704,3,3,0],[230,136,691,705,3,3,0],[229,147,470,564,3,4,0],[229,153,695,705,3,3,0],[243,157,699,705,3,3,0],[244,181,703,705,3,3,0],[254,177,707,705,3,3,0],[258,171,711,705,3,3,0]],[[17,164,715,705,3,3,0],[29,158,719,705,3,3,0],[48,71,723,705,3,3,0],[53,71,963,705,3,3,0],[75,74,1039,551,5,3,0],[89,77,475,441,9,11,0],[161,42,967,705,3,3,0],[163,61,971,705,3,3,0],[99,67,976,313,75,47,0],[140,146,975,705,3,3,0],
[99,151,1084,632,4,3,0],[154,160,979,705,3,3,0],[133,170,983,705,3,3,0],[128,191,1070,166,18,3,0],[177,190,987,705,3,3,0],[182,142,486,404,4,8,0],[190,142,693,592,4,5,0],[200,144,718,593,4,4,0],[223,83,991,705,3,3,0],[226,101,995,705,3,3,0],[229,153,999,705,3,3,0],[233,105,1003,705,3,3,0],[242,27,1007,705,3,3,0],[245,41,1011,705,3,3,0],[248,57,1015,705,3,3,0],[254,177,1019,705,3,3,0],[258,171,1023,705,3,3,0]],[[17,175,1079,706,3,3,0],[27,95,1083,706,3,3,0],[36,183,1027,708,3,3,0],[53,71,1031,708,
3,3,0],[81,58,983,15,96,56,0],[118,140,1062,218,26,9,0],[94,152,475,423,10,5,0],[98,161,1035,708,3,3,0],[127,165,1075,122,11,9,0],[127,191,1069,450,19,3,0],[182,143,1086,281,3,7,0],[190,12,1039,708,3,3,0],[186,17,1043,708,3,3,0],[189,142,1029,538,5,6,0],[200,141,1082,0,6,8,0],[213,187,1047,708,3,3,0],[228,14,994,550,5,4,0],[231,84,1051,708,3,3,0],[233,105,1055,708,3,3,0],[229,147,1079,666,3,4,0],[229,153,1059,708,3,3,0],[242,27,1063,708,3,3,0],[245,41,1067,708,3,3,0],[243,157,1071,708,3,3,0],[241,
182,1075,708,3,3,0],[258,171,691,709,3,3,0]],[[17,175,695,709,3,3,0],[27,95,699,709,3,3,0],[36,183,703,709,3,3,0],[48,71,707,709,3,3,0],[53,71,711,709,3,3,0],[91,67,1084,636,4,3,0],[103,103,715,709,3,3,0],[99,141,1E3,550,5,4,0],[92,152,1075,82,12,13,0],[117,101,1084,640,4,3,0],[111,112,483,540,6,4,0],[119,139,475,507,7,9,0],[115,162,719,709,3,3,0],[161,20,1060,285,24,25,0],[133,49,1030,658,43,37,0],[164,96,485,452,4,6,0],[140,147,1043,404,44,3,0],[155,153,723,709,3,3,0],[127,164,967,538,40,11,0],
[135,190,1043,394,45,4,0],[186,10,1038,431,47,12,0],[240,23,963,709,3,3,0],[216,37,1052,340,32,7,0],[210,45,1043,408,41,14,0],[199,60,1030,624,53,33,0],[210,124,967,709,3,3,0],[229,129,971,709,3,3,0],[187,142,1043,384,45,9,0],[229,153,975,709,3,3,0],[258,171,979,709,3,3,0]],[[16,166,983,709,3,3,0],[16,173,987,709,3,3,0],[27,10,691,721,225,166,0],[31,182,991,709,3,3,0],[99,186,963,555,123,8,0],[258,167,1085,289,3,7,0]],[[17,164,995,709,3,3,0],[16,173,999,709,3,3,0],[23,160,1003,709,3,3,0],[28,10,465,
613,225,184,0],[257,164,1007,709,3,3,0]],[[17,164,1011,709,3,3,0],[16,173,1015,709,3,3,0],[23,160,1019,709,3,3,0],[27,10,0,715,225,168,0],[31,182,449,946,215,12,0],[256,163,723,595,4,4,0]],[[16,6,0,0,245,188,0]],[[17,165,1023,709,3,3,0],[17,172,1085,408,3,5,0],[21,161,1079,710,3,3,0],[29,70,483,545,6,4,0],[27,96,483,510,6,6,0],[26,180,1083,710,3,3,0],[38,70,475,490,8,3,0],[36,183,1076,72,13,5,0],[60,67,1071,546,6,4,0],[68,66,1078,546,6,4,0],[70,188,1027,712,3,3,0],[75,6,0,1040,167,174,0],[79,185,
898,927,150,9,0],[253,178,1031,712,3,3,0],[257,163,708,597,4,4,0],[257,174,713,597,4,4,0]],[[26,6,449,959,213,164,0],[41,184,898,916,175,10,0],[240,156,1035,712,3,3,0],[258,164,1039,712,3,3,0],[258,174,1043,712,3,3,0]],[[22,161,1047,712,3,3,0],[27,8,663,1008,212,118,0],[230,127,1051,712,3,3,0],[207,131,1062,269,25,5,0],[26,138,449,919,217,26,0],[146,166,1052,318,35,3,0],[29,181,1055,712,3,3,0],[79,189,1059,712,3,3,0],[258,164,1063,712,3,3,0],[258,174,1067,712,3,3,0]],[[81,78,1071,712,3,3,0],[88,72,
475,374,11,9,0],[90,83,1039,546,7,4,0],[155,33,1075,712,3,3,0],[152,37,691,713,3,3,0],[122,45,1062,228,26,4,0],[105,70,1030,595,56,28,0],[100,100,898,964,65,27,0],[118,148,695,713,3,3,0],[170,190,699,713,3,3,0],[199,144,1083,668,3,4,0],[219,17,703,713,3,3,0],[223,90,707,713,3,3,0],[227,28,711,713,3,3,0],[234,59,715,713,3,3,0],[235,155,719,713,3,3,0],[239,156,723,713,3,3,0],[244,157,963,713,3,3,0],[258,164,967,713,3,3,0],[258,174,971,713,3,3,0]],[[27,98,975,713,3,3,0],[26,180,979,713,3,3,0],[60,187,
983,713,3,3,0],[122,46,987,713,3,3,0],[141,92,991,713,3,3,0],[145,45,995,713,3,3,0],[152,37,999,713,3,3,0],[153,78,1003,713,3,3,0],[213,187,1007,713,3,3,0],[219,17,1011,713,3,3,0],[223,90,1015,713,3,3,0],[227,28,1019,713,3,3,0],[234,59,1023,713,3,3,0],[235,155,226,715,3,3,0],[239,156,1079,714,3,3,0]],[[22,161,1083,714,3,3,0],[43,71,1027,716,3,3,0],[60,69,1031,716,3,3,0],[60,187,1035,716,3,3,0],[80,78,1084,644,4,3,0],[88,67,1084,648,4,3,0],[88,72,475,384,11,9,0],[90,83,1047,546,7,4,0],[155,33,1039,
716,3,3,0],[152,37,1043,716,3,3,0],[145,45,1047,716,3,3,0],[109,56,1051,716,3,3,0],[105,68,1031,564,56,30,0],[100,100,964,964,65,27,0],[113,148,1052,348,32,6,0],[187,156,1055,716,3,3,0],[191,149,1059,716,3,3,0],[198,143,719,573,4,6,0],[213,187,1063,716,3,3,0],[234,59,1067,716,3,3,0],[239,156,1071,716,3,3,0],[244,157,1075,716,3,3,0],[256,162,693,598,4,4,0],[258,174,1084,718,3,3,0]],[[43,71,226,719,3,3,0],[70,188,1084,722,3,3,0],[152,37,226,723,3,3,0],[109,56,1084,726,3,3,0],[84,60,976,278,83,34,0],
[99,102,963,672,66,24,0],[112,138,1052,322,34,17,0],[145,161,1062,259,25,9,0],[178,166,452,728,3,3,0],[190,149,698,592,4,5,0],[186,156,698,598,4,4,0],[200,9,456,728,3,3,0],[197,142,1085,297,3,7,0],[239,156,460,728,3,3,0],[236,183,1084,652,4,3,0],[256,162,703,598,4,4,0],[258,174,1084,730,3,3,0]],[[22,161,452,732,3,3,0],[43,71,456,732,3,3,0],[60,69,460,732,3,3,0],[60,187,1068,735,3,3,0],[70,188,1072,735,3,3,0],[101,103,1076,735,3,3,0],[120,46,1080,735,3,3,0],[108,105,1084,734,3,3,0],[108,113,981,550,
6,3,0],[118,139,475,460,8,9,0],[112,149,1073,138,16,7,0],[136,21,691,613,36,63,0],[150,85,1074,670,3,4,0],[153,101,452,736,3,3,0],[140,138,976,189,5,10,0],[142,149,1084,656,4,3,0],[144,167,714,558,5,4,0],[175,13,475,517,7,9,0],[178,165,720,558,5,4,0],[189,9,456,736,3,3,0],[184,29,1080,15,8,55,0],[195,141,486,413,4,8,0],[190,150,976,200,5,5,0],[185,156,730,372,5,5,0],[191,162,460,736,3,3,0],[210,17,1056,1032,29,76,0],[207,97,725,568,4,6,0],[211,108,1084,738,3,3,0],[214,129,465,559,5,4,0],[235,155,
1068,739,3,3,0],[237,183,1072,739,3,3,0],[258,164,1076,739,3,3,0],[258,174,1080,739,3,3,0]],[[17,9,492,186,244,185,0]],[[16,9,492,0,245,185,0]],[[19,162,452,740,3,3,0],[23,160,456,740,3,3,0],[28,9,0,884,222,143,0],[29,158,465,600,227,12,0],[28,174,475,558,232,10,0],[45,185,898,906,177,9,0]],[[16,172,724,575,4,6,0],[23,6,737,189,238,188,0]],[[16,166,460,740,3,3,0],[16,173,1084,742,3,3,0],[27,98,1068,743,3,3,0],[31,71,1072,743,3,3,0],[35,70,1076,743,3,3,0],[40,70,1080,743,3,3,0],[63,67,452,744,3,3,
0],[73,66,714,563,5,4,0],[88,65,1045,551,5,3,0],[79,71,1063,546,7,3,0],[84,76,475,480,8,5,0],[90,103,720,563,5,4,0],[85,136,483,494,6,7,0],[91,155,484,477,6,8,0],[92,168,456,744,3,3,0],[98,6,917,735,150,146,0],[98,153,898,958,140,5,0],[127,164,1030,696,40,11,0],[130,186,983,72,92,8,0],[250,159,460,744,3,3,0],[258,167,1085,340,3,7,0]],[[16,162,483,502,6,7,0],[17,175,1084,746,3,3,0],[25,6,226,882,222,159,0],[101,170,1052,313,36,4,0],[25,180,876,1008,210,14,0],[250,159,1068,747,3,3,0],[254,161,1072,
747,3,3,0],[258,171,1076,747,3,3,0]],[[18,163,1080,747,3,3,0],[17,175,452,748,3,3,0],[23,160,456,748,3,3,0],[27,8,677,888,220,119,0],[229,133,718,598,4,4,0],[117,140,983,138,89,11,0],[98,152,917,882,134,4,0],[243,157,460,748,3,3,0],[98,161,1084,750,3,3,0],[127,165,475,394,11,9,0],[36,183,898,888,186,6,0],[128,191,1070,170,18,3,0],[254,177,1068,751,3,3,0],[258,171,1072,751,3,3,0]],[[36,183,1076,751,3,3,0],[43,184,1080,751,3,3,0],[73,73,1070,201,9,4,0],[87,79,475,527,7,5,0],[148,55,475,415,10,7,0],
[101,70,967,431,70,30,0],[102,102,963,594,66,25,0],[118,144,1062,275,25,5,0],[98,151,1067,551,5,3,0],[154,160,452,752,3,3,0],[133,170,456,752,3,3,0],[128,191,1073,551,5,3,0],[176,17,460,752,3,3,0],[183,145,1085,414,3,5,0],[190,144,703,592,4,5,0],[190,189,1084,754,3,3,0],[201,144,723,600,4,4,0],[222,83,1068,755,3,3,0],[219,186,1072,755,3,3,0],[229,129,1076,755,3,3,0],[229,146,1078,671,3,4,0],[226,185,1080,755,3,3,0],[233,24,452,756,3,3,0],[234,83,456,756,3,3,0],[233,105,708,602,4,4,0],[234,155,460,
756,3,3,0],[240,44,1084,758,3,3,0],[258,171,1068,759,3,3,0]],[[43,184,1072,759,3,3,0],[64,69,1076,759,3,3,0],[134,79,1079,551,5,3,0],[129,91,483,523,6,5,0],[129,191,1080,759,3,3,0],[142,191,1074,658,4,3,0],[154,45,452,760,3,3,0],[154,55,456,760,3,3,0],[213,187,460,760,3,3,0],[219,186,1084,762,3,3,0],[234,106,1068,763,3,3,0],[238,39,1072,763,3,3,0],[243,79,1076,763,3,3,0],[258,171,1080,763,3,3,0]],[[16,166,452,764,3,3,0],[17,175,456,764,3,3,0],[43,184,460,764,3,3,0],[53,186,1084,766,3,3,0],[59,187,
1068,767,3,3,0],[76,68,1072,767,3,3,0],[73,74,1069,454,9,3,0],[87,78,475,533,7,5,0],[92,84,1076,767,3,3,0],[148,55,475,453,9,6,0],[101,71,963,564,67,29,0],[102,102,963,620,66,25,0],[99,151,1079,658,4,3,0],[154,160,1080,767,3,3,0],[128,191,1070,174,18,3,0],[176,17,452,768,3,3,0],[182,144,486,422,4,7,0],[190,144,233,540,3,5,0],[213,187,456,768,3,3,0],[229,129,460,768,3,3,0],[226,185,1084,770,3,3,0],[234,106,1068,771,3,3,0],[238,39,1072,771,3,3,0],[240,44,1076,771,3,3,0],[254,177,1080,771,3,3,0],[258,
171,452,772,3,3,0]],[[17,175,456,772,3,3,0],[29,158,460,772,3,3,0],[48,71,1084,774,3,3,0],[53,186,1068,775,3,3,0],[59,187,1072,775,3,3,0],[91,67,1084,660,4,3,0],[82,73,1076,775,3,3,0],[82,78,1075,96,12,5,0],[153,51,1080,775,3,3,0],[148,58,452,776,3,3,0],[108,62,168,1042,64,34,0],[102,102,963,646,66,25,0],[118,140,1062,207,26,10,0],[98,151,475,549,6,4,0],[129,166,456,776,3,3,0],[133,170,1074,662,4,3,0],[127,191,1008,538,20,3,0],[182,147,460,776,3,3,0],[188,144,708,558,5,6,0],[202,144,713,602,4,4,0],
[213,187,1084,778,3,3,0],[217,12,1068,779,3,3,0],[219,186,1072,779,3,3,0],[226,185,1079,662,4,3,0],[233,24,719,580,4,6,0],[234,83,1076,779,3,3,0],[238,39,1080,779,3,3,0],[254,177,452,780,3,3,0],[258,171,456,780,3,3,0]],[[17,175,460,780,3,3,0],[29,158,1084,782,3,3,0],[48,71,1068,783,3,3,0],[53,186,1072,783,3,3,0],[59,187,1076,783,3,3,0],[91,67,1084,664,4,3,0],[103,103,1080,783,3,3,0],[103,109,693,603,4,4,0],[99,143,483,529,6,5,0],[98,152,482,550,6,4,0],[111,112,719,568,5,4,0],[119,139,475,494,7,12,
0],[127,66,475,470,8,9,0],[133,79,452,784,3,3,0],[127,164,475,404,10,10,0],[140,146,698,603,4,4,0],[143,191,1074,666,4,3,0],[148,16,1049,927,32,53,0],[150,73,703,603,4,4,0],[158,79,1070,178,17,22,0],[185,9,456,784,3,3,0],[187,144,724,582,4,6,0],[195,12,1036,462,52,83,0],[212,98,485,430,4,7,0],[215,106,1066,423,22,6,0],[218,132,460,784,3,3,0],[203,144,1082,673,3,4,0],[234,155,1084,786,3,3,0],[241,182,1068,787,3,3,0],[213,187,1072,787,3,3,0]],[[16,162,484,460,6,16,0],[23,9,491,372,238,185,0]],[[16,
9,246,188,244,185,0]]]},Zd:[3,0,0,1089,1214]},wm={Vc:{width:161,height:200,frames:[[[3,30,0,0,144,159,0],[153,136,713,214,4,6,0]],[[14,30,637,710,125,78,0],[85,109,424,278,3,3,0],[68,113,271,475,8,3,0],[62,119,806,186,5,4,0],[44,131,400,825,49,31,0],[152,137,806,180,5,5,0]],[[14,30,0,659,125,136,0],[46,183,690,576,75,6,0],[142,176,424,282,3,3,0]],[[7,180,424,286,3,3,0],[13,30,257,658,127,104,0],[65,138,126,795,60,28,0],[142,176,424,290,3,3,0]],[[7,180,424,294,3,3,0],[12,30,261,567,129,90,0],[47,123,
766,576,46,11,0],[65,139,798,253,14,20,0],[75,163,424,298,3,3,0],[46,186,424,302,3,3,0],[142,175,806,226,4,4,0]],[[10,30,562,431,134,91,0],[43,128,400,818,50,6,0],[65,138,187,795,60,23,0],[143,175,810,463,3,3,0],[136,179,810,467,3,3,0],[102,185,809,471,3,3,0]],[[8,30,282,395,139,92,0],[43,128,705,328,82,41,0],[136,176,271,442,9,6,0],[112,183,271,463,9,4,0]],[[6,30,290,18,142,93,0],[42,125,713,262,83,44,0],[75,173,806,173,5,6,0],[102,183,793,564,19,5,0]],[[6,31,288,112,142,92,0],[44,125,690,532,81,
43,0],[136,176,271,449,9,6,0],[16,183,705,309,105,6,0]],[[7,30,145,41,142,93,0],[43,127,705,370,82,34,0],[7,165,556,474,3,3,0],[142,176,785,412,3,3,0],[16,183,705,323,105,4,0]],[[9,30,0,176,141,139,0],[71,171,400,791,68,14,0],[46,186,789,412,3,3,0]],[[11,30,763,710,49,72,0],[46,103,806,211,4,7,0],[43,132,793,412,3,3,0],[9,157,766,588,45,10,0],[7,180,159,826,49,9,0],[62,30,723,0,88,93,0],[90,126,797,412,3,3,0],[66,130,250,789,80,59,0],[154,139,801,412,3,3,0]],[[10,29,572,214,140,94,0],[43,125,573,
808,50,10,0],[3,153,145,135,142,18,0],[3,172,290,0,144,17,0],[153,140,805,412,3,3,0]],[[10,28,431,201,140,107,0],[22,149,257,763,124,25,0],[11,181,690,523,119,8,0],[153,137,424,214,4,6,0]],[[11,28,0,316,139,97,0],[43,128,187,819,50,6,0],[3,149,145,0,144,40,0],[153,136,713,227,4,4,0]],[[11,29,565,309,139,106,0],[7,153,385,758,125,21,0],[7,175,562,416,139,14,0]],[[11,29,142,312,139,106,0],[65,149,809,412,3,3,0],[7,153,0,414,139,16,0],[7,180,0,649,128,9,0]],[[10,29,424,309,140,86,0],[43,116,521,811,
50,8,0],[42,127,715,803,51,8,0],[65,149,809,475,3,3,0],[5,153,142,188,141,16,0],[7,180,391,653,128,9,0]],[[10,29,142,205,140,106,0],[9,153,126,774,123,15,0],[9,175,140,419,137,14,0]],[[11,38,803,599,9,57,0],[21,36,556,478,3,3,0],[43,30,556,482,3,3,0],[37,36,780,599,22,58,0],[54,100,424,238,4,3,0],[51,157,556,486,3,3,0],[62,38,722,94,88,64,0],[91,103,806,241,4,3,0],[85,131,556,490,3,3,0]],[[11,39,405,492,12,56,0],[27,32,271,456,9,6,0],[30,92,556,494,3,3,0],[38,36,788,346,22,57,0],[54,98,806,159,6,
5,0],[51,157,556,498,3,3,0],[46,186,556,502,3,3,0],[72,52,424,205,4,8,0],[62,90,797,274,13,16,0],[82,36,331,791,68,63,0],[90,103,806,165,6,3,0],[136,179,556,506,3,3,0],[117,183,424,242,4,3,0]],[[15,46,556,510,3,3,0],[16,92,556,514,3,3,0],[12,182,773,517,3,3,0],[27,35,777,517,3,3,0],[65,149,781,517,3,3,0],[87,110,785,517,3,3,0],[96,77,789,517,3,3,0],[109,74,780,674,17,10,0],[123,90,793,517,3,3,0],[107,157,797,517,3,3,0],[128,68,801,517,3,3,0],[127,72,805,517,3,3,0],[132,66,809,517,3,3,0],[133,72,556,
518,3,3,0],[133,83,713,242,4,3,0],[139,82,810,521,3,3,0],[143,175,266,526,3,3,0]],[[11,30,422,396,139,77,0],[84,110,271,479,7,5,0],[42,117,521,798,51,12,0],[43,130,451,823,50,5,0],[65,149,810,525,3,3,0],[79,156,266,530,3,3,0],[46,183,697,498,76,6,0]],[[11,30,283,205,140,96,0],[42,130,572,819,50,6,0],[112,157,797,298,13,4,0],[102,181,779,463,30,7,0]],[[20,36,805,482,7,4,0],[15,43,424,262,3,5,0],[16,52,266,534,3,3,0],[12,70,266,538,3,3,0],[17,93,805,487,7,3,0],[9,164,266,542,3,3,0],[30,31,797,291,13,
6,0],[38,92,805,491,7,3,0],[49,30,779,493,11,3,0],[46,109,266,546,3,3,0],[46,133,405,488,13,3,0],[67,31,405,549,3,3,0],[66,133,409,549,3,3,0],[72,32,413,549,3,3,0],[73,94,424,228,4,4,0],[79,34,542,567,12,9,0],[82,87,801,541,10,12,0],[87,110,806,231,4,4,0],[81,132,418,492,3,3,0],[96,42,418,496,3,3,0],[98,46,418,500,3,3,0],[97,56,713,221,4,5,0],[100,63,418,504,3,3,0],[97,78,271,434,9,7,0],[102,185,418,508,3,3,0],[109,69,772,541,28,15,0],[123,91,418,512,3,3,0],[122,158,418,516,3,3,0],[136,179,418,520,
3,3,0],[143,83,806,196,5,3,0],[143,87,271,468,8,6,0],[142,175,713,232,4,4,0]],[[10,32,108,830,48,80,0],[45,113,418,524,3,3,0],[46,133,791,493,10,3,0],[51,157,418,528,3,3,0],[46,186,418,532,3,3,0],[64,31,719,159,86,93,0],[65,130,785,405,27,6,0],[65,149,418,536,3,3,0],[122,158,418,540,3,3,0],[142,176,418,544,3,3,0],[102,183,521,588,20,5,0]],[[7,30,435,0,143,106,0],[65,149,418,548,3,3,0],[51,157,690,596,74,4,0],[142,175,424,233,4,4,0],[102,185,266,550,3,3,0]],[[6,31,579,15,142,105,0],[65,149,417,552,
3,3,0],[136,179,266,554,3,3,0],[46,186,266,558,3,3,0]],[[6,31,576,121,142,92,0],[43,128,572,826,49,8,0],[65,149,261,563,3,3,0],[112,157,266,562,3,3,0],[142,176,391,567,3,3,0],[46,183,690,583,75,6,0]],[[6,30,433,107,142,93,0],[43,127,715,812,50,8,0],[65,149,395,567,3,3,0],[112,157,797,303,13,4,0],[142,176,399,567,3,3,0],[46,183,697,505,76,6,0]],[[7,30,283,302,140,92,0],[43,128,715,828,49,7,0],[65,149,536,567,3,3,0],[51,156,690,590,74,5,0],[143,168,806,200,4,10,0],[136,179,793,570,3,3,0],[117,183,806,
245,4,3,0]],[[10,30,136,434,134,91,0],[43,128,521,820,50,6,0],[65,149,424,268,3,4,0],[87,156,774,498,38,5,0],[143,175,797,570,3,3,0]],[[12,30,0,557,130,91,0],[42,128,715,821,50,6,0],[65,150,801,570,3,3,0],[51,157,805,570,3,3,0],[142,176,809,570,3,3,0],[46,186,542,577,3,3,0]],[[9,164,546,577,3,3,0],[13,29,129,658,127,105,0],[65,149,550,577,3,3,0],[24,156,702,416,108,7,0],[16,179,382,780,123,10,0],[142,175,806,236,4,4,0]],[[14,29,385,663,125,94,0],[44,126,502,827,49,8,0],[65,149,542,581,3,3,0],[3,156,
0,160,142,15,0],[3,175,143,173,142,14,0]],[[27,29,772,564,20,8,0],[22,38,521,572,20,15,0],[15,57,788,328,23,17,0],[14,78,779,447,31,15,0],[45,131,806,169,6,3,0],[22,157,772,557,25,6,0],[8,164,546,581,3,3,0],[11,181,772,532,40,8,0],[56,29,774,508,36,8,0],[98,38,550,581,3,3,0],[57,42,697,432,81,65,0],[62,112,779,471,29,10,0],[53,131,774,504,37,3,0],[57,156,713,253,84,8,0],[55,181,697,512,75,8,0],[142,163,542,585,3,3,0],[144,168,424,254,3,7,0]],[[29,29,715,794,63,8,0],[19,68,546,585,3,3,0],[14,72,511,
762,124,35,0],[85,108,550,585,3,3,0],[43,131,450,835,48,4,0],[3,156,145,154,142,18,0],[3,175,579,0,143,14,0]],[[9,164,542,589,3,3,0],[14,28,651,602,128,107,0],[65,149,546,589,3,3,0],[15,153,134,526,131,36,0]],[[5,166,550,589,3,3,0],[7,180,806,191,5,4,0],[13,28,636,789,78,92,0],[90,125,540,594,3,3,0],[45,130,201,790,43,3,0],[65,149,424,273,3,4,0],[15,156,0,796,54,9,0],[13,182,705,405,79,7,0],[94,37,55,796,52,68,0],[99,156,767,809,41,8,0],[143,165,544,593,3,3,0],[102,180,779,432,33,8,0]],[[13,28,0,
450,133,106,0],[5,153,0,431,135,18,0],[7,180,126,764,124,9,0]],[[9,164,548,593,3,3,0],[7,180,544,597,3,3,0],[13,29,271,488,133,78,0],[85,108,806,219,4,6,0],[90,126,548,597,3,3,0],[44,130,763,783,49,4,0],[65,149,385,658,3,3,0],[24,156,702,424,108,7,0],[16,175,405,557,130,14,0]],[[14,29,391,572,129,80,0],[42,110,469,798,51,24,0],[65,149,799,658,3,3,0],[59,153,521,594,18,5,0],[60,159,536,557,18,9,0],[143,175,803,657,3,3,0]],[[14,29,511,681,125,80,0],[42,110,0,806,50,24,0],[59,153,780,668,18,5,0],[60,
159,780,658,18,9,0],[46,186,807,657,3,3,0],[142,176,803,661,3,3,0]],[[14,29,521,602,129,78,0],[85,108,807,661,3,3,0],[45,112,779,441,33,5,0],[43,118,400,806,50,11,0],[43,130,450,829,49,5,0],[51,154,779,482,25,10,0],[136,175,801,554,10,7,0],[117,183,424,246,4,3,0]],[[13,29,556,523,133,78,0],[88,131,511,663,3,3,0],[51,157,715,789,74,4,0],[143,175,515,663,3,3,0]],[[14,58,799,662,3,3,0],[14,62,803,665,3,3,0],[15,73,807,665,3,3,0],[13,80,799,666,3,3,0],[16,183,713,246,4,3,0],[21,41,511,667,3,3,0],[25,
35,515,667,3,3,0],[45,114,803,669,3,3,0],[84,33,807,669,3,3,0],[85,108,799,670,3,3,0],[86,112,511,671,3,3,0],[88,119,515,671,3,3,0],[103,102,798,674,3,3,0],[116,68,803,673,3,3,0],[118,86,807,673,3,3,0],[113,100,511,675,3,3,0],[112,157,515,675,3,3,0],[122,158,802,677,3,3,0],[129,87,806,677,3,3,0],[129,181,798,678,3,3,0],[142,176,637,681,3,3,0]],[[13,29,422,474,133,82,0],[45,112,767,803,44,5,0],[44,118,0,831,48,8,0],[42,130,108,824,50,5,0],[51,157,126,790,74,4,0],[136,179,641,681,3,3,0],[16,183,705,
316,105,6,0],[153,136,713,237,4,4,0]],[[14,30,131,563,129,94,0],[42,126,573,798,51,9,0],[142,176,645,681,3,3,0],[117,183,424,250,4,3,0],[153,136,424,221,4,6,0]]]},Zd:[4,0,0,813,910]},tm="Bach Fact - 1;Bach Fact - 2;Bach Fact - 3;Bach Fact - 4;Bach Fact - 5;Bach Fact - 6".split(";");var Pm="en af am ar az bg bs ca crs cs da de el en-GB es es-419 et eu fa fi fr fr-ca gl hi hr hu id is it iw ja km ko ky lo lt lv mg mk mn ms my nl no pl pt-BR pt-PT ro ru si sk sl so sq sr st sv sw ta th tn tr uk vi zh-CN zh-HK zh-TW zu".split(" ");var Qm=function(){$f.call(this);this.$=document.createElement("div");this.Fa=document.getElementById("hpcanvas");this.Fa.appendChild(this.$);this.$.style.background="url(/logos/2018/bach/r2/main_bg.jpg) no-repeat -9999px -9999px";this.W=new pg;B(this.W,this);this.Sa=new Cg;this.Sa.vb=function(b){b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,b.canvas.width,b.canvas.height)};B(this.Sa,this);var a=new $f(74,44,40);this.R=new G(Pi);sh(this.R,50,60);this.R.i(1,11,20);rh(this.R,-.5,.5);B(this.R,a);this.T=
new G(Pi);sh(this.T,50,60);this.T.i(1,6,10);rh(this.T,-.5,.5);B(this.T,a);this.S=new G(Pi);sh(this.S,50,60);rh(this.S,-.5,.5);B(this.S,a);B(a,this);a=new $f(-74,44,40);this.j=new G(Pi);sh(this.j,50,60);this.j.i(-1,11,20);rh(this.j,-.5,.5);this.j.Oa=!0;B(this.j,a);this.o=new G(Pi);sh(this.o,50,60);this.o.i(-1,6,10);rh(this.o,-.5,.5);this.o.Oa=!0;B(this.o,a);this.v=new G(Pi);sh(this.v,50,60);rh(this.v,-.5,.5);this.v.Oa=!0;B(this.v,a);B(a,this)};w(Qm,$f);
var Rm=function(a,b,c){qg(a.W,new Ll(300,b,c,function(d){a.S.o=d;a.T.o=.4*d;a.R.o=.2*d;a.v.o=d;a.o.o=.4*d;a.j.o=.2*d}))},Sm=function(a,b){a.Fa.style.background="#000 url(/logos/2018/bach/r2/main_bg.jpg) no-repeat bottom / contain";a.Fa.removeChild(a.$);a.g=!0;Rm(a,0,1);rg(a.W,0,b)};var Tm={width:250,height:236,frames:[[[0,61,0,0,235,161,0]],[[0,200,707,181,9,7,0],[0,212,222,209,12,6,0],[13,216,528,330,3,3,0],[18,215,527,381,3,3,0],[26,124,527,385,3,3,0],[26,136,391,169,4,10,0],[27,147,711,553,6,12,0],[26,170,696,347,8,31,0],[32,216,527,335,4,3,0],[48,116,696,394,6,5,0],[55,217,401,614,5,5,0],[61,117,527,389,3,3,0],[72,219,527,393,3,3,0],[79,100,672,329,11,16,0],[96,61,532,252,139,147,0],[146,211,422,336,79,11,0]],[[0,200,707,189,9,7,0],[0,212,323,303,12,5,0],[13,216,700,400,
3,3,0],[21,198,700,404,3,3,0],[19,215,700,408,3,3,0],[26,124,700,412,3,3,0],[26,136,553,102,3,6,0],[26,143,528,320,3,4,0],[27,148,549,565,6,10,0],[28,172,395,600,5,17,0],[26,194,672,375,7,8,0],[32,216,395,618,5,5,0],[47,116,201,218,17,5,0],[55,217,401,620,5,5,0],[67,113,700,416,3,3,0],[72,219,527,339,4,3,0],[79,100,515,335,11,9,0],[79,112,349,303,11,5,0],[95,62,391,207,140,102,0],[195,165,276,435,3,3,0],[132,169,639,679,76,12,0],[102,182,537,639,123,26,0],[146,210,282,251,79,12,0]],[[1,200,681,355,
8,4,0],[0,212,705,286,12,6,0],[13,216,528,330,3,3,0],[21,198,276,439,3,3,0],[19,215,276,443,3,3,0],[28,118,514,345,11,3,0],[26,141,672,357,7,17,0],[28,173,697,534,6,17,0],[26,195,519,386,7,6,0],[32,216,711,577,6,5,0],[47,116,219,218,14,5,0],[54,217,527,343,4,3,0],[67,113,276,439,3,3,0],[72,219,713,395,4,3,0],[88,94,276,447,3,3,0],[79,101,707,148,10,16,0],[79,121,556,500,3,3,0],[95,62,141,226,140,102,0],[204,165,556,504,3,3,0],[102,169,271,600,123,39,0],[146,210,282,264,79,12,0]],[[0,200,696,379,7,
7,0],[0,212,549,589,6,4,0],[9,214,556,508,3,3,0],[13,216,700,400,3,3,0],[21,198,700,404,3,3,0],[19,215,556,512,3,3,0],[26,125,714,0,3,22,0],[28,148,128,600,5,10,0],[28,171,401,600,5,13,0],[26,190,519,374,7,11,0],[36,118,556,516,3,3,0],[35,216,556,520,3,3,0],[51,118,556,524,3,3,0],[54,217,271,527,3,3,0],[65,219,556,528,3,3,0],[71,217,714,293,4,5,0],[85,94,697,577,6,5,0],[79,101,377,274,13,14,0],[79,121,714,529,3,3,0],[95,61,0,320,139,103,0],[102,165,549,595,123,43,0],[146,211,422,348,79,11,0]],[[0,
200,672,384,7,7,0],[0,212,697,589,6,4,0],[8,214,691,349,4,4,0],[13,216,528,330,3,3,0],[21,198,276,439,3,3,0],[28,118,684,345,11,3,0],[26,123,391,120,4,24,0],[28,148,711,566,6,10,0],[28,171,704,553,6,13,0],[27,187,549,550,6,14,0],[33,216,714,299,4,5,0],[48,116,680,392,7,5,0],[57,217,271,531,3,3,0],[65,219,556,532,3,3,0],[71,219,673,627,5,3,0],[88,94,553,109,3,5,0],[79,101,704,589,6,4,0],[82,108,128,575,6,7,0],[93,116,714,533,3,3,0],[97,63,0,424,137,138,0],[106,203,393,682,119,5,0],[147,212,639,692,
75,10,0]],[[0,200,688,387,7,6,0],[0,212,711,589,6,4,0],[8,214,691,354,4,4,0],[13,216,700,400,3,3,0],[21,198,271,535,3,3,0],[26,118,222,179,12,29,0],[28,148,685,600,5,9,0],[28,158,691,600,5,9,0],[27,176,549,500,6,25,0],[33,216,713,399,4,3,0],[48,117,673,595,6,4,0],[55,217,553,115,3,5,0],[63,114,714,115,3,5,0],[67,113,700,416,3,3,0],[72,219,556,536,3,3,0],[76,114,714,537,3,3,0],[81,94,684,331,11,13,0],[84,108,705,348,8,7,0],[95,63,282,310,139,143,0],[162,211,509,731,63,11,0]],[[0,204,232,168,2,3,0],
[0,212,680,595,6,4,0],[10,201,271,539,3,3,0],[8,214,713,390,4,4,0],[21,198,276,439,3,3,0],[26,118,705,261,12,24,0],[26,143,528,325,3,4,0],[27,148,680,374,7,9,0],[27,158,413,454,7,43,0],[33,216,714,305,4,5,0],[41,216,556,540,3,3,0],[48,117,687,595,6,4,0],[58,116,714,541,3,3,0],[55,217,271,543,3,3,0],[63,113,696,387,7,6,0],[76,114,556,544,3,3,0],[73,219,714,545,3,3,0],[83,94,707,197,9,7,0],[81,102,696,333,11,13,0],[97,98,271,547,3,3,0],[102,62,138,527,132,143,0],[161,210,217,731,64,12,0]],[[0,202,553,
121,3,5,0],[0,212,556,548,3,3,0],[18,215,271,551,3,3,0],[29,120,556,552,3,3,0],[26,143,527,361,3,4,0],[28,148,685,610,5,9,0],[28,176,701,599,5,13,0],[27,193,704,567,6,8,0],[32,216,714,311,4,5,0],[41,216,271,555,3,3,0],[47,117,379,269,9,4,0],[58,116,556,556,3,3,0],[72,219,527,339,4,3,0],[80,61,236,120,154,105,0],[102,167,393,688,117,38,0],[163,213,0,737,59,8,0]],[[0,202,714,121,3,5,0],[0,212,271,559,3,3,0],[4,200,556,560,3,3,0],[8,215,271,563,3,3,0],[19,215,556,564,3,3,0],[26,118,700,294,13,10,0],
[26,135,714,100,3,7,0],[26,143,680,360,7,13,0],[27,178,549,526,6,23,0],[24,215,183,218,17,6,0],[47,117,708,333,9,4,0],[55,217,271,567,3,3,0],[65,219,556,528,3,3,0],[71,219,556,568,3,3,0],[79,62,397,102,155,104,0],[102,167,413,598,123,41,0],[146,210,282,277,79,12,0]],[[0,202,232,162,2,5,0],[0,212,271,571,3,3,0],[4,200,556,572,3,3,0],[9,214,271,575,3,3,0],[13,216,528,330,3,3,0],[20,198,714,317,4,5,0],[18,215,713,403,4,3,0],[29,118,707,165,10,5,0],[26,143,556,576,3,3,0],[28,149,691,610,5,9,0],[28,159,
712,248,5,8,0],[28,172,128,611,5,9,0],[30,188,714,38,3,13,0],[33,216,520,349,8,5,0],[48,117,271,579,3,3,0],[55,217,714,323,4,5,0],[65,219,556,532,3,3,0],[74,61,236,0,160,119,0],[102,182,271,640,123,26,0],[72,212,0,162,152,10,0]],[[0,202,715,594,2,3,0],[0,208,135,563,2,3,0],[0,212,556,580,3,3,0],[4,200,556,560,3,3,0],[13,216,700,400,3,3,0],[19,215,271,583,3,3,0],[29,120,556,584,3,3,0],[26,125,271,587,3,3,0],[26,135,553,127,3,5,0],[26,142,714,127,3,5,0],[28,148,537,626,5,4,0],[28,155,707,599,5,13,0],
[28,172,703,613,5,6,0],[27,191,128,563,6,11,0],[32,216,128,583,6,5,0],[47,117,556,588,3,3,0],[55,217,679,627,5,3,0],[61,117,271,591,3,3,0],[74,113,271,595,3,3,0],[71,217,537,620,5,5,0],[79,61,558,0,155,147,0],[146,212,153,162,78,10,0]],[[4,200,543,598,3,3,0],[0,212,694,595,6,4,0],[9,214,713,599,3,3,0],[13,216,528,330,3,3,0],[21,198,276,439,3,3,0],[19,215,407,600,3,3,0],[29,118,707,171,10,5,0],[26,142,553,133,3,5,0],[28,148,685,620,5,5,0],[28,155,709,613,5,6,0],[28,170,697,613,5,8,0],[27,193,697,567,
6,9,0],[33,216,714,348,4,5,0],[47,117,708,338,9,4,0],[55,217,691,620,5,5,0],[61,117,697,628,5,3,0],[67,113,700,416,3,3,0],[76,64,112,712,104,92,0],[134,163,708,343,9,4,0],[132,168,363,226,27,12,0],[103,182,627,703,74,26,0],[71,217,141,173,93,5,0],[193,62,543,602,3,3,0],[213,66,511,379,7,8,0],[186,75,573,731,48,77,0],[202,156,685,626,5,4,0],[205,163,697,600,3,3,0],[181,170,672,261,32,32,0],[220,203,703,620,5,5,0],[186,211,672,252,39,8,0]],[[0,200,680,384,7,7,0],[0,212,701,594,6,4,0],[9,214,713,603,
3,3,0],[14,199,407,604,3,3,0],[13,216,700,400,3,3,0],[21,198,271,535,3,3,0],[26,118,700,305,13,9,0],[26,138,391,180,4,9,0],[27,148,700,421,7,54,0],[32,216,707,212,9,5,0],[46,116,691,626,5,4,0],[55,217,714,354,4,5,0],[61,117,697,604,3,3,0],[67,113,276,439,3,3,0],[65,219,556,528,3,3,0],[73,219,543,606,3,3,0],[79,62,553,148,153,103,0],[132,166,422,384,77,14,0],[102,182,517,666,121,27,0],[146,211,422,360,79,11,0]],[[0,200,688,360,7,8,0],[0,212,713,607,3,3,0],[14,199,407,608,3,3,0],[21,198,276,439,3,3,
0],[26,118,515,320,12,8,0],[26,139,519,361,7,12,0],[28,152,707,529,6,23,0],[27,180,511,356,7,22,0],[25,217,362,269,16,4,0],[46,117,697,608,3,3,0],[52,116,707,218,9,5,0],[55,219,543,610,3,3,0],[65,219,556,532,3,3,0],[74,63,397,0,160,101,0],[132,168,639,666,77,12,0],[102,182,271,667,121,25,0],[146,210,282,290,79,12,0]],[[0,200,688,369,7,8,0],[0,210,549,576,6,6,0],[10,199,276,439,3,3,0],[8,214,682,349,8,5,0],[21,198,700,404,3,3,0],[26,118,700,315,13,8,0],[26,139,714,73,3,8,0],[27,148,713,407,4,3,0],
[30,153,407,612,3,3,0],[30,181,543,614,3,3,0],[27,187,697,552,6,14,0],[25,216,502,342,11,5,0],[48,116,282,303,13,5,0],[54,217,709,620,5,5,0],[88,94,713,411,4,3,0],[74,98,532,212,18,19,0],[74,118,511,349,8,6,0],[95,63,422,400,138,99,0],[102,166,395,640,121,41,0],[146,210,422,310,79,12,0]],[[0,200,688,378,7,8,0],[0,212,407,616,3,3,0],[10,199,700,416,3,3,0],[8,214,672,351,8,5,0],[21,198,276,439,3,3,0],[22,217,556,528,3,3,0],[26,118,686,306,13,9,0],[26,137,714,52,3,10,0],[26,148,708,421,7,53,0],[32,216,
707,224,9,5,0],[48,116,543,618,3,3,0],[53,118,407,620,3,3,0],[55,217,713,360,4,5,0],[61,116,703,626,5,4,0],[65,219,556,528,3,3,0],[79,94,362,288,13,17,0],[74,112,164,218,18,5,0],[78,121,713,415,4,3,0],[72,219,527,393,3,3,0],[95,63,140,329,139,97,0],[102,167,243,693,117,37,0],[153,211,436,727,72,11,0]],[[0,203,527,366,3,4,0],[0,212,708,594,6,4,0],[9,214,714,133,3,5,0],[13,216,528,330,3,3,0],[18,215,519,393,7,5,0],[26,123,527,371,3,4,0],[26,137,705,356,7,64,0],[36,118,556,516,3,3,0],[34,218,688,394,
7,3,0],[48,116,527,376,3,4,0],[52,118,543,622,3,3,0],[54,217,128,621,5,5,0],[61,117,407,624,3,3,0],[66,95,363,239,25,29,0],[65,219,707,177,10,3,0],[93,126,543,626,3,3,0],[98,63,413,500,135,97,0],[205,161,407,628,3,3,0],[103,166,122,671,120,40,0],[145,211,282,239,80,11,0]],[[0,201,391,198,4,6,0],[0,212,543,630,3,3,0],[9,214,713,366,4,5,0],[21,198,679,631,3,3,0],[18,215,683,631,3,3,0],[36,118,687,631,3,3,0],[26,123,391,145,4,23,0],[28,147,673,611,5,9,0],[28,178,537,598,5,21,0],[33,216,713,372,4,5,0],
[41,216,691,631,3,3,0],[48,117,695,632,3,3,0],[55,217,713,378,4,5,0],[68,117,699,632,3,3,0],[66,121,703,631,3,3,0],[71,217,553,139,3,5,0],[79,96,502,320,12,21,0],[79,121,707,631,3,3,0],[93,126,711,631,3,3,0],[98,99,391,190,4,7,0],[102,111,128,632,3,3,0],[102,123,132,632,3,3,0],[107,63,0,563,127,92,0],[188,156,532,207,19,4,0],[205,161,401,632,3,3,0],[133,166,141,179,80,38,0],[222,210,405,632,3,3,0],[145,215,627,730,74,7,0]],[[0,200,511,388,7,6,0],[0,212,395,634,3,3,0],[9,214,543,634,3,3,0],[13,216,
673,635,3,3,0],[20,198,713,384,4,5,0],[19,217,511,395,6,3,0],[26,120,502,348,8,51,0],[28,177,709,626,5,4,0],[30,187,714,23,3,14,0],[32,216,673,621,5,5,0],[41,216,677,635,3,3,0],[48,116,543,618,3,3,0],[54,217,549,583,6,5,0],[61,117,681,635,3,3,0],[65,219,556,528,3,3,0],[74,121,685,635,3,3,0],[86,94,395,630,5,3,0],[81,100,714,139,3,5,0],[79,108,502,310,13,9,0],[96,63,561,400,138,93,0],[145,158,689,635,3,3,0],[134,164,693,636,3,3,0],[102,168,511,694,115,36,0],[146,210,422,323,79,12,0]],[[0,200,672,392,
7,6,0],[0,212,128,595,6,4,0],[10,201,697,636,3,3,0],[8,214,520,355,8,5,0],[20,200,701,636,3,3,0],[19,215,697,583,6,5,0],[26,118,686,316,13,8,0],[26,138,714,63,3,9,0],[27,148,708,475,7,53,0],[32,216,276,427,4,3,0],[48,116,705,635,3,3,0],[52,116,707,230,9,5,0],[54,217,679,621,5,5,0],[68,121,709,635,3,3,0],[65,219,556,532,3,3,0],[84,94,697,622,5,5,0],[79,101,128,627,5,4,0],[74,108,532,232,18,9,0],[86,122,713,635,3,3,0],[96,61,138,427,137,99,0],[102,168,0,656,121,40,0],[161,211,282,731,64,11,0]],[[0,
200,707,205,9,6,0],[0,212,310,303,12,6,0],[13,216,528,330,3,3,0],[21,198,271,535,3,3,0],[19,215,128,636,3,3,0],[36,118,687,631,3,3,0],[26,124,132,636,3,3,0],[26,139,714,82,3,8,0],[27,150,700,482,6,51,0],[25,217,376,304,11,4,0],[41,218,661,639,3,3,0],[48,116,296,303,13,5,0],[54,217,395,624,5,5,0],[79,95,362,274,14,13,0],[74,109,532,242,17,8,0],[86,122,665,639,3,3,0],[71,217,401,626,5,5,0],[99,62,561,494,135,100,0],[138,164,669,639,3,3,0],[102,168,0,697,111,39,0],[145,213,361,727,74,9,0]],[[0,200,707,
236,9,5,0],[0,212,336,303,12,5,0],[13,216,700,400,3,3,0],[21,198,700,404,3,3,0],[19,215,704,583,6,5,0],[26,118,516,310,13,9,0],[26,138,714,91,3,8,0],[28,149,673,600,5,10,0],[28,171,679,600,5,10,0],[30,189,673,639,3,3,0],[30,195,714,108,3,6,0],[32,216,686,325,12,5,0],[48,117,677,639,3,3,0],[53,118,681,639,3,3,0],[54,217,711,583,6,5,0],[61,117,685,639,3,3,0],[65,219,556,528,3,3,0],[74,113,517,640,3,3,0],[71,219,537,631,5,3,0],[80,97,686,294,13,11,0],[80,109,700,324,12,8,0],[79,121,672,346,9,4,0],[98,
63,276,454,136,145,0],[145,210,282,226,80,12,0]],[[3,200,128,589,6,5,0],[3,213,707,242,9,5,0],[26,118,672,294,13,34,0],[28,155,673,631,5,3,0],[28,169,679,611,5,9,0],[20,189,376,289,13,14,0],[22,216,141,218,22,5,0],[50,118,276,431,4,3,0],[61,117,521,640,3,3,0],[55,217,700,476,7,5,0],[65,219,556,532,3,3,0],[74,113,271,595,3,3,0],[73,219,525,640,3,3,0],[88,94,276,447,3,3,0],[83,98,529,640,3,3,0],[84,105,704,576,6,6,0],[80,112,515,329,12,5,0],[95,62,0,173,140,146,0],[147,211,422,372,78,11,0]]]};var Um=function(){this.j=new $f;this.g=new $f;this.i=[];this.H=[];this.o=[];this.U=!0};Um.prototype.reset=function(){this.j=new $f;this.g=new $f;this.i=[];this.H=[];this.o=[]};
var Xm=function(a,b,c,d){Vm(a,b);if(a.U)for(Wm(a,d),a=t(a.i),b=a.next();!b.done;b=a.next())b=b.value,d=c,b.T&&(d.globalAlpha=b.o,d.setTransform(b.T.g,b.T.o,b.T.H,b.T.i,b.T.j,b.T.U),d.globalCompositeOperation=b.lc,b.Bc&&(d.save(),b.Bc.g(d)),b.vb(d),b.Bc&&d.restore(),d.globalCompositeOperation="source-over")},Vm=function(a,b){a.H=[];jg(a.j,function(d){a.H.push(d);d.ub(b)});a.o=[];var c=0;jg(a.g,function(d){a.o.push(d);var e=c++;d.Tg.g=e;d.ub(b)})},Wm=function(a,b){a.i=[];for(var c=t(a.H),d=c.next();!d.done;d=
c.next())d=d.value,d.g&&d.wg&&d.wg(b)&&a.i.push(d);c=[];var e=t(a.o);for(d=e.next();!d.done;d=e.next())d=d.value,d.g&&d.wg&&d.wg(b)&&c.push(d);z.sort(c,function(f,g){var h;return(h=g.Zf(b)+kg(g)-(f.Zf(b)+kg(f)))?h:f.Tg.g-g.Tg.g});c.forEach(function(f,g){f.ke=g});a.i.push.apply(a.i,la(c))};Va(Um);var Ym=function(a,b){b=void 0===b?function(){}:b;$f.call(this);this.Tk=a;this.g=!1;this.Yk=b;this.Ma=!0};w(Ym,$f);Ym.prototype.load=function(){};Ym.prototype.start=function(){this.g=!0;this.Yk();var a=Um.ya().g;B(this,a)};Ym.prototype.va=function(){return[]};Ym.prototype.end=function(){this.g=!1;Zm(this.Tk,this.Ac);eg(this)};var $m=function(){};$m.prototype.g=function(){return!0};var dn=function(a,b,c){Ad.call(this);this.Ka=a;this.W=b;this.Fa=c;this.R=ib();this.Qa=gd(document,"hidden");this.o=(this.Ca=gd(document,"visibilityState"))?this.Ca.replace(/state$/i,"change").toLowerCase():null;this.H=an(this);this.j=!1;this.T=this.H;bn(this);cn(this)};w(dn,Ad);
var bn=function(a){a.o?en(a):jc&&fn(a,function(){en(a)})},en=function(a){a.g=function(){a.H=an(a);a.H?gn(a):hn(a)};var b=window.agsa_ext;a.o?document.addEventListener(a.o,a.g,!1):b&&b.registerPageVisibilityListener&&(google.doodle||(google.doodle={}),google.doodle.pvc=function(){a.g&&a.g()},b.registerPageVisibilityListener("google.doodle.pvc();"))},fn=function(a,b){window.agsa_ext?b():a.S=window.setTimeout(function(){bn(a)},100)};
dn.prototype.i=function(){window.clearTimeout(this.Nc);window.clearTimeout(this.S);this.g&&(this.o&&document.removeEventListener?document.removeEventListener(this.o,this.g,!1):window.agsa_ext&&window.agsa_ext.registerPageVisibilityListener&&(this.g=null));Ad.prototype.i.call(this)};
var an=function(a){if(!a.Qa&&!a.Ca&&window.agsa_ext&&window.agsa_ext.getPageVisibility)return"hidden"==window.agsa_ext.getPageVisibility();var b=document[a.Ca];return document[a.Qa]||"hidden"==b},gn=function(a){var b=a.H||a.j;a.T&&!b?(a.T=!1,a.Fa(),cn(a)):!a.T&&b&&(a.T=!0,a.W())},cn=function(a){a.Nc&&window.clearTimeout(a.Nc);var b=Math.max(100,a.Ka-jn(a));a.Nc=window.setTimeout(function(){a.Nc=null;a.j=jn(a)>=a.Ka;a.j||cn(a);gn(a)},b)},jn=function(a){return ib()-a.R},hn=function(a){a.R=ib();a.j=
!1;gn(a)};(function(){var a=new $m;a.contains=function(){return!0};a.g=function(){return!1};return a})();var ln=function(){this.Ka=!0;this.R=!1;this.H=[];this.Ca=!1;this.g=this.j=this.o=0;this.T=kn};kb(ln,Ad);Va(ln);
var kn=1E3/60,mn=function(a){var b=a.j(a.H);a.H++;a.g=ln.ya().o+a.i/ln.ya().T;!b&&a.o&&a.o();return b},nn=function(a,b){a.H.push(b);a.Ca=!0},pn=function(a){if(a.Ka)a.R=!1;else{a.R=!0;on(a);a.Ca&&(a.H.sort(function(e,f){return e.g==f.g?f.i-e.i:e.g-f.g}),a.Ca=!1);for(var b=0,c=0,d;d=a.H[c];c++)if(d.g<=a.o)mn(d)&&nn(a,d),b++;else break;a.H.splice(0,b);a.o++;requestAnimationFrame(function(){pn(a)})}},on=function(a){var b=(new Date).getTime();30<a.o&&a.j&&(b-a.j>=1.05*a.T?a.g++:a.g>>=1,20<a.g&&(a.T=Math.min(50,
1.2*a.T),a.g=0));a.j=b};ln.prototype.start=function(){this.Ka=!1;this.R||pn(this)};ln.prototype.stop=function(){this.Ka=!0;this.j=this.g=0};ln.prototype.i=function(){this.reset();ln.De.i.call(this)};ln.prototype.reset=function(){this.stop();this.H=[];this.o=0;this.Ca=!1;this.T=kn;this.j=this.g=0};var rn=function(a,b,c){var d=qn;this.H=a;this.j=b;this.U={};this.duration=400;this.v=d||Il;this.o=c||ad;this.g=null;this.i=!1},tn=function(a){var b=Math.min(Math.max(sn(a)/a.duration,0),1);a.i&&(b=1-b);for(var c in a.H)if(a.j.hasOwnProperty(c)){var d=a.U,e=c;var f=a.H[c];var g=a.j[c];f+=(a.v||Il)(b)*(g-f);d[e]=f}return a.U},sn=function(a){return null===a.g?0:a.o()-a.g};rn.prototype.start=function(){this.g=this.o();this.i=!1};
rn.prototype.resume=function(){if(null===this.g)this.start();else if(this.i){var a=Math.min(this.duration,sn(this));this.g=this.o()-(this.duration-a);this.i=!1}};rn.prototype.reset=function(){this.g=null};var qn=function(a){return 3*a*a-2*a*a*a};var un=function(a,b){Ad.call(this);this.o=!1;this.g=a;this.j=b||null;this.H=function(){};this.vg=null;Mk()&&(this.g.style.willChange="width,height")};w(un,Ad);
var vn=function(a,b){b=void 0===b?function(){}:b;var c=void 0===c?0:c;if(a.g&&Mk()&&!a.o){var d=a.g;if(rc()){window.parent.postMessage({cmd:"resizeDoodle",width:Tf+"px",height:Uf+"px",duration:"400ms"},"chrome-search://local-ntp");a.o=!0;var e=!1;a.vg=setTimeout(function(){e=!0;b()},500);window.addEventListener("message",function(m){"resizeComplete"===m.data.ym&&(null!==this.vg&&(clearTimeout(this.vg),this.vg=null),e||(e=!0,b()))})}else{document.getElementById("fkbx")&&$c(d.parentNode,"width","100%");
var f=d.offsetHeight,g=d.offsetWidth;c=Math.min(Tf,d.parentNode.clientWidth)-2*c;var h=c/(Tf/Uf);ln.ya();var k=ad(),l=new rn({height:f,width:g},{height:h,width:c},function(){return k});l.start();a.o=!0;a.H=function(m){k=void 0!==m?k+m:ad();m=tn(l);sd(d,Math.round(m.width),Math.round(m.height));a.j&&a.j.g(!1);sn(l)>=l.duration&&(b(),a.g.style.willChange="unset",a.H=function(){})}}}};un.prototype.i=function(){Ad.prototype.i.call(this);this.reset();this.g=null};
un.prototype.reset=function(){this.o&&($c(this.g,"width","","height",""),rd(0),this.g.style.width="",this.g.style.height="");this.o=!1};var xn=function(a,b,c){Ym.call(this,a);var d=this;this.wa=c;this.Oa=b;this.lc=!1;this.R=new pg;B(this.R,this);this.La=new pg;B(this.La,this);this.T=new G(Kj);this.T.Fa(!0);this.o=new G(Lj);rh(this.o,.15,0);this.o.Fa(!0);this.Ea=255;this.j=document.createElement("canvas");this.j.classList.add("ddlbh-s");this.j.width=100;this.j.height=100;sh(this.T,this.j.width,this.j.height);a=.6*this.T.ha().width;sh(this.o,a,a);(Ok()||Nk())&&this.j.classList.add("ddlbh-t");this.$b=new Bl(new A(5,-4,0),function(){return d.end()},
function(){},!0);B(this.$b,this);this.Bc=le(this.j,"click",function(){return d.end()});this.Za=this.j.getContext("2d");this.$a=new zg(this.j);this.Tb=new Um;B(this.T,this.Tb.g);B(this.o,this.Tb.g);a=new Cg;a.vb=function(l){l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,l.canvas.width,l.canvas.height)};a.U=1E3;B(a,this.Tb.g);if(Lk()){a=new Cg;a.vb=function(l){l.fillStyle="rgb("+d.Ea+", "+d.Ea+", "+d.Ea+")";l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,l.canvas.width,l.canvas.height)};a.U=1E3;B(a,this);
this.S=new $f;gg(this.S,.85);B(this.S,this);this.Fa=new G(ek);this.Fa.i(-245);th(this.Fa);this.Fa.Fa(!0);sh(this.Fa,425,425);this.Fa.Ea=!0;B(this.Fa,this.S);this.Sa=new G(fk);this.Sa.i(-35,-115);th(this.Sa);this.Sa.Fa(!0);sh(this.Sa,185,185);this.Sa.Ea=!0;B(this.Sa,this.S);this.v=new G(qj);this.v.i(225,-50);this.v.Fa(!0);sh(this.v,80,200);this.v.U=-1;B(this.v,this.S);this.$=new G(xj);this.$.i(0,100);this.$.Fa(!0);sh(this.$,this.v.ha().width,100);this.$.U=1;B(this.$,this.v);this.W=new G(dk);this.W.i(320,
-50);th(this.W);this.W.Fa(!0);sh(this.W,190,190);this.W.Ea=!1;B(this.W,this.S);this.Ba=new fh({Vc:Tm,Zd:Gi});gh(this.Ba,620,420);this.Ba.Fa(!0);this.Ba.U=-2;B(this.Ba,this.S);var e=new wn(.15*this.o.ha().width);a=new Bg;a.g=function(l){l.beginPath();l.moveTo(-d.o.ha().width/2,-d.o.ha().height/2-2);l.lineTo(d.o.ha().width/2,0);l.lineTo(-d.o.ha().width/2,d.o.ha().height/2);l.closePath();l.clip()};e.Bc=a;B(e,this.o);a=new $f;a.ub=function(){e.i(.15*d.o.ha().width);e.setSize(d.o.ha())};B(a,e);var f=0,
g=83*dk.length;a=new $f;a.ub=function(l){Lk()&&(f+=l,d.T.Tb=90*(Math.max(0,(.5-Math.abs(f/g%1-.5))/.5)-.5)*Math.PI/180)};B(a,this.T);var h=function(){rg(d.R,3E3);qg(d.R,new Ll(500,0,1,function(l){e.j=l},{bc:function(){e.j=0}}));rg(d.R,0,h)};h();var k=function(){qg(d.La,new Ll(g,0,.2,function(l){rh(d.v,0,l);rh(d.$,0,-l)},{td:function(l){return Math.max(0,(.5-Math.abs(l-.5))/.5)-.5}}));rg(d.La,0,k)};k()}};w(xn,Ym);xn.prototype.va=function(){return[this.$b]};
xn.prototype.start=function(){Ym.prototype.start.call(this);if(Lk()){var a=document.getElementById("hppreload");a.parentNode.removeChild(a);$c(this.wa,"background","url(/logos/2018/bach/r2/bg.jpg) no-repeat center / contain");this.Ba.play()}else $c(this.wa,"background","url(/logos/2018/bach/r2/cta.jpg) no-repeat center / contain")};
xn.prototype.end=function(){var a=this;ue(this.Bc);this.$b.g=!1;this.wa.style.cursor="default";Yk(0);Xk(0);var b=function(){Ym.prototype.end.call(a);eg(a.T);a.j.remove();a.wa.parentElement.title="";eg(a);a.lc=!0};Mk()?(sg(this.R),sg(this.La),tg(this.R),ug(this.R,new Ll(300,1,0,function(c){a.T.o=c;a.o.o=c;a.Ea=255-255*c})),vn(this.Oa,function(){return b()})):b()};xn.prototype.ub=function(a){Xm(this.Tb,a,this.Za,this.$a);gg(this,this.wa.width/768)};
var wn=function(a,b,c){Cg.call(this,void 0===a?0:a,void 0===b?0:b,void 0===c?0:c);this.j=0};w(wn,Cg);wn.prototype.vb=function(a){if(!(0>=this.j)){a.translate(-10+-this.ha().width/2+this.j*(this.ha().width+15),-this.ha().height/2);a.fillStyle="white";a.globalAlpha=.8;a.rotate(.5);var b=4+10*Math.max(0,(.5-Math.abs(this.j-.7))/.5),c=this.ha().height;a.beginPath();a.rect(0,0,b,2*c);a.rotate(-.5);a.fill()}};var zn=function(a,b){Ad.call(this);var c=this;this.o=[];this.g=b;this.H=!1;this.T=function(f){if("contextmenu"==f.type)f.preventDefault();else{var g,h;g=(g=f||window.event)?(h=g.targetTouches&&g.targetTouches[0]||g.changedTouches&&g.changedTouches[0])&&void 0!==h.pageX?[h.pageX,h.pageY]:void 0!==g.clientX?[g.clientX+("rtl"==document.dir?-1:1)*(document.body.scrollLeft||document.documentElement.scrollLeft||0),g.clientY+(document.body.scrollTop||document.documentElement.scrollTop||0)]:void 0!==g.pageX?
[g.pageX,g.pageY]:[0,0]:[0,0];h=c.g;var k=0,l=0;if(h){do k+=h.offsetLeft,l+=h.offsetTop;while(h=h.offsetParent)}h=[k,l];h=[g[0]-h[0],g[1]-h[1]];g=h[0]*c.g.width/c.g.clientWidth;h=h[1]*c.g.height/c.g.clientHeight;g=c.H?{x:h,y:-g}:{x:g,y:h};h=g.x;k=g.y;g=f.type;"touchstart"==g?g="mousedown":"touchmove"==g?g="mousemove":"touchend"==g&&(g="mouseup");h=new nb(h,k);var m=!1;k="default";l=t(c.o);for(var p=l.next();!p.done;p=l.next())if(p=p.value,"mouseleave"==g||m)p.cancel&&p.cancel();else{var q=p.re(h);
"mousedown"==g&&q&&!m?(p.nf(h),p.Yd()&&(k="pointer"),c.g.focus(),m=!p.Xd()):"mouseup"==g?((m=q&&!m)&&p.Yd()&&(k="pointer"),p.ve(h,m),m=q&&!p.Xd()):"mousemove"==g&&q&&!m&&(p.Yd()&&(k="pointer"),p.se(h),m=!p.Xd())}c.g.style.cursor=k;f.preventDefault();hn(a)}};this.j="mousedown mouseup mousemove mouseleave touchstart touchend touchmove contextmenu".split(" ");for(var d=t(this.j),e=d.next();!e.done;e=d.next())b.addEventListener(e.value,this.T,!1);b=new $f;b.ub=function(){yn(c)};dg(Um.ya().g,b)};
w(zn,Ad);var yn=function(a){a.o=a.o.sort(function(b,c){return b.vd()-c.vd()}).reverse()},An=function(a,b){for(var c=t(a.o),d=c.next();!d.done;d=c.next())d.value.cancel();a.o=b;yn(a)};zn.prototype.i=function(){for(var a=t(this.j),b=a.next();!b.done;b=a.next())this.g.removeEventListener(b.value,this.T,!1);Ad.prototype.i.call(this)};var Cn=function(a){this.g=a;this.o=a.clientWidth;this.i=a.clientHeight;Bn(this)},Bn=function(a){a.o=a.g.clientWidth;a.i=a.g.clientHeight;a.g.width=2*a.o;a.g.height=2*a.i;jh(ih.ya(),1E3)};var Dn=function(a){this.i=function(d){d.preventDefault()};this.g="mousedown mouseup mousemove mouseleave touchstart touchend touchmove contextmenu".split(" ");for(var b=t(this.g),c=b.next();!c.done;c=b.next())a.addEventListener(c.value,this.i,!1);Um.ya()};var En=function(a,b,c,d,e,f,g,h){g=void 0===g?null:g;h=void 0===h?1:h;E.call(this,a,b);this.S=e;this.v=f;this.j=g;this.R=h;this.setSize(c,d)};w(En,E);
En.prototype.vb=function(a){var b=this.ha().width,c=this.ha().height,d=Math.min(this.S,Math.min(c/2,b/2));a.translate(-b*this.Sa.x,-c*this.Sa.y);a.beginPath();a.moveTo(d,0);0<this.R&&(a.lineWidth=this.R);a.lineTo(b-d,0);a.quadraticCurveTo(b,0,b,d);a.lineTo(b,c-d);a.quadraticCurveTo(b,c,b-d,c);a.lineTo(d,c);a.quadraticCurveTo(0,c,0,c-d);a.lineTo(0,d);a.quadraticCurveTo(0,0,d,0);a.closePath();this.v&&(a.fillStyle=this.v,a.fill());this.j&&(a.strokeStyle=this.j,a.stroke())};var Fn=function(a,b,c,d){ph.call(this,a,void 0===b?0:b,void 0===c?0:c,void 0===d?0:d);this.R=1};w(Fn,ph);Fn.prototype.Ba=function(){return Mf.i()};Fn.prototype.Sc=function(a){ph.prototype.Sc.call(this,a);if(a){a=Math.max(.2,Math.abs(this.S.width*this.ha().width*this.T.g/this.Ba().mh(this.$)));var b=Math.abs(a-this.R);if(b>.6*this.R||.5<b)this.R=a}};
Fn.prototype.ih=function(a,b,c,d,e,f){var g=this.Ba(),h=this.$,k=this.R;f=void 0===f?!1:f;a:{k=void 0===k?1:k;k=void 0===k?1:k;var l=h+","+k;if(!g.g.has(l)){var m=If(g,h[0]);if(!m.hf()){g=null;break a}g.g.set(l,Kf(h,m.lh(),k))}g=g.g.get(l)}g&&(f&&a.scale(-1,1),h=10*d/h[3],a.drawImage(g,b-(d+h)/2,c-(e+h)/2,d+h,e+h),f&&a.scale(-1,1))};var Hn=function(){Hf.call(this,"/logos/2018/bach/r2/",Gn)};w(Hn,Hf);var Gn=["svg-sprite.svg"],In=[0,20,20,100,100],Jn=[0,20,140,100,100],Kn=[0,20,260,113,114],Ln=[0,20,394,113,114],Mn=[0,20,528,113,114],Nn=[0,20,662,100,100];Va(Hn);var On=function(a,b,c){b=b.match(/[^\s-]+-?/g);if(!b||1>b.length)return[""];for(var d=b[0],e=[],f=1;f<b.length;f++){var g=d+("-"==d[d.length-1]?"":" ")+b[f];a.measureText(g).width>c?(e.push(d),d=b[f]):d=g}e.push(d);return e},Pn=function(a,b){a.font=b.fontStyle+" "+b.fontSize+"px "+b.fontFamily;for(var c=0,d=0;d<b.lines.length;d++)c=Math.max(c,a.measureText(b.lines[d]).width);return c},Qn=function(a,b,c,d,e){for(a.style.fontSize=b+"px";(a.offsetWidth>c||a.offsetHeight>d)&&b>e;)b--,a.style.fontSize=
b+"px"};var Rn=kh.ya(),Wn=function(a,b){E.call(this);this.wa=new E(0,4);var c=document.querySelector(".ddlbh-a");c||(c=document.createElement("canvas"),c.classList.add("ddlbh-a"));this.R=c;this.R.width=250;this.R.height=200;this.$a=this.R.getContext("2d");this.Za=a;a=document.querySelector(".ddlbh-h");a||(a=document.createElement("div"),a.classList.add("ddlbh-h"));this.S=a;a=document.querySelector(".ddlbh-e");a||(a=document.createElement("div"),a.classList.add("ddlbh-e"));this.v=a;this.Oa=document.querySelector(".ddlbh-l")||
Sn(this);this.Ea=document.querySelector(".ddlbh-n")||Tn(this);this.$=document.querySelector(".ddlbh-f")||Un(this);this.va=document.querySelector(".ddlbh-u")||Vn(this);this.La=new zg(this.R,new A(0,4.5,-35));this.Ba=new Um;B(this.La,this.Ba.g);B(this.wa,this.Ba.g);a=new Cg;a.vb=function(d){d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,d.canvas.width,d.canvas.height)};a.U=1E3;B(a,this.wa);this.setSize(30,25);this.wa.setSize(30,25);this.Ma=0;this.S.appendChild(this.v);this.v.appendChild(this.R);this.Za.appendChild(this.S);
this.S.classList.add("ddlbh-b");this.v.classList.add("ddlbh-b");this.R.classList.add("ddlbh-b");this.va.classList.add("ddlbh-b");this.$.classList.add("ddlbh-b");b&&(this.j=new fh({Vc:Tm,Zd:Gi}),gh(this.j,250,200),this.j.Fa(!0),B(this.j,this.wa));this.W=new pg;B(this.W,this)};w(Wn,E);
var Vn=function(a){var b=document.createElement("div");b.classList.add("ddlbh-u");a.v.appendChild(b);return b},Un=function(a){var b=document.createElement("div");b.classList.add("ddlbh-f");a.S.appendChild(b);return b},Sn=function(a){var b=document.createElement("div");b.classList.add("ddlbh-k");b.classList.add("ddlbh-i");var c=document.createElement("p");c.classList.add("ddlbh-l");c.classList.add("ddlbh-j");c.style.fontFamily=nh();b.appendChild(c);a.v.appendChild(b);return c},Tn=function(a){var b=
document.createElement("div");b.classList.add("ddlbh-m");b.classList.add("ddlbh-i");var c=document.createElement("p");c.classList.add("ddlbh-n");c.classList.add("ddlbh-j");b.appendChild(c);a.v.appendChild(b);return c};Wn.prototype.ub=function(a){this.j&&Xm(this.Ba,a,this.$a,this.La)};
var Xn=function(a,b){yc(a.S,"ddlbh-b","ddlbh-c");yc(a.v,"ddlbh-b","ddlbh-c");yc(a.va,"ddlbh-b","ddlbh-c");yc(a.$,"ddlbh-b","ddlbh-c");a.g=!0;a.j&&(yc(a.R,"ddlbh-b","ddlbh-c"),a.j.play());rg(a.W,300,function(){return b()});a.$.classList.add("ddlbh-g")},Yn=function(a,b){b=void 0===b?function(){}:b;yc(a.S,"ddlbh-c","ddlbh-b");yc(a.v,"ddlbh-c","ddlbh-b");yc(a.va,"ddlbh-c","ddlbh-b");yc(a.$,"ddlbh-c","ddlbh-b");a.j&&(yc(a.R,"ddlbh-c","ddlbh-b"),a.j.j=!0);rg(a.W,200,function(){a.g=!1;a.$.classList.remove("ddlbh-g");
b()});tg(a.W)},bo=function(a){Zn(a,"What's displayed while music is being generated");var b=$n[a.Ma%$n.length];ao(a,b.text);a.va.style.background="url(/logos/2018/bach/r2/"+b.Pd+".gif) center / contain no-repeat"},co=function(a){rg(a.W,0,function(){a.Ma++;bo(a)})},Zn=function(a,b){a.Oa.innerText=mh(Rn,b);Qn(a.Oa,34,400,70,10)},ao=function(a,b){a.Ea.innerText=mh(Rn,b);Qn(a.Ea,18,400,100,10)},$n=[{text:"Fun Fact - 1",Pd:"01_sheets"},{text:"Fun Fact - 2",Pd:"02_observing"},{text:"Fun Fact - 3",Pd:"03_pattern"},
{text:"Fun Fact - 4",Pd:"04_clock"},{text:"Fun Fact - 5",Pd:"05_80s"},{text:"Fun Fact - 6",Pd:"06_structure"}];var eo=function(a){Ym.call(this,a);this.o=new Wn(a.Yf,!0);B(this.o,this);this.j=!1};w(eo,Ym);eo.prototype.start=function(){var a=this;Ym.prototype.start.call(this);Zn(this.o,"Loading status");ao(this.o,"Wait text");Xn(this.o,function(){return setTimeout(function(){return a.j=!0},1E3)})};eo.prototype.ub=function(){var a=this;this.j&&this.Ac.Ma&&(this.j=!1,Yn(this.o,function(){return a.end()}))};var go=function(a,b,c,d,e,f){mm.call(this,a,b,c,function(){fo(g,g.S?0:1);f()});var g=this;this.lg=b;this.Qd=c;this.Hd=d;this.Oa=e;this.S=0};w(go,mm);var fo=function(a,b){a.S=b;0==b?(a.$a=a.lg,a.La||Cl(a,a.$a),a.$=a.Qd):(a.$a=a.Hd,a.La||Cl(a,a.$a),a.$=a.Oa);a.La&&Cl(a,a.$)};var ho=function(a){E.call(this,a);this.j=null};w(ho,E);ho.prototype.vb=function(a){this.j||(this.j=a.createLinearGradient(0,-9,0,9),this.j.addColorStop(0,"rgba(0,0,0,0)"),this.j.addColorStop(.6,"rgba(0,0,0,1)"));a.fillStyle=this.j;a.fillRect(-30,-9,60,18)};var io=function(a,b,c,d){var e=void 0===d?{}:d;d=void 0===e.bc?function(){}:e.bc;e=void 0===e.td?Hl:e.td;Ll.call(this,b,null,c.clone(),function(f){return a.i(f)},{bc:d,td:e,Dc:function(){return a.H.clone()},Di:Rf})};w(io,Ll);var mo=function(a){this.v=a;this.i=this.v.length/4;this.H=this.i+6;this.o=[[],[],[],[]];this.j=[[],[],[],[]];this.g=Array(jo*(this.H+1));for(a=0;a<this.i;a++)this.g[a]=[this.v[4*a],this.v[4*a+1],this.v[4*a+2],this.v[4*a+3]];var b=Array(4);for(a=this.i;a<jo*(this.H+1);a++){b[0]=this.g[a-1][0];b[1]=this.g[a-1][1];b[2]=this.g[a-1][2];b[3]=this.g[a-1][3];if(0==a%this.i){var c=b,d=c[0];c[0]=c[1];c[1]=c[2];c[2]=c[3];c[3]=d;ko(b);b[0]^=lo[a/this.i][0];b[1]^=lo[a/this.i][1];b[2]^=lo[a/this.i][2];b[3]^=lo[a/
this.i][3]}else 6<this.i&&4==a%this.i&&ko(b);this.g[a]=Array(4);this.g[a][0]=this.g[a-this.i][0]^b[0];this.g[a][1]=this.g[a-this.i][1]^b[1];this.g[a][2]=this.g[a-this.i][2]^b[2];this.g[a][3]=this.g[a-this.i][3]^b[3]}};mo.prototype.U=16;
var jo=mo.prototype.U/4,no=function(a,b){for(var c,d=0;d<jo;d++)for(var e=0;4>e;e++)c=4*e+d,c=b[c],a.o[d][e]=c},oo=function(a){for(var b=[],c=0;c<jo;c++)for(var d=0;4>d;d++)b[4*d+c]=a.o[c][d];return b},po=function(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.o[c][d]^=a.g[4*b+d][c]},qo=function(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.o[c][d]=b[a.o[c][d]]},ro=function(a){for(var b=1;4>b;b++)for(var c=0;4>c;c++)a.j[b][c]=a.o[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.o[b][c]=a.j[b][(c+b)%jo]},
so=function(a){for(var b=1;4>b;b++)for(var c=0;4>c;c++)a.j[b][(c+b)%jo]=a.o[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.o[b][c]=a.j[b][c]},ko=function(a){a[0]=to[a[0]];a[1]=to[a[1]];a[2]=to[a[2]];a[3]=to[a[3]]},to=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,
209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,
158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],uo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,
247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,
214,38,225,105,20,99,85,33,12,125],lo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],vo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,
198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,
199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],wo=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,
136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],xo=[0,9,18,
27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,
137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],yo=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,
254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,
182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],zo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,
107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,
250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ao=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,
211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,
40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];var Bo=function(a){this.g=a};var Co=function(){this.g=this.i=this.o=null};Co.prototype.getExtension=function(){return null};var Fo=function(a){var b=new Rh;var c=new Co;c.o=Do();c.i="/logos/2018/bach/r2/share.png";c.g=a;Sh(b,1,c.o);Sh(b,2,c.i);Sh(b,3,c.g);c=new Uint8Array(b.g+b.i.length());for(var d=b.o,e=d.length,f=a=0;f<e;f++){var g=d[f];c.set(g,a);a+=g.length}d=b.i.end();c.set(d,a);b.o=[c];b=Eo();b=new Bo(new mo(b));a=[];for(d=0;d<c.length;d++)a.push(c[d]);for(;a.length%16;)a.push(128);c=[];e=z.repeat(0,16);for(d=0;d<a.length;d+=b.g.U){f=z.slice(a,d,d+b.g.U);f=vh(f,e);e=b.g;no(e,f);po(e,0);for(f=1;f<e.H;++f){qo(e,to);
ro(e);g=e.o;for(var h=e.j[0],k=0;4>k;k++)h[0]=g[0][k],h[1]=g[1][k],h[2]=g[2][k],h[3]=g[3][k],g[0][k]=vo[h[0]]^wo[h[1]]^h[2]^h[3],g[1][k]=h[0]^vo[h[1]]^wo[h[2]]^h[3],g[2][k]=h[0]^h[1]^vo[h[2]]^wo[h[3]],g[3][k]=wo[h[0]]^h[1]^h[2]^vo[h[3]];po(e,f)}qo(e,to);ro(e);po(e,e.H);e=oo(e);z.extend(c,e)}b=Ch(c,!0);a=window.location;return a.protocol+"//"+a.host+"/webhp?doodle=80484806_"+b+"&hl="+md},Eo=function(){for(var a=uh("window.console.log80484806");32>a.length;)a.push(128);return a};var Go=function(a){return 0==a.indexOf("//")?"https:"+a:a},Ho=function(a){var b=Do();kd()||(Xk(9),a=Go(a),window.location="http://www.google.com/doodles/_SHARE?description="+encodeURIComponent(b)+"&url="+encodeURIComponent(a))},Io=function(a,b){var c=new Sb,d;for(d in b)c.add(d,b[d]);a=new Mb(a);Qb(a,c);return a.toString()},Jo=null,Ko=function(a,b,c){if(navigator.g)return navigator.g.tr(c);if(!document.execCommand)return Promise.reject();Jo||(Jo=document.createElement("input"),Jo.readOnly=!0,$c(Jo,
"position","absolute","opacity",0,"left",0,"top",0,"pointerEvents","none"),a.appendChild(Jo));a=Jo;a.value=c;a!==document.activeElement&&a.focus();c=document.createRange();a.contentEditable=!0;a.readOnly=!1;c.selectNodeContents(a);var d=window.getSelection();d.removeAllRanges();d.addRange(c);a.setSelectionRange(0,a.value.length);a.contentEditable=!1;a.readOnly=!0;a=!1;try{a=document.execCommand("copy")}catch(e){a=!1}window.getSelection().removeAllRanges();Jo.remove();Jo=null;b.focus();return a?Promise.resolve():
Promise.reject()};var Lo=function(){this.g={};this.i=0;this.o=document.body};Va(Lo);var Mo={};Lo.prototype.reset=function(){for(var a in this.g)No(this,a);this.g={}};
var No=function(a,b){if(a=a.g[b])a.Gg&&window.clearTimeout(a.Gg),a.jd&&(a.jd.parentNode&&a.jd.parentNode.removeChild(a.jd),a.jd=null),a.Jh=null,a.Xe=null},Oo=function(a,b,c){var d=Lo.ya(),e=d.g[a];if(e){if(e.Af){b&&b(e.Af);return}if(e.Gg)return}else e={Xe:c,Gk:a,jd:null,Jh:b,Gg:0,Af:null};e.jd||(e.jd=document.createElement("script"));b="c"+ ++d.i;Mo[b]=function(f){var g=Lo.ya(),h=e;h.Af=f.id;h.Af?h.Jh&&h.Jh(h.Af):h.Xe&&h.Xe();No(g,h.Gk)};b="//google-doodles.appspot.com/?callback=google.doodle.lsc."+
b+"&url="+encodeURIComponent(a);e.jd.src=b;e.Gg=window.setTimeout(function(){e.Xe&&e.Xe();No(Lo.ya(),a)},2E3);d.o.appendChild(e.jd);d.g[a]=e};jb("google.doodle.lsc",Mo);var Qo=function(a,b){E.call(this);var c=this;this.$a=b;this.Za=ic&&!qc;this.va=new mm(new A(0,0,0),new Fn(Jn),new Fn(Jn),function(){var d=c.W;kd()||(d=Go(d),d=Io("https://www.facebook.com/dialog/share",{app_id:"738026486351791",href:d,hashtag:"#GoogleDoodle"}),Zc(d),Xk(5))});rm(this.va,3);B(this.va,this);this.Ea=new mm(new A(0,0,0),new Fn(Nn),new Fn(Nn),function(){var d=c.W;kd()||(d=Go(d),d="text="+encodeURIComponent(String(Do()+"\n"+d)),Zc("http://twitter.com/intent/tweet?"+d),Xk(6))});rm(this.Ea,
3);B(this.Ea,this);this.$=new mm(new A(0,0,0),new Fn(In),new Fn(In),function(){var d=c.W,e=Do();if(!kd()){Xk(8);var f=window.top.location;d=Go(d);e=Io("mailto:",{subject:ld,body:e+"\n"+d});f.href=e}});rm(this.$,3);B(this.$,this);this.Ba=!1;this.wa=new pg;B(this.wa,this);this.g=!1;this.qc(0);this.La=!1;this.Ma="";this.Oa=a;this.W=Fo(this.Ma);this.j=document.createElement("div");this.j.classList.add("ddlbh-v");this.j.classList.add("ddlbh-p");this.v=document.createElement("p");this.j.appendChild(this.v);
this.v.classList.add("ddlbh-x");this.v.classList.add("ddlbh-y");this.S=document.createElement("div");this.S.classList.add("ddlbh-w");this.S.classList.add("ddlbh-p");this.S.textContent=qd();this.j.appendChild(this.S);this.Oa.appendChild(this.j);this.R=Po();this.R.onclick=function(){Ko(c.Oa,c.R,c.v.textContent).then(function(){yc(c.S,"ddlbh-p","ddlbh-q");Xk(113);setTimeout(function(){yc(c.S,"ddlbh-q","ddlbh-p")},2E3)})};this.R.classList.add("ddlbh-A");this.R.classList.add("ddlbh-y");this.j.appendChild(this.R)};
w(Qo,E);
var Ro=function(a){a.v.textContent=a.W;Qn(a.v,17,390,40,5);a.j.style.width=a.v.offsetWidth+"px"},So=function(a,b){a.Ma=btoa(ll(b).j());b=Fo(a.Ma);a.W=b;a.La=!0;Oo(b,function(c){a.La=!1;a.W=c;Ro(a);a.Ba&&yc(a.j,"ddlbh-p","ddlbh-q")},function(){Xk(112)});Ro(a)},To=function(a){a.La||(yc(a.R,"ddlbh-y","ddlbh-z"),yc(a.v,"ddlbh-y","ddlbh-z"),yc(a.j,"ddlbh-p","ddlbh-q"));a.g=!0;a.Za?Ho(Fo(a.Ma)):(tg(a.wa),ug(a.wa,[new io(a.va,200,new A(0,1.2,0)),new io(a.Ea,200,new A(0,2.4,0)),new io(a.$,200,new A(0,1.2*
3,0)),new Ll(200,null,1,function(b){return a.qc(b||0)},{Dc:function(){return a.o},bc:a.$a})]),a.Ba=!0)},Uo=function(a){yc(a.R,"ddlbh-z","ddlbh-y");yc(a.v,"ddlbh-z","ddlbh-y");yc(a.j,"ddlbh-q","ddlbh-p");tg(a.wa);ug(a.wa,[new io(a.va,200,new A(0,0,0)),new io(a.Ea,200,new A(0,0,0)),new io(a.$,200,new A(0,0,0)),new Ll(200,null,0,function(b){return a.qc(b||0)},{Dc:function(){return a.o},bc:function(){a.g=!1}})]);a.Ba=!1;a.$a()},Do=function(){return hd("share","Celebrating Johann Sebastian Bach #GoogleDoodle")},
Po=function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.id="hpofsharebutton";a.setAttribute("viewBox","0 0 24 24");a.setAttribute("width","24");a.setAttribute("height","24");var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx","12");b.setAttribute("cy","12");b.setAttribute("r","12");b.setAttribute("fill","white");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("transform","translate(4, 4) scale(0.66)");
c.setAttribute("d","M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z");a.appendChild(b);a.appendChild(c);return a};var Wo=function(a,b,c,d){b=void 0===b?1:b;c=void 0===c?10:c;d=void 0===d?"left":d;E.call(this);this.W=d;this.R=a;this.j={lines:[],fontFamily:"",fontSize:1,fontStyle:""};this.$=b;this.Ba=c;this.v="#000";this.S="Garamond";this.wa=document.createElement("canvas").getContext("2d");this.va=4;this.Ea=this.$/2;Dg(this,0,0);Vo(this)};w(Wo,E);
var Vo=function(a){var b=a.wa,c=a.R,d=a.S,e=24*a.$,f=24*a.Ea,g=24*a.Ba,h=a.va,k=b.font;b.font=" "+e+"px "+d;for(var l=On(b,c,g);l.length>h&&e>f;)e=Math.max(f,1<e?e-1:e-.1),b.font=" "+e+"px "+d,l=On(b,c,g);for(c=0;c<l.length;c++)for(;b.measureText(l[c]).width>g&&e>f;)e=Math.max(f,1<e?e-1:e-.1),b.font=" "+e+"px "+d;b.font=k;a.j={lines:l,fontFamily:d,fontSize:e,fontStyle:""};a.setSize(Pn(a.wa,a.j)/24,1.2*a.j.lines.length*a.j.fontSize/24)};
Wo.prototype.vb=function(a){var b=0;"left"==this.W?b=-this.Sa.x*this.ha().width:"right"==this.W&&(b=this.Sa.x*this.ha().width);a.translate(b,-this.Sa.y*this.ha().height);a.scale(1/24,1/24);a.fillStyle=this.v;a.translate(0,this.j.fontSize);a.textAlign=this.W;b=this.j;var c=1.2*this.j.fontSize,d=a.font;a.font=b.fontStyle+" "+b.fontSize+"px "+b.fontFamily;for(var e=0;e<b.lines.length;e++)a.fillText(b.lines[e],0,e*c);a.font=d};var Xo=function(a,b){a.S=b;Vo(a)},Yo=function(a){a.va=1;Vo(a)};var Zo=[{key:"C",Rb:!0,uc:0,xc:$i},{key:"G",Rb:!0,uc:1,xc:hj},{key:"D",Rb:!0,uc:2,xc:ej},{key:"A",Rb:!0,uc:3,xc:Yi},{key:"E",Rb:!0,uc:4,xc:fj},{key:"B",Rb:!0,uc:5,xc:Zi},{key:"Gb",Rb:!1,uc:6,xc:hj},{key:"Db",Rb:!1,uc:5,xc:ej},{key:"Ab",Rb:!1,uc:4,xc:Yi},{key:"Eb",Rb:!1,uc:3,xc:fj},{key:"Bb",Rb:!1,uc:2,xc:Zi},{key:"F",Rb:!1,uc:1,xc:[0,210,1098,20,31]}],$o=new Map([["C",0],["D",2],["E",4],["F",5],["G",7],["A",9],["B",11]]),ap="FCGDAEB".split(""),bp=[77,72,79,74,69,76,71],cp=function(a){a=0===a?a:a%
12;return 0>a?a+12:a},dp=function(a){this.g=void 0===a?0:a},fp=function(a,b,c){return ep(a,void 0===c?a.g:c).includes(b.g)?(a=mi(b.wb)%12,b=$o.get(b.g),a===b?"n":a===cp(b+2)?"##":a===cp(b-2)?"bb":""):hk(b).slice(1)},ep=function(a,b){a=Zo[void 0===b?a.g:b];b=ap.slice();a.Rb||(b=b.reverse());return b.slice(0,a.uc)},hp=function(a,b,c){var d=a.g;a.g=cp(b);b=a.g;c=kl(c);for(var e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++){var g=c[e][f];g&&gp(a,g,b,d)}},gp=function(a,b,c,d){d=void 0===d?0:d;c=Oa(c)?
c:a.g;var e=ep(a,d);Zh(b.wb,1,b.i);var f=mi(b.wb),g=fp(a,b,d);e.includes(b.g)&&"n"!=g&&(f-=Zo[d].Rb?1:-1);"#"===g?--f:"b"===g&&(f+=1);ep(a,c).includes(b.g)&&(f+=Zo[c].Rb?1:-1);Zh(b.wb,1,f);b.i=f;81<f&&(Zh(b.wb,1,81),Zh(b.wb,1,b.i-1));return b};var ip=function(a,b,c,d,e){Al.call(this,a,b,d);this.va=c;this.S=0;this.v(b);this.$=e};w(ip,Al);ip.prototype.R=function(){return this.j};ip.prototype.v=function(a){Al.prototype.v.call(this,a);this.S=0==a?0:this.va};ip.prototype.vb=function(a){var b=this.j+this.S-.1;b=0<b?b:0;a.beginPath();a.arc(0,0,b,0,360);a.lineTo(0,0);a.closePath();b=a.createRadialGradient(0,0,0,0,0,this.j+this.S);b.addColorStop(1,"#EBEBE3");b.addColorStop(.5,this.$);a.fillStyle=b;a.fill();Al.prototype.vb.call(this,a)};var jp=function(a,b){a=sk(a,void 0===b?0:b);b=[];for(var c=10;c<=a;c+=2)b.push(.85*(c-a)/2);for(c=-2;c>=a;c-=2)b.push(.85*(c-a)/2);return b},op=function(a,b,c,d,e){d=void 0===d?0:d;e=void 0===e?null:e;E.call(this,b,c);this.j=a;this.$=new kp;this.$.o=.4;this.$.i(-.1,0,0);this.$.g=!1;B(this.$,this);this.W=a.getDuration();this.v=0;this.Ba=Ak[Yh(this.j.wb,2)];this.Oa=e;this.Oa||(this.Oa=new dp);this.mc=d;Dg(this,0,.5);this.setSize(.6,.6);this.La=new $f;this.La.U=1;B(this.La,this);lp(this);this.$a=this.va=
null;mp(this);this.wa=new pg;B(this.wa,this);this.Ma=new G(zk(this.Ba,this.W));B(this.Ma,this);np(this);this.R=new ip(new A(.3,0,0),0,.3,"#FFF","#09F");this.R.U=.5;B(this.R,this);this.Ea=0};w(op,E);var pp=function(a){a.$.g=!0;ug(a.wa,new Ll(500,1,0,function(b){a.$.o=b},{bc:function(){a.$.g=!1}}))};op.prototype.Mc=function(a){this.j=a;lp(this);mp(this)};op.prototype.Wd=function(a){this.W=a;np(this)};op.prototype.getDuration=function(){return this.W};
op.prototype.qc=function(a){E.prototype.qc.call(this,null!=this.Ob?this.Ob:a)};var qp=function(a,b){a.v=b;np(a);2==a.v||1==a.v?a.qc(.4):a.qc(1)};op.prototype.Za=function(a){this.Ba=a;np(this)};
var mp=function(a){var b=fp(a.Oa,a.j);rp(a,b)},rp=function(a,b){a.va&&a.removeChild(a.va);if(a.$a=b){var c=Uj,d=-.3,e=0;switch(b){case "bb":c=ij;e=-.1;break;case "b":c=Tj;d=-.1;break;case "#":c=Vj;break;case "##":c=kj,e=-.1}b=new G(c);b.i(-.25+e,.3+d);gg(b,2);a.va=b;B(b,a)}},sp=function(a){a.va&&B(a.va,a)},tp=function(a){a.va&&a.removeChild(a.va)},up=function(a){return!!(Yh(a.j.wb,2)%2)},vp=function(a){return void 0!==a.S?a.S-a.H.y:up(a)?-1:1},np=function(a){qh(a.Ma,2==a.v?zk(Ak[1],a.W):zk(a.Ba,a.W));
var b=8>a.W?.75:.69;sh(a.Ma,b,b);rh(a.Ma,.5,0)},xp=function(a){ug(a.wa,new Ll(500,0,.6,function(b){a.R.v(b)},{Dc:function(){return a.R.R()},bc:function(){wp(a)},td:Kl}))},wp=function(a){ug(a.wa,new Ll(500,.6,.3*1.5,function(b){a.R.v(b)},{Dc:function(){return a.R.R()},bc:function(){a.R.v(.3*1.5)},td:Jl}))},lp=function(a){fg(a.La);jp(a.j,a.mc).forEach(function(b){b=new G(rj,.3,-b);sh(b,1.2,1);B(b,a.La)})},zp=function(a,b){void 0==a.S&&yp(a,b,vp(a)+.1*(up(a)?-1:1))},Ap=function(a){a.beginPath();a.arc(.6+
.3,0,.1,0,2*Math.PI);a.fill()},yp=function(a,b,c){b.beginPath();b.save();b.translate(0,-c);b.scale(1,up(a)?-1:1);a=up(a)?.05:.56;c=a+.02;b.moveTo(a,0);b.bezierCurveTo(c,.2,c+.3,.2,c+.3,.7);b.bezierCurveTo(c+.3,.4,c,.4,c,.1);b.fill();b.restore()};
op.prototype.vb=function(a){a.fillStyle=this.Ba;a.strokeStyle=this.Ba;2==this.v&&(a.fillStyle="red",a.strokeStyle="red");switch(this.W){case 1:if(void 0==this.S)yp(this,a,vp(this)+.1*(up(this)?-1:1)),yp(this,a,vp(this)+-.15*(up(this)?-1:1));else if(this.Ea){var b=up(this)?.05:.56,c=vp(this)+-.3*(up(this)?-1:1);a.save();a.translate(b,-c);a.scale(1,up(this)?-1:1);a.beginPath();a.moveTo(0,0);a.lineTo(.33*this.Ea,0);a.stroke();a.restore()}break;case 2:zp(this,a);break;case 3:zp(this,a);Ap(a);break;case 6:Ap(a);
break;case 12:Ap(a)}16!=this.W&&(a.lineCap="round",a.beginPath(),a.moveTo(up(this)?.05:.56,0),a.lineTo(up(this)?.05:.56,-vp(this)),a.lineWidth=.1,a.stroke())};var kp=function(a){E.apply(this,arguments)};w(kp,E);kp.prototype.vb=function(a){a.fillStyle="yellow";a.beginPath();a.arc(.4,0,.4,0,2*Math.PI);a.fill()};var Dp=function(a){var b=a.filter(function(l){return l}),c=up(b[0])?Math.min:Math.max,d=b.reduce(function(l,m){return c(l,m.H.y)},up(b[0])?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER),e=b[0].H,f=b[b.length-1].H,g;2<a.length?g=b.slice(1).reduce(function(l,m){return l+Bp(e,m.H)},0)/(a.length-1):g=Bp(e,f);var h=up(b[0])?-.8:.8,k=new A(e.x,c(d+h-g/2,d+h),0);d=new A(f.x,c(d+h+g/2,d+h),0);E.call(this,k);this.$="#000";this.S=Qf(d,k);this.W=Bp(k,d);this.wa=d.y-this.W*d.x;this.va=.3*(up(b[0])?-1:1);this.j=
new A(up(b[0])?.05:.56,0,0);d=t(b);for(f=d.next();!f.done;f=d.next())f=f.value,f.Ea=0,f.S=this.W*f.H.x+this.wa;Cp(this,a,b,k)};w(Dp,E);Dp.prototype.Za=function(a){this.$=a};
var Cp=function(a,b,c,d){switch(c.length){case 2:b[2]&&b[3]||b[0]&&b[1]?(a.v=a.j,a.R=a.S):b[3]?b[3].Ea=-1:b[1]&&b[2]&&(b[1].Ea=1);break;case 3:if(!b[1]){b=b[2];a.v=Qf(new A(b.H.x+a.j.x,b.S||0,0),d);a.R=a.S;break}if(!b[2]){b=b[0];c=b.S||0;a.v=a.j;a.R=Qf(new A(b.H.x+a.j.x/2,c,0),d);break}if(!b[3]){b=b[1];c=b.S||0;a.v=a.j;a.R=Qf(new A(b.H.x,c,0),d);break}case 4:a.v=a.j,a.R=a.S}};
Dp.prototype.vb=function(a){a.lineWidth=.1;a.strokeStyle=this.$;a.lineCap="round";a.beginPath();a.moveTo(this.j.x,this.j.y);a.lineTo(this.S.x+this.j.x,-this.S.y);a.stroke();this.v&&(a.beginPath(),a.moveTo(this.v.x,-this.v.y+this.va),a.lineTo(this.R.x+this.j.x,-this.R.y+this.va),a.stroke())};var Bp=function(a,b){return(b.y-a.y)/(b.x-a.x)};var Fp=function(a,b){E.call(this);this.Za=b;this.Hd=new pg;B(this.Hd,this);this.Ea=new $f;B(this.Ea,this);this.Oa=new $f;B(this.Oa,this);this.od=new $f;B(this.od,this);this.W=this.va=this.Ba=this.R=this.v=null;this.La=!1;this.j=[null,null,null,null];this.wa=0;Ep(this,a);this.setSize(3.6,9*.85);Dg(this,0,1.7/this.ha().height);this.Ob=this.mc=this.$=null;this.Ma=-1;this.Qd=!1;this.Uc=!0;ih.ya().addListener(this)};w(Fp,E);
var Ep=function(a,b){var c=a.j;a.j=[];fg(a.Ea);fg(a.Oa);for(var d=0;d<b.g.length;d++){var e=b.g[d];e&&Gp(a,d,e,c[d]);a.v===d&&a.va&&Gp(a,d,a.va,c[d])}1<a.Ea.Ka.length&&(c=new Dp(a.j),B(c,a.Ea));a.S=b;jh(ih.ya(),10)},Gp=function(a,b,c,d){var e=d;d=.9*b;var f=wk(c,a.wa);e?(e.i(d,f),e.Mc(c),e.Oa=a.Za,e.S=void 0):e=new op(c,d,wk(c,a.wa),a.wa,a.Za);e.Wd(c.getDuration());a.Ma==b&&a.Qd&&e.R.v(.3*1.5);B(e,a.Ea);a.j[b]=e;b===a.v?qp(e,1):a.W&&b===a.R&&(b=wk(a.W,a.wa),c.i!=a.W.i&&(c=new op(a.W,d,b,a.wa,a.Za),
qp(c,1),B(c,a.Oa),a.La=!0),qp(e,2),a=a.Oa,c=new Wo("\u00d7"),c.i(d,f),Dg(c,0,.6),B(c,a))};Fp.prototype.Yd=function(){return!0};
Fp.prototype.se=function(a){var b=Hp(this,a);a=Ip(this,b.x);var c=mi(vk(b.y,this.wa));if(null!==this.mc&&null!==this.Ob){if(this.mc==a&&this.Ob==c)return;this.$&&(clearTimeout(this.$),this.$=null);this.Uc=!1}this.mc=a;this.Ob=c;a!==this.Ba&&null!=this.Ba&&this.j[this.Ba]&&this.Ba!==this.v&&(this.W=this.R=null,qp(this.j[this.Ba],0));a!==this.v&&null!==this.v&&this.j[this.v]&&1==this.j[this.v].v&&(c=this.v,this.j[c]=null,this.S.Mc(c,null,!0),this.va=null);b=new gk(vk(b.y,this.wa),1,uk(b.y));b=gp(this.Za,
b);Zh(b.wb,2,0);b.Wd(Fk(this.S,a));this.j[a]&&1!=this.j[a].v?(this.R=a,qp(this.j[a],2),this.W=b,this.La=!1):(this.v=a,this.va=b);Ep(this,this.S);this.j[a]&&jh(ih.ya(),6,b);this.Ba=a};
var Ip=function(a,b){return!Ck||a.j[Math.floor(b/.9)]?Math.floor(b/.9):1<Math.floor(b/.9)&&(a.j[0]&&1!=a.j[0].v||a.j[2])?2:0},Kp=function(a,b,c){c=void 0===c?!1:c;var d=a.j[b];Jp(a);d&&1!=d.v&&(c&&(tg(d.wa),xp(d)),a.Qd=c,a.Ma=b,jh(ih.ya(),8,d));a.$=null},Lp=function(a,b){b=Hp(a,b).x;b=Ip(a,b);var c=a.j[b];a.Ma==b&&(Jp(a),jh(ih.ya(),9));c&&(B(c,a.od),a.j[b]=null,a.S.Mc(b,null,!0),a.R=null,a.W=null,a.La=!1,ug(a.Hd,new Ll(lc?350:150,1,0,function(d){c.Ob=.4*d},{bc:function(){return eg(c)}})),Ep(a,a.S),
jh(ih.ya(),10))},Op=function(a,b){var c=a.$a,d=kk(a.j).replace(/bb|##|b|#/,""),e=b.find(function(f){return f.includes(d)});c?Mp(a,d,e,b):void 0!=e&&Np(a,e,b)},Mp=function(a,b,c,d){var e=a.$a;void 0!=c?c.slice(2)==e?tp(a):(d.splice(d.indexOf(c),1),d.push(b+e)):(sp(a),d.push(b+e))},Np=function(a,b,c){if(0<=hk(a.j).search(/b|#/)){var d=hk(a.j).slice(1);d!=b.slice(2)?(rp(a,d),sp(a)):tp(a)}else 0<=b.indexOf("n")?(rp(a,""),tp(a)):(rp(a,"n"),sp(a));c.splice(c.indexOf(b),1)};
Fp.prototype.$a=function(a,b){(9==a||8==a&&b.getParent()!==this.Ea)&&Jp(this)};var Jp=function(a){if(0<=a.Ma&&void 0!==a.j[a.Ma]){var b=a.j[a.Ma];tg(b.wa);b.R.v(0)}a.Ma=-1};Fp.prototype.nf=function(a){var b=this;this.se(a);this.Uc=!0;this.$=setTimeout(function(){var c=Hp(b,a).x;Kp(b,Ip(b,c),!0)},500)};
Fp.prototype.ve=function(a,b){if(this.$||!this.Uc)clearTimeout(this.$),this.$=null,b&&(null!==this.v&&this.j[this.v]&&1==this.j[this.v].v?(null!==this.v&&(qp(this.j[this.v],0),jh(ih.ya(),0,this.va),this.S.Mc(this.v,this.va,!0),jh(ih.ya(),9),Kp(this,this.v),this.va=this.v=null,Ep(this,this.S)),jh(ih.ya(),10)):this.La&&null!==this.R?(null!==this.R&&(qp(this.j[this.R],0),jh(ih.ya(),0,this.W),this.S.Mc(this.R,this.W,!0),jh(ih.ya(),9),Kp(this,this.R),this.W=this.R=null,this.La=!1,Ep(this,this.S)),jh(ih.ya(),
10)):Lp(this,a),Zk&&(Zk=!1,Yk(1)),jh(ih.ya(),3))};Fp.prototype.re=function(a){(a=this.Cc().contains(a))||this.cancel();return a};Fp.prototype.cancel=function(){this.va=this.Ba=null;null!==this.v&&this.j[this.v]&&1==this.j[this.v].v&&(this.j[this.v]=null,this.S.Mc(this.v,null,!0),this.v=null,Ep(this,this.S),jh(ih.ya(),10),jh(ih.ya(),6,null));null!==this.R&&this.j[this.R]&&(qp(this.j[this.R],0),this.W=null,fg(this.Oa),this.La=!1);this.Ob=this.mc=this.R=null};
var Hp=function(a,b){var c=[];yg(a.T).transform([b.x,b.y],0,c,0,1);b=c[0];c=c[1];var d=a.ha().height-a.Sa.y*a.ha().height-.85,e=-.85;a=a.Za;Zo[a.g].Rb&&-1<ep(a).indexOf("A")&&(e+=.51);return new nb(b,Math.min(Math.max(c,e),d))};Fp.prototype.Xd=function(){return!1};var Qp=function(a){$f.call(this,0,-1.7);this.v=a;this.o=0==this.v?new G(Yj):new G(Ji);B(this.o,this);rh(this.o,0,0==this.v?-.12:.21);this.o.U=-.1;this.o.i(0,0==this.v?-.4:.425);this.j=new $f;a=new G(Dj);var b=new G(Dj);this.j.U=-.1;rh(a,.5,-.5);rh(b,.5,.5);B(a,this.j);B(b,this.j);B(this.j,this);this.S=a.ha().width;this.W=this.o.ha().width+this.S+3.75;this.T=new dp;this.R=Pp(this)};w(Qp,$f);
var Pp=function(a){var b=ep(a.T);2>=b.length?(a.o.i(.75),gg(a,2)):4>=b.length?(a.o.i(.45),gg(a,1.9)):(a.o.i(.75-.6),gg(a,1.8));a.j.i(a.o.H.x+a.o.ha().width/2+.2);return a.Ca*(a.j.H.x+a.S+.3)};var Rp=function(){$f.call(this);this.j=null;this.o=[];this.T=new $f;B(this.T,this);this.R=0;this.v=new pg;B(this.v,this)};w(Rp,$f);var Up=function(a){a=void 0===a?0:a;E.call(this);this.j=il();this.R=new dp;this.v=[];this.Ma=new pg;B(this.Ma,this);this.wa=a;this.Ea=new Qp(a);B(this.Ea,this);this.W=this.Ea.W;this.$=new Rp;this.$.U=-.1;B(this.$,this);this.Ba=new $f;B(this.Ba,this);this.La=new $f;B(this.La,this);this.S=new G(Rj);rh(this.S,0,.41);sh(this.S,2,this.ha().height+.85);B(this.S,this);Sp(this,-1);this.Oa=!0;this.Za=[new G(sj),new G(tj),new G(uj),new G(vj),new G(wj)];a=t(this.Za);for(var b=a.next();!b.done;b=a.next())B(b.value,
this);for(a=0;5>a;a++)b=this.Za[a],rh(b,.5,0),b.o=0==this.wa?.85:1,b.i(0,.85*-a),sh(b,this.ha().width-0,1);for(a=0;a<this.j[0].length;a++)b=new G(Ii),rh(b,0,.5),b.i(this.W+14.6*(a+1),0),sh(b,1,3.4),B(b,this);Dg(this,0,0);Tp(this,this.j)};w(Up,E);Up.prototype.$a=function(a){10==a&&Vp(this)};
var Xp=function(a){var b=a.R.g;hp(a.R,b+1,a.j);Wk("d7",b+1);Xk(109);Wp(a)},Yp=function(a){var b=a.R.g;hp(a.R,b-1,a.j);Wk("d7",b-1);Xk(109);Wp(a)},Zp=function(a,b){hp(a.R,b,a.j);Wk("d7",b);Xk(109);Wp(a)},$p=function(a,b){var c=Math.floor(b/16),d=16*c;b=d?b%d:b;d=Math.floor(b/4);var e=4*d;return.3+(a.W+14.6*c+.1+3.6*d)+.9*(e?b%e:b)},Tp=function(a,b){for(var c=a.R,d=kl(b),e=0;e<d.length;e++)for(var f=0;f<d[e].length;f++){var g=d[e][f];g&&!g.g&&ok(g,Zo[c.g].Rb)}a.j=b;Wp(a)},Wp=function(a){fg(a.Ba);var b=
a.v;a.v=[];a.j.forEach(function(c,d){a.v[d]=b[d]||[];for(var e=0;e<c.length;e++){a.v[d][e]=a.v[d][e]||[];for(var f=0;f<c[e].length;f++){var g=a.v[d][e][f]||new Fp(c[e][f],a.R,4*e+f);g.wa=a.wa;g.U=-1;g.i(a.W+14.6*e+.1+3.6*f);Ep(g,c[e][f]);for(var h=d,k=t(g.Ea.Ka),l=k.next();!l.done;l=k.next())l.value.Za(Ak[h]);a.v[d][e][f]=g;0===d?B(g,a.Ba):B(g,a.La)}}});Vp(a);aq(a)},Vp=function(a){a.j.forEach(function(b,c){if(a.v[c])for(var d=0;d<b.length;d++)if(a.v[c][d])for(var e=[],f=0;f<b[d].length;f++)if(a.v[c][d][f])for(var g=
a.v[c][d][f],h=0;h<g.j.length;h++)g.j[h]&&Op(g.j[h],e)})},bq=function(a,b){var c=a.v[b];if(c){c=t(c);for(var d=c.next();!d.done;d=c.next()){d=t(d.value);for(var e=d.next();!e.done;e=d.next())eg(e.value)}}a.j[b]=hl();Wp(a)};
Up.prototype.vb=function(a){a.lineWidth=.1;var b=0==this.wa?"rgba(240, 240, 240, ":"rgba(210, 210, 210, ",c=a.createLinearGradient(0,-.85,0,4.25);c.addColorStop(0,b+"0)");c.addColorStop(.2,b+"1.0)");c.addColorStop(.8,b+"1.0)");c.addColorStop(1,b+"0)");for(b=0;b<this.j[0].length;b++){a.strokeStyle=c;var d=a,e=this.W+14.6*b-.2;d.lineWidth=.2;for(var f=0;4>f;f++){var g=e+3.6*f+.6;d.beginPath();d.moveTo(g,-.85);d.lineTo(g,4.25);d.stroke()}}};
var Sp=function(a,b){if(0>b)a.S.g=!1;else{for(var c=jl(b),d=t(a.v),e=d.next();!e.done;e=d.next())(e=e.value[c.measure][c.qd].j[c.step])&&pp(e);a.S.g=!0;0==b?(tg(a.Ma),a.S.i($p(a,b))):ug(a.Ma,new io(a.S,1E3*Dk(1),new A($p(a,b),0,0)))}};Up.prototype.ha=function(){return new Nf(this.W+29.2,3.4)};Up.prototype.va=function(){return this.Oa?this.Ba.Ka:[]};
var aq=function(a){var b=a.Ea,c=a.R;c.g!=b.T.g&&(b.T=new dp(c.g),b.R=Pp(b));a.$.i(a.Ea.R);b=a.$;c=a.R;a=a.wa;if(null===b.j||a!=b.R||c.g!=b.j){tg(b.v);fg(b.T);var d=b.o;b.o=ep(c).slice();b.R=a;b.j=c.g;var e=Zo[c.g];var f=bp.slice();e.Rb||(f[2]=67,f=f.reverse());e=f.slice(0,e.uc);for(var g=f=0;g<b.o.length;g++){var h=new ii;Zh(h,1,e[g]);Zh(h,2,0);h=new gk(h,1,b.o[g]);h=wk(h,a);var k=Zo[c.g].Rb?Vj:Tj;1==a&&(h-=6);h=new G(k,f,h);rh(h,0,Zo[c.g].Rb?0:-.2);gg(h,2.1);B(h,b.T);(d.length<=g||d[g]!=b.o[g])&&
ug(b.v,Ml(h,200));f+=.3}}};var cq=function(a,b){E.call(this);var c=this;this.j=b;B(this.j,this);this.R=a;B(this.R,this);this.R.g=!1;this.j.U=-1;this.R.U=-1;gg(this.j,1.05);this.j.i(-(this.j.ha().width*this.j.Ca)/2,this.j.ha().height/2);this.R.i(-this.j.ha().width/2,-2.55);this.W=new En(0,0,0,0,.5,"#ebebe3",null,.2);this.W.setSize(this.j.ha().width+3,this.ha().height+8.5);B(this.W,this);this.$=new G(Hi);sh(this.$,this.W.ha().width+6.3,10);this.$.i(0,-this.W.ha().height/2);B(this.$,this);this.wa=null;this.Ea=!1;this.va=0;this.v=
new Wo(Bk[0](),1,10,"center");Xo(this.v,"Noto Serif, serif");this.v.g=!1;this.v.o=0;this.v.U=-3;this.Ba=new En(0,.12,0,0,.5,"#ebebe3",null,.2);Dg(this.Ba,.5,0);this.Ba.U=1;B(this.Ba,this.v);a=new $f;a.ub=function(){c.Ba.setSize(1.4*c.v.ha().width,1.4*c.v.ha().height)};B(a,this.Ba);B(this.v,this);this.S=new pg;B(this.S,this)};w(cq,E);
var dq=function(a,b){a.Ea=b;a.W.j=b?a.wa:null},fq=function(a,b){return new Ll(300,0,1,function(c){return eq(a,b,c)})},gq=function(a,b,c){c&&rg(a.S,0,function(){a.v.g=!0;var e=a.v,f=Bk[b]();e.R=f;Vo(e);a.v.o=0;a.v.v=Ak[b];a.v.i(0,7.5)});var d=[fq(a,b)];c&&(d=[].concat(la(d),[Ml(a.v,300),new io(a.v,300,new A(0,8.1,0))]));qg(a.S,d);rg(a.S,400);c&&qg(a.S,[new io(a.v,100,new A(0,7.5,0)),Nl(a.v,100)])},eq=function(a,b,c){a=t((2>b?a.j:a.R).v[b]);for(b=a.next();!b.done;b=a.next()){b=t(b.value);for(var d=
b.next();!d.done;d=b.next())d.value.qc(c)}};
cq.prototype.vb=function(a){var b=a.createLinearGradient(0,0,0,this.W.ha().height);b.addColorStop(0,"#ebeae6");b.addColorStop(.4,"#ebebe3");b.addColorStop(.95,"#a9aaa0");b.addColorStop(1,"#777769");this.W.v=b;if(!this.wa||this.Ea)this.wa=a.createLinearGradient(0,0,this.W.ha().width,0),this.wa.addColorStop(0,"rgba(255,229,180,"+this.va+")"),this.wa.addColorStop(.33,"rgba(255,213,129,"+this.va+")"),this.wa.addColorStop(.66,"rgba(255,213,129,"+this.va+")"),this.wa.addColorStop(1,"rgba(255,229,180,"+
this.va+")"),this.W.j=this.wa};
var hq=function(a,b,c,d){c=void 0===c?500:c;d=void 0===d?!0:d;sg(a.S);b?(a.R.g=!0,eq(a,0,0),eq(a,1,0),eq(a,2,0),eq(a,3,0),qg(a.S,[new Ll(c,0,1,function(e){a.R.qc(e);eq(a,2,0);eq(a,3,0)}),new Ll(c,a.j.Ca,1,function(e){return gg(a.j,e)}),new Ll(c,a.j.H.y,a.j.ha().height+2.55,function(e){a.j.i(-(a.j.ha().width*a.j.Ca)/2,e)})]),gq(a,0,d),gq(a,1,d),gq(a,2,d),gq(a,3,d)):(a.v.g=!1,qg(a.S,[new Ll(c,1,0,function(e){return a.R.qc(e)}),new Ll(c,a.j.H.y,a.j.ha().height/2,function(e){a.j.i(-(a.j.ha().width*a.j.Ca)/
2,e)}),new Ll(c,a.j.Ca,1.05,function(e){return gg(a.j,e)})]),rg(a.S,0,function(){a.R.g=!1}));return new Promise(function(e){return rg(a.S,0,e)})},iq=function(a,b){Tp(a.j,[b[0],b[1],hl(),hl()]);Tp(a.R,[hl(),hl(),b[2],b[3]])},jq=function(a){var b=a.j.j;a=a.R.j;return[b[0],b[1],a[2],a[3]]};cq.prototype.ha=function(){var a=this.j.ha(),b=this.R.ha().height+2.55;this.R.g&&(b+=this.R.o*(this.R.ha().height+5.1+.85-b));return new Nf(a.width+1,a.height+b)};
cq.prototype.ub=function(){this.W.setSize(this.j.ha().width+3,this.ha().height+4.25);this.$.i(0,-this.W.ha().height/2)};var lq=function(a,b,c,d,e){E.call(this);var f=this;dg(this,new ho(new A(0,2,0)));this.Za=d;this.$a=e;this.j=b;this.La=!1;var g=lc?3.5:3;this.v=new go(new A(-b.ha().width/2-.27*g,6,0),new G(Mi),new G(Mi),new G(Li),new G(Li),function(){f.La?1==f.v.S?(jh(ih.ya(),5),a.play()):(jh(ih.ya(),4),Om(a)):(sg(f.R),gg(f.v,g),f.La=!0,jh(ih.ya(),1,f.j),a.play())});this.v.R=-.075;gg(this.v,g);rm(this.v,3);this.v.U=-2;B(this.v,this);fo(this.v,0);this.W=new mm(new A(b.ha().width/2+.27*g,6,0),new G(Ki),new G(Ki),function(){return kq(f,
0)});this.W.R=-.075;gg(this.W,g);this.W.U=-2;rm(this.W,3);B(this.W,this);this.$=new mm(new A(-22.5,-4,0),new G(Oi),new G(Oi),function(){var h=f.Ea;h.Ba?Uo(h):To(h)});this.$.R=-.075;gg(this.$,g);rm(this.$,3);B(this.$,this);this.Ea=new Qo(c,e);B(this.Ea,this.$);this.Ba=new mm(new A(22.5,-4,0),new G(Ni),new G(Ni),function(){var h=google.doodle?google.doodle.url:"";if(h){var k;(k=(k=!ic)||rc())?Zc(h):(k=window.top.location,h=h instanceof Pc?h:Tc(h),k.assign(Qc(h)))}});this.Ba.R=-.075;gg(this.Ba,g);rm(this.Ba,
3);B(this.Ba,this);this.S=new mm(new A(-23,13,0),new G(Cj),new G(Cj),function(){return jh(ih.ya(),7,f.S)});this.S.R=-.075;gg(this.S,g);rm(this.S,3);c=g*(lc?.8:.6);this.va=new mm(new A(b.ha().width/2+.23*g,2,0),new G(Xj),new G(Xj),function(){return kq(f,2)});this.va.R=-.075;gg(this.va,c);rm(this.va,3);B(this.va,this);this.wa=new mm(new A(-b.ha().width/2-.23*g,2,0),new G(Oj),new G(Oj),function(){return kq(f,1)});this.wa.R=-.075;gg(this.wa,c);rm(this.wa,3);B(this.wa,this);gc||jc||B(this.S,this);this.R=
new pg;B(this.R,this);this.Oa=!1;this.Ma=null};w(lq,E);
var kq=function(a,b){mq(a);fo(a.v,0);nq(a,!1);a.Za(b)},oq=function(a){a.g=!0;tg(a.R);dq(a.j,!0);ug(a.R,[new Ll(500,null,1,function(b){a.qc(b||0);a.j.$.o=1-(b||0);a.j.va=b||0},{Dc:function(){return a.o}}),new Ll(500,a.j.H.y,a.j.H.y-3,function(b){return a.j.i(a.j.H.x,b)})]);a.$a();So(a.Ea,jq(a.j))},pq=function(a){return a.Ma?a.Ma:Promise.resolve()},mq=function(a){Lo.ya().reset();var b=null;a.Ma=new Promise(function(c){return b=c});Uo(a.Ea);tg(a.R);ug(a.R,[new Ll(500,null,0,function(c){a.qc(c||0);a.j.$.o=
1-(c||0);a.j.va=c||0},{Dc:function(){return a.o},bc:function(){a.g=!1;a.$a();dq(a.j,!1);b&&(b(),a.Ma=null)}}),new Ll(500,a.j.H.y,a.j.H.y+3,function(c){return a.j.i(a.j.H.x,c)})])},qq=function(a){if(!a.Oa)return[];var b=a.Ea;b=[a.W,a.$,a.Ba,a.v,a.va,a.wa].concat(la(b.Ba?[b.va,b.Ea,b.$]:[]));gc||jc||b.push(a.S);return b},nq=function(a,b,c){c=void 0===c?!0:c;(a.Oa=b)&&c?(a.La=!0,fo(a.v,1)):fo(a.v,0);if(b&&!c){var d=a.v.Ca;qg(a.R,new Ll(15E3,0,20*Math.PI,function(e){gg(a.v,d+Math.abs(Math.sin(e)))}))}};var rq=kh.ya(),tq=function(a,b){var c=new G(nj),d=new G(oj);mm.call(this,a,c,d,b);var e=this;this.S=new Wo(mh(rq,"Button - Harmonize"),.8,c.ha().width-c.ha().width/8,"center");this.S.o=.8;Dg(this.S,.5,.5);Xo(this.S,nh());gg(this.S,.75);Yo(this.S);B(this.S,c);this.Oa=new pg;B(this.Oa,this);sm(this,function(f){sg(e.Oa);sq(e,f)})};w(tq,mm);
var sq=function(a,b){qg(a.Oa,new Ll(200,b?.75:1,b?1:.75,function(c){gg(a.S,c)},{Dc:function(){return a.S.Ca}}))},uq=function(a){for(var b=0;2>b;b++)sq(a,!0),rg(a.Oa,100),sq(a,!1),rg(a.Oa,200)};var yq=function(){$f.call(this,-14,-2.1);ih.ya().addListener(this);this.j=new pg;B(this.j,this);this.v=new Al(new A(0,4.9,0),.4,"rgb(1, 150, 230)");this.v.o=0;B(this.v,this);lc?(this.o=new vq(0,0),gg(this.o,.02),gg(this.v,1.5)):(this.o=new wq(0,0),gg(this.o,.04));B(this.o,this);xq(this)};w(yq,$f);var xq=function(a){qg(a.j,new Ll(2E4,0,20*Math.PI,function(b){b=Math.abs(Math.sin(b));a.o.i(a.o.H.x,6-1.1*b);a.v.o=.95<b?.4:0}));qg(a.j,new Ll(1E3,1,0,function(b){a.o.o=b}))};
yq.prototype.$a=function(a){if(3==a||6==a)tg(this.j),sg(this.j),this.g=!1};var vq=function(a,b,c){E.call(this,void 0===a?0:a,void 0===b?0:b,void 0===c?0:c)};w(vq,E);
vq.prototype.vb=function(a){a.save();a.translate(-73,-15);a.beginPath();a.moveTo(66.7,352.6);a.bezierCurveTo(66.7,352.6,67.8,279.6,67.8,263.1);a.bezierCurveTo(67.8,246.6,50.3,247.1,43.3,234.8);a.bezierCurveTo(36.4,222.6,8.7,156.5,49.7,150.1);a.bezierCurveTo(52.4,115.5,56.1,50.6,57.7,29.2);a.bezierCurveTo(59.3,7.9,90.2,13.3,89.7,29.8);a.bezierCurveTo(89.1,46.3,87.5,111.3,87.5,111.3);a.bezierCurveTo(87.5,111.3,93.4,103.3,107.2,105.9);a.bezierCurveTo(121.1,108.6,124.8,122.5,124.8,122.5);a.bezierCurveTo(124.8,
122.5,149.9,98.5,161,134.7);a.bezierCurveTo(176.5,117.7,188.2,133.6,189.8,145.9);a.bezierCurveTo(191,155.5,196.2,192.8,189.3,215.7);a.bezierCurveTo(182.3,238.6,163.7,264.7,163.7,264.7);a.lineTo(162.6,352.6);a.lineWidth=9;a.fillStyle="rgb(255, 255, 255)";a.strokeStyle="rgb(1, 1, 1)";a.lineCap="round";a.lineJoin="round";a.closePath();a.stroke();a.fill();a.restore()};var wq=function(a){E.apply(this,arguments)};w(wq,E);
wq.prototype.vb=function(a){a.save();a.save();a.beginPath();a.moveTo(12.5,43.5);a.lineTo(.2,54.7);a.lineTo(0,0);a.lineTo(44.9,33.4);a.lineTo(25.9,36.3);a.lineTo(33.4,53);a.lineTo(21,59.2);a.lineTo(12.5,43.5);a.closePath();a.fillStyle="rgb(255, 255, 255)";a.fill();a.beginPath();a.moveTo(36.8,31.1);a.lineTo(3,6);a.lineTo(3.2,46.8);a.lineTo(13.2,36.2);a.lineTo(22.3,55.2);a.lineTo(29.4,51.7);a.lineTo(20.2,32.7);a.lineTo(36.8,31.1);a.closePath();a.fillStyle="rgb(1, 1, 1)";a.fill();a.restore();a.restore()};var zq=kh.ya(),Dq=function(a,b){Cg.call(this,a);var c=this;this.v=new En(0,0,1,1,.5,"#fff");this.j=new Wo("",1,23,od?"right":"left");Xo(this.j,"Noto Serif, serif");this.j.v="#000";this.j.i(0,-1);B(this.v,this);B(this.j,this.v);this.Ea=b;this.$a=a.clone();this.$=new pg;B(this.$,this);this.R=new E;this.R.ub=function(){c.R.i(c.v.ha().width/2,0)};this.R.vb=function(d){var e=c.Ea.x-(c.H.x+c.R.H.x),f=c.Ea.y-(c.H.y+c.R.H.y);d.beginPath();d.moveTo(-.5,0);d.quadraticCurveTo(0,0,0,.5);d.lineTo(e,-f);d.lineTo(-.5,
0);d.closePath();d.fillStyle="white";d.fill()};B(this.R,this);this.S=new $f(0,-.1);this.Fa=new mm(new A(0,0,0),new Aq("rgba(200,200,200,0.95)"),new Aq("rgba(150,150,150,0.95)"),function(){return Bq(c)});rm(this.Fa,3);B(this.Fa,this);a=new Fn(Mn);sh(a,3,3);this.Ba=new mm(new A(-8-a.ha().width/2,-a.ha().height/2,0),a,a,function(){return Cq(c,0)});rm(this.Ba,3);a=new Fn(Ln);sh(a,3,3);this.Oa=new mm(new A(-4-a.ha().width/2,-a.ha().height/2,0),a,a,function(){return Cq(c,1)});rm(this.Oa,3);a=new Fn(Kn);
sh(a,3,3);this.La=new mm(new A(-(a.ha().width/2),-a.ha().height/2,0),a,a,function(){return Cq(c,2)});rm(this.La,3);this.wa=this.va=null;this.W=new $f(0,-.1);this.W.g=!1;B(this.W,this);B(this.Ba,this.S);B(this.Oa,this.S);B(this.La,this.S);B(this.S,this);this.Ma=null;Dg(this.j,.5,0);Dg(this.v,.5,0);this.j.i(0,-1)};w(Dq,Cg);
var Fq=function(a){Xo(a.j,a.j.S);var b=new Wo(mh(zq,"Consent - Yes"),1.5,10,od?"right":"left");Xo(b,nh());Dg(b,.5,.5);var c=new En(0,0,b.ha().width+1,b.ha().height+.1,.25,"#555");Dg(c,.5,.5);c.o=.2;B(b,c);b=new Wo(mh(zq,"Consent - No"),1.5,10,od?"right":"left");Xo(b,nh());Dg(b,.5,.5);var d=new En(0,0,b.ha().width+1,b.ha().height+.1,.25,"#555");Dg(d,.5,.5);d.o=.2;B(b,d);a.va=new mm(new A(-.5-c.ha().width/2,-.5-c.ha().height/2,0),c,c,function(){return Eq(a,!0)});rm(a.va,3);a.wa=new mm(new A(a.va.H.x-
c.ha().width/2-d.ha().width/2-1,-.5-d.ha().height/2,0),d,d,function(){return Eq(a,!1)});rm(a.wa,3);B(a.wa,a.W);B(a.va,a.W)},Hq=function(a,b){var c=a.j;b=mh(zq,b);c.R=b;Vo(c);Gq(a)},Gq=function(a){var b=a.j.ha();23>b.width?a.i(a.Ea.x-(b.width/2+2),a.H.y):a.i(a.$a);a.v.setSize(b.width+2,b.height+2+(a.S.g||a.W.g?a.Ba.ha().height/2+1:0));a.Fa.i(-a.v.ha().width/2+.4,-.4)},Iq=function(a){return[a.Fa].concat(la(a.S.Ka),la(a.W.Ka),[a])},Jq=function(a,b){a.S.i(1,a.j.H.y-a.j.ha().height-.4);a.S.g=b;Gq(a)},
Kq=function(a,b){a.W.i(-1,a.j.H.y-a.j.ha().height-.4);a.W.g=b;Gq(a)},Cq=function(a,b){Jq(a,!1);Wk("d5",b,!0);Xk(106);null!==a.Ma?Hq(a,"Feedback - 2"):(Hq(a,"Feedback - Consent"),Kq(a,!0))},Eq=function(a,b){a.Ma=b;Wk("d6",b?1:0);Xk(107);Kq(a,!1);Hq(a,"Feedback - 2")},Lq=function(a,b){sg(a.$);Hq(a,b);gg(a,.5);a.v.o=.5;a.j.o=.5;a.R.o=.5;a.g=!0;qg(a.$,new Ll(200,a.Ca,1,function(c){gg(a,c);a.v.o=.95*c;a.j.o=c;a.R.o=.95*c;a.Fa.o=.95*c}))},Bq=function(a){sg(a.$);a.g&&(qg(a.$,new Ll(200,a.Ca,.85,function(b){gg(a,
b);a.v.o=b;a.j.o=b;a.R.o=b;a.Fa.o=b})),rg(a.$,0,function(){a.g=!1}))};n=Dq.prototype;n.re=function(a){if(!this.g)return!1;(a=this.v.Cc().contains(a))||this.cancel();return a};n.ve=function(){};n.se=function(){};n.cancel=function(){};n.nf=function(){};n.Yd=function(){return!1};n.Xd=function(){return!1};n.vd=function(){return this.v.vd()};var Aq=function(a){E.call(this);this.j=a;this.setSize(1.6,1.6)};w(Aq,E);
Aq.prototype.vb=function(a){a.save();a.textAlign="center";a.textBaseline="middle";a.beginPath();a.arc(0,0,.8,0,2*Math.PI);a.fillStyle=this.j;a.fill();a.fillStyle="#444";a.scale(.025,.025);a.font="40px sans-serif";a.fillText("X",0,0);a.restore()};var Mq=kh.ya(),Oq=function(a,b,c,d,e,f){$f.call(this);var g=this;this.j=new pg;B(this.j,this);this.R=a;this.o=b;this.v=c;this.S=new ho(new A(0,2,-1));B(this.S,this);this.$=f;this.W=e;this.Fa=d;this.T=document.createElement("div");this.T.classList.add("ddlbh-o");this.T.classList.add("ddlbh-p");this.T.innerText=mh(Mq,"Skip Intro");this.T.style.fontFamily=nh();me(this.T,"click",function(){return Nq(g)})};w(Oq,$f);Oq.prototype.play=function(){Pq(this);this.Fa.appendChild(this.T);yc(this.T,"ddlbh-p","ddlbh-q")};
var Rq=function(a){Qq(a);return new Promise(function(b){return rg(a.j,200,b)})},Qq=function(a){Om(a.R);a=a.o;Sp(a.j,-1);Sp(a.R,-1);jh(ih.ya(),12)},Pq=function(a){a.v.Fa.g=!1;Tone.Transport.bpm.value=70;dq(a.o,!0);a.o.va=1;a.o.$.o=0;dq(a.o,!0);rg(a.j,500,function(){Lq(a.v,"Intro A")});rg(a.j,500,function(){var b=il();b[0]=yl[0];iq(a.o,b);b=a.o;eq(b,0,0);qg(b.S,fq(b,0))});rg(a.j,500,function(){jh(ih.ya(),1,a.o);a.R.play();a.W().then(function(){return Rq(a)}).then(function(){return Sq(a)})})},Sq=function(a){Qq(a);
Bq(a.v);rg(a.j,500,function(){Lq(a.v,"Intro B");var b=il();b[0]=yl[0];b[1]=yl[1];iq(a.o,b);b=a.o;eq(b,1,0);qg(b.S,fq(b,1))});rg(a.j,500,function(){jh(ih.ya(),1,a.o);a.R.play();a.W().then(function(){return Rq(a)}).then(function(){return Tq(a)})})},Tq=function(a){Qq(a);Bq(a.v);rg(a.j,500,function(){iq(a.o,yl);hq(a.o,!0,400,!1).then(function(){Lq(a.v,"Intro C");jh(ih.ya(),1,a.o);a.R.play();a.W().then(function(){return Rq(a)}).then(function(){return Nq(a)})})})},Nq=function(a){Qq(a);sg(a.j);Bq(a.v);a.o.va=
0;jh(ih.ya(),14);qg(a.j,Nl(a.S,200));yc(a.T,"ddlbh-q","ddlbh-p");hq(a.o,!1,300).then(function(){Tone.Transport.bpm.value=60;a.v.Fa.g=!0;Lq(a.v,"Intro D");dq(a.o,!1);eg(a.S);a.o.$.o=1;a.Fa.removeChild(a.T);a.$()})};var Uq=function(a,b){Cg.call(this);this.j=new G([Si,Ti,Ui,Vi,Wi,Xi]);B(this.j,this);var c=this.j;c.S.width=1;c.S.height=1.2;this.j.setLoop(!1);gg(this.j,1.2);this.wa=a;this.Ba=b;this.W=new G($i);this.W.i(0,.4);Dg(this.W,.5,.5);B(this.W,this);this.va=new G(gj,.2);this.va.g=!1;B(this.va,this.W);this.S=new pg;B(this.S,this);this.$=this.Fa=!1;this.v=new Ol;this.v.i(-.5,.2);this.v.setSize(.6,.6);a=this.v;a.v="255, 245, 100";a.j=null;this.v.lc="screen";B(this.v,this);this.R=new Ol;this.R.setSize(.6,.6);
this.R.i(.5,.2);a=this.R;a.v="255, 245, 100";a.j=null;this.R.lc="screen";B(this.R,this)};w(Uq,Cg);var Vq=function(a,b){sg(a.S);qg(a.S,Nl(a.W,200));rg(a.S,200,function(){qh(a.W,Zo[b.g].xc);0<=Zo[b.g].key.indexOf("b")?(a.va.g=!0,a.W.i(-.1)):(a.va.g=!1,a.W.i(0))});qg(a.S,Ml(a.W,200))},Wq=function(a){sg(a.S);qg(a.S,Nl(a.j,200));rg(a.S,0,function(){a.g=!1})};Uq.prototype.re=function(a){if(!this.g)return!1;(a=this.j.Cc().contains(a))||this.cancel();return a};
var Xq=function(a,b){a=a.j;if(a.T){var c=[0,0];yg(a.T).transform([b.x,b.y],0,c,0,1);b=new nb(c[0],-c[1])}else b=null;return b?0>b.x?!0:!1:null};n=Uq.prototype;n.ve=function(a,b){b&&(gm.g.Sf.play(),a=Xq(this,a),null!==a&&(a?(Ql(this.v),this.Fa=!1,a=this.j,a.Ea=!1,a.W=!1,this.wa()):(Ql(this.R),this.$=!1,a=this.j,a.Ea=!1,a.W=!0,this.Ba()),th(this.j)))};
n.se=function(a){a=Xq(this,a);null!==a&&(!this.Fa&&a?(a?Pl(this.v):Pl(this.R),this.Fa=!0):this.$||a?this.$&&a?(Ql(this.R),this.$=!1):this.Fa&&!a&&(Ql(this.v),this.Fa=!1):(a?Pl(this.v):Pl(this.R),this.$=!0))};n.cancel=function(){this.Fa&&(Ql(this.v),this.Fa=!1);this.$&&(Ql(this.R),this.$=!1)};n.nf=function(){};n.Yd=function(){return!0};n.Xd=function(){return!1};var Lc=new Bc(zc,"https://www.gstatic.com/external_hosted/midiconvert/build/MidiConvert.js"),Yq=function(){return new Promise(function(a){var b=$g();Sg(b,a,null,void 0)})},Zq=function(a){for(var b=MidiConvert.create(),c=[],d=0;4>d;d++)c.push(b.track());a=ll(a);a=t(bi(a));for(d=a.next();!d.done;d=a.next()){var e=d.value;d=oi(e);var f=Yh(d,2),g=Dk(Yh(e,1));e=Dk(Yh(e,2));c[f].note(mi(d),g,e)}b=b.encode();b=Ah?Na.btoa(b):Ch(uh(b),!1);c=document.createElement("a");c.setAttribute("href","data:text/plain;base64,"+
encodeURIComponent(b));c.setAttribute("download","bachpiece.mid");c.click();return Promise.resolve()},$q=function(a){return void 0===window.MidiConvert?Yq().then(function(){return Zq(a)}):Zq(a)};var ar=function(){this.U=this.j=this.g=!1;this.i=0};ar.prototype.Ca=function(){return!0};var br=function(a,b,c){if(!a.g&&a.Ca()){a.i=0;a.j=!1;a.U=!1;a.g=!0;Wk("d3",btoa(b.j()),!0);Wk("d9",$k);$k++;Xk(101);Yk(2);cl(101,0,0,0);var d=performance.now();a.v(b,function(e){dl(e,Math.round(performance.now()-d),Math.round(a.i));setTimeout(function(){a.g=!1;c(e)},e?Math.max(8E3-a.i,0):0)})}};ar.prototype.cancel=function(){};ar.prototype.T=function(){return 0};/*
 Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy of the
 License at http://www.apache.org/licenses/LICENSE-2.0

 THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
 WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
 MERCHANTABLITY OR NON-INFRINGEMENT.

 See the Apache Version 2.0 License for specific language governing permissions
 and limitations under the License.
*/
var cr=function(a,b){var c=void 0,d=void 0;return new (d||(d=Promise))(function(e,f){function g(l){try{k(b.next(l))}catch(m){f(m)}}function h(l){try{k(b["throw"](l))}catch(m){f(m)}}function k(l){l.done?e(l.value):(new d(function(m){m(l.value)})).then(g,h)}k((b=b.apply(a,c)).next())})};/*

 Copyright 2017 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
var dr="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(a){return a()};function er(){return new Promise(function(a){return dr(function(){return a()})})};function fr(a){return 0===a%2?a:a+1}function gr(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b}function I(a,b){if(!a)throw Error("string"===typeof b?b:b());}function hr(a,b,c){I(ir(a,b),(void 0===c?"":c)+(" Shapes "+a+" and "+b+" must match"))}function jr(a){I(null!=a,"The input to the tensor constructor must be a non-null value.")}function kr(a,b){b=void 0===b?[]:b;if(Array.isArray(a)||lr(a))for(var c=0;c<a.length;++c)kr(a[c],b);else b.push(a);return b}
function J(a){if(0===a.length)return 1;for(var b=a[0],c=1;c<a.length;c++)b*=a[c];return b}function ir(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function mr(a){if(null!=Math.tanh)return Math.tanh(a);if(Infinity===a)return 1;if(-Infinity===a)return-1;a=Math.exp(2*a);return(a-1)/(a+1)}function nr(a){var b=Math.ceil(Math.sqrt(a));return[b,Math.ceil(a/b)]}
function or(a,b){return b<=a.length?a:a+" ".repeat(b-a.length)}function pr(a){var b=void 0===b?function(){return 0}:b;return new Promise(function(c){var d=0,e=function(){if(a())c();else{d++;var f=b(d);setTimeout(e,f)}};e()})}
function qr(a,b){for(var c=1,d=-1,e=0;e<a.length;++e)if(0<=a[e])c*=a[e];else if(-1===a[e]){if(-1!==d)throw Error("q`"+d+"`"+e);d=e}else if(0>a[e])throw Error("r`"+a[e]+"`"+e);if(-1===d){if(0<b&&b!==c)throw Error("s`"+b+"`"+a);return a}if(0===c)throw Error("t`"+a);if(0!==b%c)throw Error("u`"+b+"`"+c);a=a.slice();a[d]=b/c;return a}
function rr(a,b){var c=b.length;a=null==a?b.map(function(d,e){return e}):[].concat(a);I(a.every(function(d){return d>=-c&&d<c}),"All values in axis param must be in range [-"+c+", "+c+") but "+("got axis "+a));I(a.every(function(d){return 0===d%1}),"All values in axis param must be integers but got axis "+a);return a.map(function(d){return 0>d?c+d:d})}
function sr(a,b){var c=[],d=[];b=null==b?null:rr(b,a).sort();for(var e=0,f=0;f<a.length;++f){if(null!=b){if(b[e]===f&&1!==a[f])throw Error("v`"+f+"`"+a[f]);(null==b[e]||b[e]>f)&&1===a[f]&&(c.push(a[f]),d.push(f));b[e]<=f&&e++}1!==a[f]&&(c.push(a[f]),d.push(f))}return{Vd:c,jf:d}}function tr(a,b){if(null==a||"float32"===a)a=new Float32Array(b);else if("int32"===a)a=new Int32Array(b);else if("bool"===a)a=new Uint8Array(b);else throw Error("w`"+a);return a}
function ur(a,b){if(null==a||"float32"===a)a=new Float32Array(b);else if("int32"===a)a=new Int32Array(b);else if("bool"===a)a=new Uint8Array(b);else if("string"===a)a=Array(b);else throw Error("w`"+a);return a}function vr(a,b,c){if("float32"===b)for(b=0;b<a.length;b++){var d=a[b];if(isNaN(d)||!isFinite(d))throw Error("x`"+c+"`"+d);}}function lr(a){return a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array}
function wr(a){if("float32"===a||"int32"===a)return 4;if("complex64"===a)return 8;if("bool"===a)return 1;throw Error("z`"+a);}function xr(a){if(null==a)return 0;var b=0;a.forEach(function(c){return b+=2*c.length});return b}function yr(a){return"string"===typeof a||a instanceof String}
function zr(a){if(Array.isArray(a))return zr(a[0]);if(!(a instanceof Float32Array)){if(a instanceof Int32Array||a instanceof Uint8Array)return"int32";if("number"!==typeof a){if(yr(a))return"string";if("boolean"===typeof a)return"bool"}}return"float32"}function Ar(a){return!!(a&&a.constructor&&a.call&&a.apply)}function Br(a,b){for(;b<a;++b)if(0===a%b)return b;return a}function Cr(a){var b=a.length;if(2>b)return[];var c=Array(b-1);c[b-2]=a[b-1];for(b-=3;0<=b;--b)c[b]=c[b+1]*a[b+1];return c}
function Dr(a,b){var c=K.get("DEBUG");if("string"===b)throw Error("A");Array.isArray(a)&&(a=kr(a));if(c)for(c=0;c<a.length;c++){var d=a[c];if(isNaN(d)||!isFinite(d))throw Error("y`"+b+"`"+d);}if(a instanceof Float32Array&&"float32"===b||a instanceof Int32Array&&"int32"===b||a instanceof Uint8Array&&"bool"===b)return a;if(null==b||"float32"===b||"complex64"===b)return new Float32Array(a);if("int32"===b)return new Int32Array(a);if("bool"===b){b=new Uint8Array(a.length);for(c=0;c<b.length;++c)0!==Math.round(a[c])&&
(b[c]=1);return b}throw Error("w`"+b);}function Er(a,b,c){var d=[];if(1===b.length){var e=b[0];for(b=0;b<e;b++)d[b]=c[a+b]}else{e=b[0];b=b.slice(1);for(var f=b.reduce(function(h,k){return h*k}),g=0;g<e;g++)d[g]=Er(a+g*f,b,c)}return d}function Fr(a,b){if(0===a.length)return b[0];var c=a.reduce(function(d,e){return d*e});if(0===c)return[];if(c!==b.length)throw Error("B`"+a);return Er(0,a,b)}function Gr(a,b){a=Hr(a,b);for(b=0;b<a.length;b++)a[b]=1;return a}
function Hr(a,b){if(null==b||"float32"===b||"complex64"===b)return new Float32Array(a);if("int32"===b)return new Int32Array(a);if("bool"===b)return new Uint8Array(a);throw Error("w`"+b);}function Ir(){if("undefined"!==typeof performance)return performance.now();if("undefined"!==typeof process){var a=process.Nn();return 1E3*a[0]+a[1]/1E6}throw Error("C");}
function Jr(a,b,c,d){(function(f){I(null!=f&&Array.isArray(f)&&0<f.length,"promises must be a none empty array")})(a);c=null==c?0:c;d=null==d?1:d;(function(f,g){I(0<=f&&1>=f,"Progress fraction must be in range [0, 1], but got startFraction "+f);I(0<=g&&1>=g,"Progress fraction must be in range [0, 1], but got endFraction "+g);I(g>=f,"startFraction must be no more than endFraction, but "+("got startFraction "+f+" and endFraction "+g))})(c,d);var e=0;return Promise.all(a.map(function(f){f.then(function(g){var h=
c+ ++e/a.length*(d-c);b(h);return g});return f}))};/*

 Copyright 2018 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
var Kr=function(a){this.g=a},Lr=function(a,b,c){var d,e=a.g.time(function(){d=c()});(Array.isArray(d)?d:[d]).forEach(function(f){var g=L(f);vr(g,f.dtype,b);e.then(function(h){var k="";null!=h.wi&&(k=h.wi());h=or(h.Hi+"ms",9);var l=or(b,25),m=f.s,p=f.size,q=or(f.shape.toString(),14);console.log("%c"+l+"\t%c"+h+"\t%c"+m+"D "+q+"\t%c"+p+"\t%c"+k,"font-weight:bold","color:red","color:blue","color: orange","color: green")})});return d};/*

 Copyright 2018 Google LLC. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
function Mr(a,b,c,d){var e=Cr(b),f=Nr(a,b,c,e),g=b.length;a=Or(a,b,c,e,f);e=["Tensor"];d&&(e.push("  dtype: "+c),e.push("  rank: "+g),e.push("  shape: ["+b+"]"),e.push("  values:"));e.push(a.map(function(h){return"    "+h}).join("\n"));return e.join("\n")}function Nr(a,b,c,d){var e=J(b);d=d[d.length-1];var f=Array(d).fill(0);b=b.length;a="complex64"===c?Pr(a):a;if(1<b)for(c=0;c<e/d;c++){b=c*d;for(var g=0;g<d;g++)f[g]=Math.max(f[g],Qr(a[b+g],0).length)}return f}
function Qr(a,b){a=Array.isArray(a)?parseFloat(a[0].toFixed(7))+" + "+(parseFloat(a[1].toFixed(7))+"j"):yr(a)?"'"+a+"'":parseFloat(a.toFixed(7)).toString();return or(a,b)}
function Or(a,b,c,d,e,f){f=void 0===f?!0:f;var g="complex64"===c?2:1,h=b[0],k=b.length;if(0===k)return"complex64"===c?(f=Pr(a),[Qr(f[0],0)]):[a[0].toString()];if(1===k)return 20<h?(f=Array.from(a.slice(0,3*g)),k=Array.from(a.slice(h-3*g,h)),"complex64"===c&&(f=Pr(f),k=Pr(k)),["["+f.map(function(q,r){return Qr(q,e[r])}).join(", ")+", ..., "+k.map(function(q,r){return Qr(q,e[h-3+r])}).join(", ")+"]"]):["["+("complex64"===c?Pr(a):Array.from(a)).map(function(q,r){return Qr(q,e[r])}).join(", ")+"]"];b=
b.slice(1);var l=d.slice(1);d=d[0]*g;g=[];if(20<h){for(var m=0;3>m;m++){var p=m*d;g.push.apply(g,la(Or(a.slice(p,p+d),b,c,l,e,!1)))}g.push("...");for(m=h-3;m<h;m++)p=m*d,g.push.apply(g,la(Or(a.slice(p,p+d),b,c,l,e,m===h-1)))}else for(m=0;m<h;m++)p=m*d,g.push.apply(g,la(Or(a.slice(p,p+d),b,c,l,e,m===h-1)));c=2===k?",":"";g[0]="["+g[0]+c;for(a=1;a<g.length-1;a++)g[a]=" "+g[a]+c;c=",\n";for(a=2;a<k;a++)c+="\n";g[g.length-1]=" "+g[g.length-1]+"]"+(f?"":c);return g}
function Pr(a){for(var b=[],c=0;c<a.length;c+=2)b.push([a[c],a[c+1]]);return b};var Rr=function(a,b,c){this.dtype=b;this.shape=a.slice();this.size=J(a);if(null!=c){var d=c.length;I(d===this.size,"Length of values '"+d+"' does not match the size "+("inferred by the shape '"+this.size+"'."))}if("complex64"===b)throw Error("D");this.values=c||ur(b,J(this.shape));this.Aa=Cr(a)};
Rr.prototype.set=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];0===c.length&&(c=[0]);I(c.length===this.s,"The number of provided coordinates ("+c.length+") must "+("match the rank ("+this.s+")"));this.values[Sr(this,c)]=a};Rr.prototype.get=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];0===b.length&&(b=[0]);c=b[b.length-1];for(var d=0;d<b.length-1;++d)c+=this.Aa[d]*b[d];return this.values[c]};
var Sr=function(a,b){if(0===a.s)return 0;if(1===a.s)return b[0];for(var c=b[b.length-1],d=0;d<b.length-1;++d)c+=a.Aa[d]*b[d];return c},Tr=function(a,b){if(0===a.s)return[];if(1===a.s)return[b];for(var c=Array(a.shape.length),d=0;d<c.length-1;++d)c[d]=Math.floor(b/a.Aa[d]),b-=c[d]*a.Aa[d];c[c.length-1]=b;return c},Vr=function(a){return Ur(a.shape,{values:a.values},a.dtype)};da.Object.defineProperties(Rr.prototype,{s:{configurable:!0,enumerable:!0,get:function(){return this.shape.length}}});
var Wr=null,M=null,Xr=null;[Xr];var $r=function(a,b,c,d,e){this.Fi=!1;this.shape=a.slice();this.dtype=b||"float32";this.size=J(a);this.Aa=Cr(a);this.Da=null!=d?d:{};Wr();this.id=Yr++;Zr(Wr(),this,e);null!=c&&Wr().write(this.Da,c)},Ur=function(a,b,c,d){return new $r(a,c,b.values,b.Da,d)};$r.prototype.flatten=function(){this.V();return as(this)};
var as=function(a){a.V();return a.ra([a.size])},bs=function(a,b,c){a.V();return a.ra([b,c])},cs=function(a,b,c,d){a.V();return a.ra([b,c,d])},ds=function(a,b,c,d,e){a.V();return a.ra([b,c,d,e])},es=function(a,b,c,d,e){a.V();return a.ra([1,b,c,d,e])},fs=function(a,b){a.V();return M.Ib(a,b)};$r.prototype.buffer=function(){return cr(this,function b(){var c=this,d;return Da(b,function(e){if(1==e.g)return wa(e,c.data(),2);d=e.i;return e.return(M.buffer(c.shape,c.dtype,d))})})};
var gs=function(a){return M.buffer(a.shape,a.dtype,L(a))};$r.prototype.nc=function(){return cr(this,function b(){var c=this,d;return Da(b,function(e){if(1==e.g)return wa(e,c.data(),2);d=e.i;return e.return(Fr(c.shape,d))})})};$r.prototype.data=function(){return cr(this,function b(){var c=this;return Da(b,function(d){c.V();return d.return(hs(Wr(),c.Da))})})};var L=function(a){a.V();return is(Wr(),a.Da)};$r.prototype.dispose=function(){this.ig||(js(this),this.Fi=!0)};
$r.prototype.V=function(){if(this.ig)throw Error("E");};var ks=function(a){return fs(a,"float32")},ls=function(a){return fs(a,"int32")};$r.prototype.print=function(a){return M.print(this,void 0===a?!1:a)};$r.prototype.ra=function(a){this.V();return M.ra(this,a)};var ms=function(a,b){a.V();return a.ra(b.shape)};n=$r.prototype;n.We=function(a){return M.We(this,void 0===a?0:a)};n.Id=function(a,b,c){return M.Id(this,void 0===a?0:a,void 0===b?!1:b,void 0===c?!1:c)};
n.Fg=function(a){this.V();return M.Fg(this,a)};n.clone=function(){this.V();return M.clone(this)};n.we=function(a,b,c){this.V();return M.we(this,a,b,c)};n.toString=function(a){a=void 0===a?!1:a;var b=L(this);return Mr(b,this.shape,this.dtype,a)};n.ae=function(a){this.V();return M.ae(this,a)};n.af=function(a,b){b=void 0===b?0:b;this.V();return M.af(this,a,b)};n.Xa=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;this.V();return M.Xa(this,a,b,c)};n.hh=function(a){this.V();return M.hh(this,a)};
n.yh=function(a,b,c){a=void 0===a?"euclidean":a;b=void 0===b?null:b;c=void 0===c?!1:c;this.V();return M.yh(this,a,b,c)};n.slice=function(a,b){this.V();return M.slice(this,a,b)};n.reverse=function(a){this.V();return M.reverse(this,a)};n.concat=function(a,b){b=void 0===b?0:b;this.V();a instanceof $r&&(a=[a]);return M.concat([this].concat(la(a)),b)};n.split=function(a,b){b=void 0===b?0:b;this.V();return M.split(this,a,b)};n.stack=function(a,b){return M.stack([this,a],void 0===b?0:b)};
n.Df=function(a,b){return M.Df(this,void 0===b?0:b)};n.Bd=function(a,b){return M.Bd(this,a,void 0===b?0:b)};n.Vf=function(a,b,c,d,e){c=void 0===c?.001:c;Xr("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon");return this.Tf(a,b,e,d,c)};n.Tf=function(a,b,c,d,e){e=void 0===e?.001:e;this.V();return M.Tf(this,a,b,c,d,e)};
n.all=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.all(this,a,b)};n.any=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.any(this,a,b)};n.ng=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.ng(this,a,b)};n.Na=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.Na(this,a,b)};n.tf=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.tf(this,a,b)};
n.Gc=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.Gc(this,a,b)};n.min=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.min(this,a,b)};n.max=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;this.V();return M.max(this,a,b)};n.Ne=function(a){a=void 0===a?null:a;this.V();return M.Ne(this,a)};n.le=function(a){a=void 0===a?null:a;this.V();return M.le(this,a)};n.Ib=function(a){this.V();return M.Ib(this,a)};n.add=function(a){this.V();return M.add(this,a)};
n.Xg=function(a){this.V();return M.Xg(this,a)};n.atan2=function(a){this.V();return M.atan2(this,a)};n.sub=function(a){this.V();return M.sub(this,a)};n.mj=function(a){this.V();return M.mj(this,a)};n.pow=function(a){this.V();return M.pow(this,a)};n.bj=function(a){this.V();return M.bj(this,a)};n.ka=function(a){this.V();return M.ka(this,a)};n.Zb=function(a){this.V();return M.Zb(this,a)};n.Va=function(a){this.V();return M.Va(this,a)};n.Ze=function(a){this.V();return M.Ze(this,a)};
n.Wc=function(a){this.V();return M.Wc(this,a)};n.Ud=function(a){this.V();return M.Ud(this,a)};n.Ui=function(a){this.V();return M.Ui(this,a)};n.yd=function(a){this.V();return M.yd(this,a)};n.Si=function(a){this.V();return M.Si(this,a)};n.ue=function(a){this.V();return M.ue(this,a)};n.Vi=function(a){this.V();return M.Vi(this,a)};n.$d=function(a){this.V();return M.$d(this,a)};n.lj=function(a){this.V();return M.lj(this,a)};n.Ya=function(a){this.V();return M.Ya(this,a)};
n.zd=function(a){this.V();return M.zd(this,a)};n.Yi=function(a){this.V();return M.Yi(this,a)};n.Lc=function(a){this.V();return M.Lc(this,a)};n.Ki=function(a){this.V();return M.Ki(this,a)};n.Ic=function(a){this.V();return M.Ic(this,a)};n.ti=function(a){this.V();return M.ti(this,a)};n.xd=function(a){this.V();return M.xd(this,a)};n.Ji=function(a){this.V();return M.Ji(this,a)};n.Ec=function(a){this.V();return M.Ec(this,a)};n.zi=function(a){this.V();return M.zi(this,a)};
n.wd=function(a){this.V();return M.wd(this,a)};n.yi=function(a){this.V();return M.yi(this,a)};n.Sd=function(a){this.V();return M.Sd(this,a)};n.kf=function(a){this.V();return M.kf(this,a)};n.Td=function(){this.V();return M.Td(this)};n.Pi=function(a){this.V();return M.Pi(this,a)};n.de=function(a,b){this.V();return M.de(a,this,b)};n.Kb=function(){this.V();return M.Kb(this)};n.ceil=function(){this.V();return M.ceil(this)};n.floor=function(){this.V();return M.floor(this)};n.sign=function(){this.V();return M.sign(this)};
n.exp=function(){this.V();return M.exp(this)};n.expm1=function(){this.V();return M.expm1(this)};n.log=function(){this.V();return M.log(this)};n.log1p=function(){this.V();return M.log1p(this)};n.sqrt=function(){this.V();return M.sqrt(this)};n.yf=function(){this.V();return M.yf(this)};n.kb=function(){this.V();return M.kb(this)};n.uf=function(){this.V();return M.uf(this)};n.abs=function(){this.V();return M.abs(this)};n.Zh=function(a,b){this.V();return M.Zh(this,a,b)};n.hd=function(){this.V();return M.hd(this)};
n.Ue=function(){this.V();return M.Ue(this)};n.zf=function(){this.V();return M.zf(this)};n.Ii=function(a){a=void 0===a?.2:a;this.V();return M.Ii(this,a)};n.sf=function(a){this.V();return M.sf(this,a)};n.Hc=function(){this.V();return M.Hc(this)};n.Ni=function(){this.V();return M.Ni(this)};n.ze=function(){this.V();return M.ze(this)};n.sc=function(){this.V();return M.sc(this)};n.$i=function(){this.V();return M.$i(this)};n.sin=function(){this.V();return M.sin(this)};n.cos=function(){this.V();return M.cos(this)};
n.tan=function(){this.V();return M.tan(this)};n.asin=function(){this.V();return M.asin(this)};n.acos=function(){this.V();return M.acos(this)};n.atan=function(){this.V();return M.atan(this)};n.sinh=function(){this.V();return M.sinh(this)};n.cosh=function(){this.V();return M.cosh(this)};n.tanh=function(){this.V();return M.tanh(this)};n.asinh=function(){this.V();return M.asinh(this)};n.acosh=function(){this.V();return M.acosh(this)};n.atanh=function(){this.V();return M.atanh(this)};
n.Ve=function(){this.V();return M.Ve(this)};n.round=function(){this.V();return M.round(this)};n.step=function(a){a=void 0===a?0:a;this.V();return M.step(this,a)};n.Dg=function(a){a=void 0===a?-1:a;this.V();return M.Dg(this,a)};n.Oi=function(a){a=void 0===a?-1:a;this.V();return M.Oi(this,a)};n.vf=function(a,b){b=void 0===b?!1:b;this.V();return M.image.vf(this,a,b)};n.xf=function(a,b){b=void 0===b?!1:b;this.V();return M.image.xf(this,a,b)};
n.ai=function(a,b,c,d,e,f){d=void 0===d?"NWC":d;e=void 0===e?1:e;this.V();return M.ai(this,a,b,c,d,e,f)};n.oe=function(a,b,c,d,e,f){d=void 0===d?"NHWC":d;e=void 0===e?[1,1]:e;this.V();return M.oe(this,a,b,c,d,e,f)};n.fi=function(a,b,c,d,e){this.V();return M.fi(this,a,b,c,d,e)};n.fh=function(a,b,c){var d=void 0===d?"NHWC":d;var e=void 0===e?[1,1]:e;this.V();return M.li(this,a,b,c,d,e,void 0)};
n.Hh=function(a,b,c,d,e,f){e=void 0===e?[1,1]:e;f=void 0===f?"NHWC":f;this.V();return M.Hh(this,a,b,c,d,e,f)};n.Oe=function(a,b,c,d){this.V();return M.Oe(this,a,b,c,d)};n.te=function(a,b,c,d){this.V();return M.te(this,a,b,c,d)};n.Li=function(a,b,c,d){return M.Li(this,void 0===a?5:a,void 0===b?1:b,void 0===c?1:c,void 0===d?.5:d)};n.rf=function(a,b,c,d,e){this.V();return M.rf(this,a,b,c,d,e)};var os=function(a,b){b=void 0===b?!0:b;a.V();return new ns(a,void 0===b?!0:b,void 0)};n=$r.prototype;
n.Cf=function(a,b){this.V();return M.Cf(this,a,b)};n.ne=function(a,b){this.V();return M.ne(this,a,b)};n.Ae=function(a,b){this.V();return M.Ae(this,a,b)};n.Bf=function(a,b){a=void 0===a?1:a;b=void 0===b?!0:b;this.V();return M.Bf(this,a,b)};n.Ce=function(a,b,c,d,e,f,g,h){d=void 0===d?0:d;e=void 0===e?0:e;f=void 0===f?0:f;g=void 0===g?0:g;h=void 0===h?0:h;this.V();return M.Ce(this,a,b,c,d,e,f,g,h)};n.Qe=function(a,b){this.V();return M.Qe(this,a,b)};n.ud=function(){this.V();return M.Eg.ud(this)};
n.Yc=function(){this.V();return M.Eg.Yc(this)};n.yg=function(){this.V();return M.Eg.yg(this)};n.hg=function(){this.V();return M.Eg.hg(this)};da.Object.defineProperties($r.prototype,{s:{configurable:!0,enumerable:!0,get:function(){return this.shape.length}},ig:{configurable:!0,enumerable:!0,get:function(){return this.Fi}}});ea();Object.defineProperty($r,Symbol.g,{value:function(a){return!!a&&null!=a.Da&&null!=a.shape&&null!=a.dtype}});
var ns=function(a,b,c){b=void 0===b?!0:b;$r.call(this,a.shape,a.dtype,null,a.Da);this.g=b;this.name=c;null==this.name&&(Wr(),this.name=(ps++).toString());try{var d=Wr();if(null!=d.g[this.name])throw Error("P`"+this.name);d.g[this.name]=this}catch(e){throw js(this),e;}};w(ns,$r);ns.prototype.assign=function(a){if(a.dtype!==this.dtype)throw Error("F`"+a.dtype+"`"+this.dtype);if(!ir(a.shape,this.shape))throw Error("G`"+a.shape+"`"+this.shape);js(this);this.Da=a.Da;Zr(Wr(),this)};ea();
Object.defineProperty(ns,Symbol.g,{value:function(a){return a instanceof $r&&null!=a.assign&&a.assign instanceof Function}});function qs(a,b,c){for(var d={},e={},f=0;f<b.length;f++)d[b[f].id]=!0;for(f=0;f<a.length;f++){var g=a[f],h=g.inputs,k;for(k in h){for(var l=h[k],m=!1,p=0;p<b.length;p++)if(d[l.id]){g.outputs.forEach(function(u){return d[u.id]=!0});m=!0;e[g.id]=!0;break}if(m)break}}b={};b[c.id]=!0;c={};for(k=a.length-1;0<=k;k--)for(f=a[k],g=f.inputs,h=0;h<f.outputs.length;h++)if(b[f.outputs[h].id]){for(var q in g)b[g[q].id]=!0,c[f.id]=!0;break}q=[];for(b=0;b<a.length;b++)if(k=a[b],e[k.id]&&c[k.id]){f={};for(var r in k.inputs)g=
k.inputs[r],d[g.id]&&(f[r]=g);g=Object.assign({},k);g.inputs=f;g.outputs=k.outputs;q.push(g)}return q}
function rs(a,b){for(var c={},d=b.length-1;0<=d;c={fe:c.fe},d--){var e=b[d];c.fe=[];e.outputs.forEach(function(m){return function(p){var q=a[p.id];null!=q?m.fe.push(q):(p=Ur(p.shape,{values:Hr(p.size,p.dtype)},p.dtype),m.fe.push(p))}}(c));if(null==e.nh)throw Error("H`"+e.name);var f=e.nh(1===e.outputs.length?c.fe[0]:c.fe),g;for(g in e.inputs){if(!(g in f))throw Error("I`"+g+"`"+Object.keys(f));var h=f[g]();if("float32"!==h.dtype)throw Error("J`"+e.name+"`"+g+"`"+h.dtype);var k=e.inputs[g];if(!ir(h.shape,
k.shape))throw Error("K`"+e.name+"`"+g+"`"+h.shape+"`"+k.shape);if(null==a[k.id])a[k.id]=h;else{var l=a[k.id];a[k.id]=l.add(h);l.dispose()}}}};var ss={float32:{float32:"float32",int32:"float32",bool:"float32",complex64:"complex64"},int32:{float32:"float32",int32:"int32",bool:"int32",complex64:"complex64"},bool:{float32:"float32",int32:"int32",bool:"bool",complex64:"complex64"},complex64:{float32:"complex64",int32:"complex64",bool:"complex64",complex64:"complex64"}};function ts(a,b){if("string"===a||"string"===b){if("string"===a&&"string"===b)return"string";throw Error("L`"+a+"`"+b);}return ss[a][b]};function us(a,b){if(a.dtype===b.dtype)return[a,b];var c=ts(a.dtype,b.dtype);return[a.Ib(c),b.Ib(c)]}function vs(a){var b=[];ws(a,b,new Set);return b}function ws(a,b,c){if(null!=a)if(a instanceof $r)b.push(a);else if(Array.isArray(a)||"object"===typeof a)for(var d in a){var e=a[d];c.has(e)||(c.add(e),ws(e,b,c))}};var xs=function(a,b){this.Bb=a;this.Qa=b;this.g={};this.j=this.Ca=this.Ka=this.U=this.R=0;this.T=[];this.v=new Set;this.i=new WeakMap;this.S=new Kr(a)};xs.prototype.uh=function(a){this.write(a,is(this,a))};
var Bs=function(a,b,c,d){d=void 0===d?!1:d;var e=null;if(null==c){if("function"!==typeof b)throw Error("M");c=b}else{if("string"!==typeof b&&!(b instanceof String))throw Error("N");if("function"!==typeof c)throw Error("O");e=b}var f;return ys(function(){return zs(a,e,d)},function(){return As(a,f,d)},function(){f=c();f instanceof Promise&&console.error("Cannot return a Promise inside of tidy.");return f})},ys=function(a,b,c){a();try{var d=c();b();return d}catch(e){throw b(),e;}},P=function(a,b,c){var d=
K.g,e,f=[],g=function(k){f.push(k);return k},h=null!=d.o?d.o.name:"";ys(function(){return d.j++},function(){return d.j--},function(){e=d.Qa()?Lr(d.S,h,function(){return a(d.Bb,g)}):a(d.Bb,g)});null!=d.H&&0===d.j&&(b={id:d.R++,name:h,inputs:b,outputs:Array.isArray(e)?e:[e]},null!=c&&(b.nh=function(k){return c(k,f)}),d.H.push(b));return e},Zr=function(a,b,c){var d=a.i.has(b.Da)?a.i.get(b.Da).xg:0;a.Ka++;0===d&&(d=0,"complex64"!==b.dtype&&"string"!==b.dtype&&(d=J(b.shape)*wr(b.dtype)),a.i.set(b.Da,{Bb:null!=
c?c:a.Bb,dtype:b.dtype,shape:b.shape,Zg:d,xg:0}),a.U+=d,null!=c?c.register(b.Da,b.shape,b.dtype):a.Bb.register(b.Da,b.shape,b.dtype));a.i.get(b.Da).xg++;b instanceof ns||a.track(b)},js=function(a){var b=Wr();if(b.i.has(a.Da)){b.v.has(a.id)&&b.v.delete(a.id);b.Ka--;var c=b.i.get(a.Da);1>=c.xg?("complex64"!==a.dtype&&(b.U-=c.Zg),c.Bb.qe(a.Da),b.i.delete(a.Da)):b.i.get(a.Da).xg--}},Cs=function(a,b,c,d){var e={};b.forEach(function(f,g){e[g]=f});b={id:a.R++,name:a.o.name,inputs:e,outputs:[c],nh:function(f){var g=
{};d(f).forEach(function(h,k){g[k]=function(){return h}});return g}};a.H.push(b)},Ds=function(a){K.g.v.add(a.id);return a},zs=function(a,b,c){(c=void 0===c?!1:c)&&0===a.Ca&&(a.H=[]);c&&a.Ca++;c={track:[],name:"unnamed scope"};b&&(c.name=b);a.T.push(c);a.o=c},As=function(a,b,c){if(void 0===c?0:c)a.Ca--,0===a.Ca&&(a.H=null);var d=new Set(a.v);b=vs(b);b.forEach(function(g){return d.add(g.id)});for(c=0;c<a.o.track.length;c++){var e=a.o.track[c];d.has(e.id)||(null!=a.H?b.push(e):e.dispose())}var f=a.T.pop();
a.o=0===a.T.length?null:a.T[a.T.length-1];b.forEach(function(g){var h;if(h=!a.v.has(g.id))a:{h=f.track;for(var k=0;k<h.length;k++)if(h[k].id===g.id){h=!0;break a}h=!1}h&&a.track(g)})},Fs=function(a,b){var c=K.g,d=!0;d=void 0===d?!1:d;I(0<b.length,"gradients() received an empty list of xs.");return Bs(c,"gradients",function(){var e=a();I(e instanceof $r,"The result y returned by f() must be a tensor.");var f=qs(c.H,b,e);if(!d&&0===f.length&&0<b.length)throw Error("S");var g={};g[e.id]=Es(e.shape);
rs(g,f);f=b.map(function(h){return g[h.id]});return{value:e,oh:f}},!0)},Gs=function(a){var b=K.g;I(Ar(a),"The f passed in customGrad(f) must be a function.");return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];I(d.every(function(h){return h instanceof $r}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors");var f,g;ys(function(){return b.j++},function(){return b.j--},function(){g=Bs(b,a.name,function(){var h=a.apply(null,la(d)),k=h.value;h=h.df;I(k instanceof
$r,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor");I(Ar(h),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.");f=h;return k},!0)});null!=b.H&&0===b.j&&Cs(b,d,g,function(h){h=f(h);h=Array.isArray(h)?h:[h];I(h.length===d.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).");I(h.every(function(k){return k instanceof
$r}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");return h});return g}};xs.prototype.write=function(a,b){var c=this.i.get(a);if("string"===c.dtype){var d=xr(b);this.U+=d-c.Zg;c.Zg=d}this.Bb!==c.Bb&&(c.Bb.qe(a),c.Bb=this.Bb,this.Bb.register(a,c.shape,c.dtype));this.Bb.write(a,b)};var is=function(a,b){return a.i.get(b).Bb.mf(b)},hs=function(a,b){return a.i.get(b).Bb.qg(b)};
xs.prototype.$e=function(a,b){return this.Bb.$e(a,b)};xs.prototype.time=function(a){return cr(this,function c(){var d,e=this,f;return Da(c,function(g){if(1==g.g)return d=Ir(),wa(g,e.Bb.time(a),2);f=g.i;f.fl=Ir()-d;return g.return(f)})})};xs.prototype.track=function(a){null!=this.o&&this.o.track.push(a);return a};var Yr=0,ps=0;function Es(a){var b=Gr(J(a),"float32");return Ur(a,{values:b})};var Hs={},Is={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Js(a){a in Hs||(Hs[a]=Ks(a));var b=Hs[a];if(b.isContextLost())return delete Hs[a],Js(a);b.disable(b.DEPTH_TEST);b.disable(b.STENCIL_TEST);b.disable(b.BLEND);b.disable(b.DITHER);b.disable(b.POLYGON_OFFSET_FILL);b.disable(b.SAMPLE_COVERAGE);b.enable(b.SCISSOR_TEST);b.enable(b.CULL_FACE);b.cullFace(b.BACK);return Hs[a]}
function Ks(a){if(1!==a&&2!==a)throw Error("U");var b=document.createElement("canvas");b.addEventListener("webglcontextlost",function(c){c.preventDefault();delete Hs[a]},!1);return 1===a?b.getContext("webgl",Is)||b.getContext("experimental-webgl",Is):b.getContext("webgl2",Is)};var Ls=[{name:"DEBUG",type:1},{name:"IS_BROWSER",type:1},{name:"WEBGL_LAZILY_UNPACK",type:1},{name:"WEBGL_CPU_FORWARD",type:1},{name:"WEBGL_PACK",type:1},{name:"WEBGL_PACK_BATCHNORMALIZATION",type:1},{name:"WEBGL_PACK_CLIP",type:1},{name:"WEBGL_PACK_DEPTHWISECONV",type:1},{name:"WEBGL_PACK_BINARY_OPERATIONS",type:1},{name:"WEBGL_PACK_ARRAY_OPERATIONS",type:1},{name:"WEBGL_CONV_IM2COL",type:1},{name:"WEBGL_MAX_TEXTURE_SIZE",type:0},{name:"WEBGL_NUM_MB_BEFORE_PAGING",type:0},{name:"WEBGL_MAX_TEXTURES_IN_SHADER",
type:0},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:0},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:1},{name:"WEBGL_VERSION",type:0},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:1},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:1},{name:"WEBGL_FENCE_API_ENABLED",type:1},{name:"WEBGL_SIZE_UPLOAD_UNIFORM",type:0},{name:"BACKEND",type:2},{name:"EPSILON",type:0},{name:"PROD",type:1},{name:"TENSORLIKE_CHECK_SHAPE_CONSISTENCY",type:1},{name:"DEPRECATION_WARNINGS_ENABLED",type:1}];
function Ms(a){try{if(null!=Js(a))return!0}catch(b){}return!1}var Ns,Os;function Ps(a){if(0===a)return!1;var b=Js(a);if(1===a){if(null==b.getExtension("OES_texture_float"))return!1}else if(null==b.getExtension("EXT_color_buffer_float"))return!1;return Qs(b,a)}function Rs(a){if(0===a)return!1;var b=Js(a);if(1===a){if(null==b.getExtension("OES_texture_float")||null==b.getExtension("WEBGL_color_buffer_float"))return!1}else if(null==b.getExtension("EXT_color_buffer_float"))return!1;return Qs(b,a)}
function Ss(){var a={};if("undefined"===typeof window||"undefined"===typeof window.location||"undefined"===typeof window.location.search)return a;var b=Ts();if("tfjsflags"in b){var c={};b.tfjsflags.split(",").forEach(function(d){var e=t(d.split(":"));d=e.next().value;e=e.next().value;c[d]=e});Ls.forEach(function(d){d.name in c&&(console.log("Setting feature override from URL "+d.name+": "+(""+c[d.name])),0===d.type?a[d.name]=+c[d.name]:1===d.type?a[d.name]="true"===c[d.name]:2===d.type?a[d.name]=
c[d.name]:console.warn("Unknown URL param: "+d.name+"."))})}return a}
function Qs(a,b){var c=a.createFramebuffer(),d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texImage2D(a.TEXTURE_2D,0,2===b?a.RGBA32F:a.RGBA,1,1,0,a.RGBA,a.FLOAT,null);a.bindFramebuffer(a.FRAMEBUFFER,c);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,d,0);b=a.checkFramebufferStatus(a.FRAMEBUFFER)===a.FRAMEBUFFER_COMPLETE;a.bindTexture(a.TEXTURE_2D,null);a.bindFramebuffer(a.FRAMEBUFFER,null);a.deleteTexture(d);a.deleteFramebuffer(c);return b}
function Ts(){var a={};window.location.search.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(b,c){for(var d=[],e=1;e<arguments.length;++e)d[e-1]=arguments[e];e=d[1];a[decodeURIComponent(d[0])]=decodeURIComponent(e||"");return d.join("=")});return a};var Us=function(a){this.i={};this.o={};null!=a&&(this.i=a);this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")},Ws=function(){Vs(K);return K.j},Xs=function(a){return Bs(K.g,a,void 0)},Ys=function(a){vs(a).forEach(function(b){return b.dispose()})};Us.prototype.get=function(a){if(a in this.i)return this.i[a];this.i[a]=Zs(this,a);return this.i[a]};
Us.prototype.set=function(a,b){this.i[a]=b};
var $s=function(a){if(0===Object.keys(a.o).length)throw Error("V");return Object.keys(a.o).map(function(b){return{name:b,Vb:a.o[b]}}).sort(function(b,c){return c.Vb.priority-b.Vb.priority})[0].name},Zs=function(a,b){if("DEBUG"===b)return!1;if("IS_BROWSER"===b)return"undefined"!==typeof window;if("IS_NODE"===b)return"undefined"!==typeof process&&"undefined"!==typeof process.dl&&"undefined"!==typeof process.dl.node;if("IS_CHROME"===b)return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&
/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if("WEBGL_CPU_FORWARD"===b)return!0;if("WEBGL_PACK"===b)return 0===a.get("WEBGL_VERSION")?!1:!0;if("WEBGL_PACK_BATCHNORMALIZATION"===b||"WEBGL_PACK_CLIP"===b||"WEBGL_PACK_DEPTHWISECONV"===b||"WEBGL_PACK_BINARY_OPERATIONS"===b||"WEBGL_PACK_ARRAY_OPERATIONS"===b||"WEBGL_LAZILY_UNPACK"===b||"WEBGL_CONV_IM2COL"===b)return a.get("WEBGL_PACK");if("WEBGL_NUM_MB_BEFORE_PAGING"===b)return a.get("PROD")||!a.get("IS_BROWSER")?Number.POSITIVE_INFINITY:
window.screen.height*window.screen.width*window.devicePixelRatio*600/1024;if("WEBGL_MAX_TEXTURE_SIZE"===b)return a=a.get("WEBGL_VERSION"),null==Ns&&(a=Js(a),Ns=a.getParameter(a.MAX_TEXTURE_SIZE)),Ns;if("WEBGL_MAX_TEXTURES_IN_SHADER"===b)return a=a.get("WEBGL_VERSION"),null==Os&&(a=Js(a),Os=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),Math.min(16,Os);if("IS_TEST"===b)return!1;if("BACKEND"===b)return $s(a);if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===b)return a=a.get("WEBGL_VERSION"),0===a?a=0:
0===a?a=0:(b=Js(a),a=null!=b.getExtension("EXT_disjoint_timer_query_webgl2")&&2===a?2:null!=b.getExtension("EXT_disjoint_timer_query")?1:0),a;if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===b){if(a=0<a.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))a=navigator.userAgent||navigator.vendor||window.opera,a=!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)));return a}if("HAS_WEBGL"===b)return 0<a.get("WEBGL_VERSION");if("WEBGL_VERSION"===b)return Ms(2)?2:Ms(1)?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===b)return Ps(a.get("WEBGL_VERSION"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===b)return Rs(a.get("WEBGL_VERSION"));if("WEBGL_FENCE_API_ENABLED"===b)return a=a.get("WEBGL_VERSION"),2!==a?!1:null!=Js(a).fenceSync;if("WEBGL_SIZE_UPLOAD_UNIFORM"===b)return a.get("WEBGL_RENDER_FLOAT32_ENABLED")?4:0;if("TEST_EPSILON"===b)return 32===a.Bb.jh()?.001:.1;if("EPSILON"===
b)return 32===a.Bb.jh()?1E-7:1E-4;if("PROD"===b)return!1;if("TENSORLIKE_CHECK_SHAPE_CONSISTENCY"===b)return!a.get("PROD");if("DEPRECATION_WARNINGS_ENABLED"===b)return!0;throw Error("W`"+b);};Us.prototype.reset=function(){this.i=Ss();null!=this.H&&(this.H=null)};
var at=function(a,b){return b in a.o?a.o[b].Bb:null},bt=function(a,b,c){var d=K;c=void 0===c?1:c;if(a in d.o)console.warn(a+" backend was already registered. Reusing existing backend");else try{var e=b();e.kj({uh:function(f){return d.g.uh(f)}});d.o[a]={Bb:e,priority:c}}catch(f){console.warn("Registration of backend "+a+" failed"),console.warn(f.stack||f.message)}},Vs=function(a){null==a.H&&(a.j=a.get("BACKEND"),a.H=new xs(at(a,a.j),function(){return a.get("DEBUG")}))};
da.Object.defineProperties(Us.prototype,{Bb:{configurable:!0,enumerable:!0,get:function(){return this.g.Bb}},g:{configurable:!0,enumerable:!0,get:function(){Vs(this);return this.H}},global:{configurable:!0,enumerable:!0,get:function(){return ct()}}});var dt;function ct(){if(null==dt){if("undefined"!==typeof window)var a=window;else if("undefined"!==typeof global)a=global;else if("undefined"!==typeof process)a=process;else throw Error("X");dt=a}return dt}
function et(a){K.get("DEPRECATION_WARNINGS_ENABLED")&&console.warn(a+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}Xr=et;var K=function(){var a=ct();null==a.ENV&&(a.ENV=new Us(Ss()));Wr=function(){return a.ENV.g};return a.ENV}();function ft(a,b){I(Ar(a),"The f passed in variableGrads(f) must be a function");I(null==b||Array.isArray(b)&&b.every(function(f){return f instanceof ns}),"The varList passed in variableGrads(f, varList) must be an array of variables");if(null==b){b=[];for(var c in K.g.g)b.push(K.g.g[c])}c=b.length;b=b.filter(function(f){return f.g});I(0<b.length,"variableGrads() expects at least one of the input variables to be "+("trainable, but none of the "+c+" variables is ")+"trainable.");a=Fs(a,b);c=a.value;
var d=a.oh;I(d.some(function(f){return null!=f}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().");I(0===c.s,"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+c.s+" tensor"));var e={};b.forEach(function(f,g){null!=d[g]&&(e[f.name]=d[g])});return{value:c,oh:e}};var gt={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Q(a){var b=Object.keys(a);if(1!==b.length)throw Error("Y`"+b.length);var c=b[0],d=a[c];c.endsWith("_")&&(c=c.substring(0,c.length-1));a=function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];zs(K.g,c);try{var h=d.apply(null,la(f));h instanceof Promise&&console.error("Cannot return a Promise inside of tidy.");As(K.g,h);return h}catch(k){throw As(K.g,null),k;}};Object.defineProperty(a,"name",{value:c,configurable:!0});return a};function ht(a){var b=a;if(lr(a))return[a.length];if(!Array.isArray(a))return[];for(var c=[];Array.isArray(b)||lr(b);)c.push(b.length),b=b[0];Array.isArray(a)&&K.get("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&jt(a,c,[]);return c}
function jt(a,b,c){c=c||[];if(Array.isArray(a)||lr(a)){I(0<b.length,function(){return"Element arr["+c.join("][")+"] should be a primitive, "+("but is an array of "+a.length+" elements")});I(a.length===b[0],function(){return"Element arr["+c.join("][")+"] should have "+b[0]+" "+("elements, but has "+a.length+" elements")});for(var d=b.slice(1),e=0;e<a.length;++e)jt(a[e],d,c.concat(e))}else I(0===b.length,function(){return"Element arr["+c.join("][")+"] is a primitive, "+("but should be an array/TypedArray of "+
b[0]+" elements")})}function kt(a,b,c,d){if(null!=a&&("numeric"!==a&&a!==b||"numeric"===a&&"string"===b))throw Error("Z`"+c+"`"+d+"`"+a+"`"+b);}
function U(a,b,c,d){d=void 0===d?"numeric":d;if(a instanceof $r)return kt(d,a.dtype,b,c),a;var e=zr(a);"string"!==e&&0<=["bool","int32","float32"].indexOf(d)&&(e=d);kt(d,e,b,c);if(!lr(a)&&!Array.isArray(a)&&"number"!==typeof a&&"boolean"!==typeof a&&"string"!==typeof a)throw Error("$`"+b+"`"+c+"`"+a.constructor.name);b=ht(a);lr(a)||Array.isArray(a)||(a=[a]);a="string"!==e?Dr(a,e):kr(a);return Ur(b,{values:a},e)}
function lt(a,b,c){if(!Array.isArray(a))throw Error("aa`"+b+"`"+c);return a.map(function(d,e){return U(d,b+"["+e+"]",c)})};var mt=Q({Am:function(a,b){var c=U(a,"real","complex"),d=U(b,"imag","complex");hr(c.shape,d.shape,"real and imag shapes, "+c.shape+" and "+d.shape+", must match in call to tf.complex().");return P(function(e){return e.ac(c,d)},{ol:c,ll:d})}}),nt=Q({Mp:function(a){var b=U(a,"input","real");return P(function(c){return c.nb(b)},{Ph:b})}}),ot=Q({Rn:function(a){var b=U(a,"input","imag");return P(function(c){return c.yb(b)},{Ph:b})}});function Mt(a,b,c){null==c&&(c=zr(a));if("complex64"===c)throw Error("ba");if(!lr(a)&&!Array.isArray(a)&&"number"!==typeof a&&"boolean"!==typeof a&&"string"!==typeof a)throw Error("ca");var d=ht(a);if(null!=b){var e=J(b),f=J(d);I(e===f,function(){return"Based on the provided shape, ["+b+"], the tensor should have "+(e+" values but has "+f)});for(var g=0;g<d.length;++g){var h=d[g];h=g===d.length-1?h!==J(b.slice(g)):!0;I(d[g]===b[g]||!h,function(){return"Error creating a new Tensor. Inferred shape "+
("("+d+") does not match the provided ")+("shape ("+b+"). ")})}}lr(a)||Array.isArray(a)||(a=[a]);b=b||d;a="string"!==c?Dr(a,c):kr(a);return Ur(b,{values:a},c)}function Nt(a,b){if((lr(a)||Array.isArray(a))&&"complex64"!==b)throw Error("da");return Mt(a,[],b)}function Ot(a,b){jr(a);var c=ht(a);if(1!==c.length)throw Error("ea");return Mt(a,c,b)}
function Pt(a,b,c){jr(a);if(null!=b&&2!==b.length)throw Error("fa");var d=ht(a);if(2!==d.length&&1!==d.length)throw Error("ga");if(1===d.length&&null==b)throw Error("ha");return Mt(a,b||d,c)}function Qt(a,b){b=void 0===b?"float32":b;if("complex64"===b)return b=Qt(a,"float32"),a=Qt(a,"float32"),mt(b,a);var c=Gr(J(a),b);return Ur(a,{values:c},b)}
function Rt(a,b){b=void 0===b?"float32":b;if("complex64"===b)return b=Rt(a,"float32"),a=Rt(a,"float32"),mt(b,a);var c=Hr(J(a),b);return Ur(a,{values:c},b)}function St(a,b,c,d){c=void 0===c?1:c;d=void 0===d?"float32":d;if(0===c)throw Error("ia");if(a===b||a<b&&0>c||b<a&&1<c)return Rt([0],d);var e=Hr(Math.abs(Math.ceil((b-a)/c)),d);b<a&&1===c&&(c=-1);e[0]=a;for(a=1;a<e.length;a++)e[a]=e[a-1]+c;return Ot(e,d)}
var Tt=Q({ip:function(a){a=U(a,"x","onesLike");return Qt(a.shape,a.dtype)}}),Ut=Q({vr:function(a){a=U(a,"x","zerosLike");return Rt(a.shape,a.dtype)}});function Vt(a,b){var c={},d=0,e={};b=t(b);for(var f=b.next();!f.done;e={zc:e.zc},f=b.next()){var g=f.value;f=g.name;var h=g.dtype,k=g.shape,l=J(k),m=void 0;if("quantization"in g){e.zc=g.quantization;if("uint8"!==e.zc.dtype&&"uint16"!==e.zc.dtype)throw Error("ja`"+g.name+"`"+e.zc.dtype);g=gt[e.zc.dtype];m=a.slice(d,d+l*g);m="uint8"===e.zc.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===h)m=Float32Array.from(m,function(p){return function(q){return q*p.zc.scale+p.zc.min}}(e));else if("int32"===
h)m=Int32Array.from(m,function(p){return function(q){return Math.round(q*p.zc.scale+p.zc.min)}}(e));else throw Error("ka`"+f+"`"+h);d+=l*g}else{g=gt[h];m=a.slice(d,d+l*g);if("float32"===h)m=new Float32Array(m);else if("int32"===h)m=new Int32Array(m);else if("bool"===h)m=new Uint8Array(m);else throw Error("ka`"+f+"`"+h);d+=l*g}l=void 0;if("float32"===h)l=Mt(m,k,"float32");else if("int32"===h)l=Mt(m,k,"int32");else if("bool"===h)l=Mt(m,k,"bool");else throw Error("ka`"+f+"`"+h);c[f]=l}return c}
var Wt="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Xt(a){var b=0;a.forEach(function(e){b+=e.byteLength});var c=new Uint8Array(b),d=0;a.forEach(function(e){c.set(new Uint8Array(e),d);d+=e.byteLength});return c.buffer};var Yt=function(){this.i=[];this.g=[]},Zt,$t=function(){null==Zt&&(Zt=new Yt);return Zt},au=function(a){$t().i.push(a)};var bu=function(a){if(!K.get("IS_BROWSER"))throw Error("ma");a.startsWith("downloads://")&&a.slice(12)};au(function(a){K.get("IS_BROWSER")?!Array.isArray(a)&&a.startsWith("downloads://")?(a=a.slice(12),a=new bu(void 0===a?"model":a)):a=null:a=null;return a});function cu(a,b,c,d){return cr(this,function f(){var g,h,k,l,m,p;return Da(f,function(q){switch(q.g){case 1:return null==c&&(c=fetch),g=a.map(function(r){return c(r,b)}),null==d?wa(q,Promise.all(g),5):wa(q,Jr(g,d,0,.5),4);case 4:h=q.i;q.g=3;break;case 5:h=q.i;case 3:return k=h,l=k.map(function(r){return r.arrayBuffer()}),null==d?wa(q,Promise.all(l),9):wa(q,Jr(l,d,.5,1),8);case 8:m=q.i;q.g=7;break;case 9:m=q.i;case 7:return p=m,q.return(p)}})})}
function du(a,b){var c={credentials:void 0};b=void 0===b?"":b;return cr(this,function e(){var f,g;return Da(e,function(h){f=function(k){return cu(k,c)};g=eu(f);return h.return(g(a,b,void 0))})})}
function eu(a){var b=this;return function(c,d,e){d=void 0===d?"":d;return cr(b,function g(){var h,k,l,m,p,q,r,u,x,v;return Da(g,function(y){if(1==y.g){h=c.map(function(){return!1});k={};l=null!=e?e.map(function(){return!1}):[];m=[];c.forEach(function(C,D){var F=0;C.weights.forEach(function(H){var O=gt["quantization"in H?H.quantization.dtype:H.dtype]*J(H.shape),N=function(){h[D]=!0;null==k[D]&&(k[D]=[]);k[D].push({Ik:H,Ai:F,Vk:O})};null!=e?e.forEach(function(R,S){R===H.name&&(N(),l[S]=!0)}):N();m.push(H.name);
F+=O})});if(!l.every(function(C){return C}))throw p=e.filter(function(C,D){return!l[D]}),Error("na`"+p.join(", ")+"`"+m.join(", "));q=h.reduce(function(C,D,F){D&&C.push(F);return C},[]);r=[];q.forEach(function(C){c[C].paths.forEach(function(D){r.push(d+(d.endsWith("/")?"":"/")+D)})});return wa(y,a(r),2)}u=y.i;x={};v=0;q.forEach(function(C){for(var D=c[C].paths.length,F=0,H=0;H<D;H++)F+=u[v+H].byteLength;var O=new ArrayBuffer(F);F=new Uint8Array(O);for(var N=H=0;N<D;N++){var R=new Uint8Array(u[v+N]);
F.set(R,H);H+=R.byteLength}k[C].forEach(function(S){var W=O.slice(S.Ai,S.Ai+S.Vk);S=Vt(W,[S.Ik]);for(var X in S)x[X]=S[X]});v+=D});return y.return(x)})})}};var fu=function(a,b){var c=null;this.H=b;if(null==c){if("undefined"===typeof fetch)throw Error("oa");c=fetch.bind("undefined"===typeof window?null:window)}else I("function"===typeof c,"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)");this.i=function(d,e){return c(d,e).catch(function(f){throw Error("pa`"+d+"`"+f);})};I(null!=a&&0<a.length,"URL path for browserHTTPRequest must not be null, undefined or empty.");Array.isArray(a)&&
I(2===a.length,"URL paths for browserHTTPRequest must have a length of 2, "+("(actual length is "+a.length+")."));this.g=a;this.o={}};fu.prototype.load=function(){return cr(this,function b(){var c=this;return Da(b,function(d){return d.return(Array.isArray(c.g)?gu(c):hu(c))})})};
var iu=function(a){return cr(a,function c(){var d=this,e;return Da(c,function(f){if(1==f.g)return wa(f,(0,d.i)(d.g[0],d.o),2);if(3!=f.g){e=f.i;if(!e.ok)throw Error("ra`"+d.g[0]+"`"+e.statusText);return wa(f,e.arrayBuffer(),3)}return f.return(f.i)})})},gu=function(a){return cr(a,function c(){var d=this,e,f,g,h,k,l,m,p,q,r,u;return Da(c,function(x){switch(x.g){case 1:return e=iu(d),wa(x,(0,d.i)(d.g[1],d.o),2);case 2:f=x.i;if(!f.ok)throw Error("ra`"+d.g[1]+"`"+f.statusText);return wa(x,Promise.all([e,
f]),3);case 3:return g=x.i,h=t(g),k=h.next().value,l=h.next().value,wa(x,l.json(),4);case 4:m=x.i;if(null==m){x.g=5;break}return wa(x,ju(d,m),6);case 6:r=x.i,u=t(r),p=u.next().value,q=u.next().value;case 5:return x.return({modelTopology:k,weightSpecs:p,weightData:q})}})})},hu=function(a){return cr(a,function c(){var d=this,e,f,g,h,k,l,m,p,q;return Da(c,function(r){switch(r.g){case 1:return wa(r,(0,d.i)(d.g,d.o),2);case 2:e=r.i;if(!e.ok)throw Error("ra`"+d.g+"`"+e.statusText);return wa(r,e.json(),
3);case 3:f=r.i;g=f.modelTopology;h=f.weightsManifest;if(null==g&&null==h)throw Error("sa`"+d.g);if(null==h){r.g=4;break}m=f.weightsManifest;return wa(r,ju(d,m),5);case 5:p=r.i,q=t(p),k=q.next().value,l=q.next().value;case 4:return r.return({modelTopology:g,weightSpecs:k,weightData:l})}})})},ju=function(a,b){return cr(a,function d(){var e=this,f,g,h,k,l,m,p,q,r,u,x;return Da(d,function(v){if(1==v.g){f=Array.isArray(e.g)?e.g[1]:e.g;g=t(ku(f));h=g.next().value;k=g.next().value;l=h;m=[];p=t(b);for(q=
p.next();!q.done;q=p.next())r=q.value,m.push.apply(m,la(r.weights));u=[];b.forEach(function(y){y.paths.forEach(function(C){u.push(l+C+k)})});return wa(v,cu(u,e.o,e.i,e.H),2)}x=v.i;return v.return([m,Xt(x)])})})},lu=/^https?:\/\//;function ku(a){var b=a.lastIndexOf("/"),c=a.lastIndexOf("?");return[a.substring(0,b)+"/",c>b?a.substring(c):""]}
var mu=function(a,b){if("undefined"!==typeof fetch){var c=!0;if(c=Array.isArray(a)?a.every(function(d){return null!=d.match(lu)}):null!=a.match(lu))return new fu(a,b)}return null};au(mu);$t().g.push(mu);var nu=function(){this.g={}},ou,pu=function(a,b){I(null!=a,"scheme must not be undefined or null.");a.endsWith("://")&&(a=a.slice(0,a.indexOf("://")));I(0<a.length,"scheme must not be an empty string.");null==ou&&(ou=new nu);var c=ou;I(null==c.g[a],"A model store manager is already registered for scheme '"+a+"'.");c.g[a]=b};function qu(){if(!K.get("IS_BROWSER"))throw Error("ta");var a=window;a=a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB||a.oq;if(null==a)throw Error("ua");return a}var ru=function(a){this.indexedDB=qu();if(null==a||!a)throw Error("va");this.g=a};ru.prototype.load=function(){return cr(this,function b(){var c=this;return Da(b,function(d){return d.return(su(c))})})};
var su=function(a){return new Promise(function(b,c){var d=a.indexedDB.open("tensorflowjs",1);d.onupgradeneeded=function(){var e=d.result;e.createObjectStore("models_store",{keyPath:"modelPath"});e.createObjectStore("model_info_store",{keyPath:"modelPath"})};d.onsuccess=function(){var e=d.result,f=e.transaction("models_store","readonly"),g=f.objectStore("models_store").get(a.g);g.onsuccess=function(){if(null==g.result)return e.close(),c(Error("wa`"+a.g));b(g.result.Mo)};g.onerror=function(){e.close();
return c(g.error)};f.oncomplete=function(){return e.close()}};d.onerror=function(){return c(d.error)}})},tu=function(a){return K.get("IS_BROWSER")?!Array.isArray(a)&&a.startsWith("indexeddb://")?new ru(a.slice(12)):null:null};au(tu);$t().g.push(tu);var uu=function(){this.indexedDB=qu()};if(K.get("IS_BROWSER"))try{pu("indexeddb://",new uu)}catch(a){};var vu=function(a){if(!K.get("IS_BROWSER")||"undefined"===typeof window.localStorage)throw Error("xa");this.i=window.localStorage;if(null==a||!a)throw Error("ya");a=this.g=a;this.keys={info:["tensorflowjs_models",a,"info"].join("/"),jr:["tensorflowjs_models",a,"model_topology"].join("/"),weightSpecs:["tensorflowjs_models",a,"weight_specs"].join("/"),weightData:["tensorflowjs_models",a,"weight_data"].join("/")}};
vu.prototype.load=function(){return cr(this,function b(){var c=this,d,e,f,g,h;return Da(b,function(k){d=JSON.parse(c.i.getItem(c.keys.info));if(null==d)throw Error("za`"+c.g);if("JSON"!==d.modelTopologyType)throw Error("Aa");e={};f=JSON.parse(c.i.getItem(c.keys.topology));if(null==f)throw Error("Ba`"+c.g);e.modelTopology=f;g=JSON.parse(c.i.getItem(c.keys.weightSpecs));if(null==g)throw Error("Ca`"+c.g);e.weightSpecs=g;h=c.i.getItem(c.keys.weightData);if(null==h)throw Error("Da`"+c.g);if(Wt){var l=
Buffer.from(h,"base64");l=l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}else{l=atob(h);for(var m=new Uint8Array(l.length),p=0;p<l.length;++p)m.set([l.charCodeAt(p)],p);l=m.buffer}e.weightData=l;return k.return(e)})})};var wu=function(a){return K.get("IS_BROWSER")?!Array.isArray(a)&&a.startsWith("localstorage://")?new vu(a.slice(15)):null:null};au(wu);$t().g.push(wu);
var xu=function(){I(K.get("IS_BROWSER"),"Current environment is not a web browser");I("undefined"!==typeof window.localStorage,"Current browser does not appear to support localStorage")};if(K.get("IS_BROWSER"))try{pu("localstorage://",new xu)}catch(a){};var yu=function(a){this.g=a;this.data=new WeakMap};yu.prototype.get=function(a){this.data.has(a)||this.g.uh(a);return this.data.get(a)};yu.prototype.set=function(a,b){this.data.set(a,b)};yu.prototype.has=function(a){return this.data.has(a)};function zu(a,b,c){if("complex64"===b){if("complex64"===a.dtype)return a.clone();b=Rt(a.shape);a=ks(a);c=c.ac(a,b);b.dispose();a.dispose();return c}var d=a.dtype;if("complex64"===b||"float32"===b&&"complex64"!==d||"int32"===b&&"float32"!==d&&"complex64"!==d||"bool"===b&&"bool"===d)return Ur(a.shape,{Da:a.Da},b);if("complex64"===a.dtype)return c=c.nb(a),a=c.Ib(b),c.dispose(),a;if("int32"===b)return c.Ci(a);if("bool"===b)return b=Nt(0,a.dtype),c=c.zd(a,b),b.dispose(),c;throw Error("Ea`"+b);}
function Au(a,b){return Ur(b,{Da:a.Da},a.dtype)};function Bu(a,b){if(a.length!==b.length)throw Error("Fa`"+a.length+"`"+b.length);for(var c=new Float32Array(2*a.length),d=0;d<c.length;d+=2)c[d]=a[d/2],c[d+1]=b[d/2];return c};function Cu(a,b,c,d,e){b=Array.from(b).map(function(m,p){return{zg:m,mk:p}}).filter(function(m){return m.zg>e}).sort(function(m,p){return p.zg-m.zg});for(var f=[],g=0;g<b.length;g++){var h=b[g],k=h.mk;if(h.zg<e)break;h=!1;for(var l=f.length-1;0<=l;--l)if(Du(a,k,f[l])>=d){h=!0;break}if(!h&&(f.push(k),f.length>=c))break}return Ot(f,"int32")}
function Du(a,b,c){var d=a.subarray(4*b,4*b+4),e=a.subarray(4*c,4*c+4);a=Math.min(d[0],d[2]);c=Math.min(d[1],d[3]);b=Math.max(d[0],d[2]);d=Math.max(d[1],d[3]);var f=Math.min(e[0],e[2]),g=Math.min(e[1],e[3]),h=Math.max(e[0],e[2]),k=Math.max(e[1],e[3]);e=(b-a)*(d-c);var l=(h-f)*(k-g);if(0>=e||0>=l)return 0;a=Math.max(Math.min(b,h)-Math.max(a,f),0)*Math.max(Math.min(d,k)-Math.max(c,g),0);return a/(e+l-a)};function Eu(a,b,c){var d=Array(a.s).fill(0),e=a.shape.slice();return b.map(function(f){e[c]=f;var g=a.slice(d,e);d[c]+=f;return g})};function Fu(a,b,c,d){var e=b[b.length-1],f=t([a.length/e,e]);e=f.next().value;var g=f.next().value;f=tr(c,e*d);for(var h=tr("int32",e*d),k=0;k<e;k++){var l=k*g,m=a.subarray(l,l+g);l=[];for(var p=0;p<m.length;p++)l.push({value:m[p],index:p});l.sort(function(r,u){return u.value-r.value});p=k*d;m=f.subarray(p,p+d);p=h.subarray(p,p+d);for(var q=0;q<d;q++)m[q]=l[q].value,p[q]=l[q].index}a=b.slice();a[a.length-1]=d;return[Mt(f,a,c),Mt(h,a,"int32")]};function Gu(a,b){for(var c=0;c<a.length;++c)if(a[a.length-c-1]!==b-1-c)return!1;return!0}function Hu(a,b,c){for(var d=a.length+b.length,e=[],f=0,g=0,h=0;h<d;h++)-1===c.indexOf(h)?e.push(a[f++]):e.push(b[g++]);return e}function Iu(a,b){for(var c=[],d=a.length,e=0;e<d;e++)-1===b.indexOf(e)&&c.push(a[e]);b=b.map(function(f){return a[f]});return[c,b]}function Ju(a,b){var c=b.map(function(){return 1});return Hu(a,c,b)}
function Ku(a,b,c){I(Gu(b,c),a+" supports only inner-most axes for now. "+("Got axes "+b+" and rank-"+c+" input."))}function Lu(a,b){if(Gu(a,b))return null;for(var c=[],d=0;d<b;++d)-1===a.indexOf(d)&&c.push(d);a.forEach(function(e){return c.push(e)});return c}function Mu(a){return a.map(function(b,c){return[c,b]}).sort(function(b,c){return b[1]-c[1]}).map(function(b){return b[0]})}function Nu(a,b){var c=[];for(a=b-a;a<b;++a)c.push(a);return c};/*

 Copyright 2019 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
function Ou(a,b){return cr(this,function d(){var e,f,g,h,k,l,m,p,q,r,u,x,v,y,C,D,F,H,O,N;return Da(d,function(R){switch(R.g){case 1:e=U(a,"img","toPixels");a instanceof $r||(e=ls(e));if(2!==e.s&&3!==e.s)throw Error("Ga`"+e.s);f=t(e.shape.slice(0,2));g=f.next().value;h=f.next().value;k=2===e.s?1:e.shape[2];if(4<k||2===k)throw Error("Ha`"+k);l=e.min();m=e.max();return wa(R,l.data(),2);case 2:return p=R.i[0],wa(R,m.data(),3);case 3:q=R.i[0];l.dispose();m.dispose();if("float32"===e.dtype){if(0>p||1<q)throw Error("Ia`"+
p+"`"+q);}else if("int32"===e.dtype){if(0>p||255<q)throw Error("Ja`"+p+"`"+q);}else throw Error("Ka`"+e.dtype);return wa(R,e.data(),4);case 4:r=R.i;u="float32"===e.dtype?255:1;x=new Uint8ClampedArray(h*g*4);for(v=0;v<g*h;++v)F=D=C=y=void 0,1===k?(y=r[v]*u,C=r[v]*u,D=r[v]*u,F=255):3===k?(y=r[3*v]*u,C=r[3*v+1]*u,D=r[3*v+2]*u,F=255):4===k&&(y=r[4*v]*u,C=r[4*v+1]*u,D=r[4*v+2]*u,F=r[4*v+3]*u),H=4*v,x[H+0]=Math.round(y),x[H+1]=Math.round(C),x[H+2]=Math.round(D),x[H+3]=Math.round(F);null!=b&&(b.width=h,
b.height=g,O=b.getContext("2d"),N=new ImageData(x,h,g),O.putImageData(N,0,0));e!==a&&e.dispose();return R.return(x)}})})}var Pu=Q({Bn:function(a,b){b=void 0===b?3:b;if(4<b)throw Error("La");return K.g.$e(a,b)}});function Qu(a,b){var c=a[0].length;a.forEach(function(e,f){I(e.length===c,"Error in concat"+c+"D: rank of tensors["+f+"] must be the same "+("as the rank of the rest ("+c+")"))});I(0<=b&&b<c,"Error in concat"+c+"D: axis must be between 0 and "+(c-1)+".");var d=a[0];a.forEach(function(e,f){for(var g=0;g<c;g++)I(g===b||e[g]===d[g],"Error in concat"+c+"D: Shape of tensors["+f+"] ("+e+") "+("does not match the shape of the rest ("+d+") ")+("along the non-concatenated axis "+f+"."))})}
function Ru(a,b){for(var c=a[0].slice(),d=1;d<a.length;d++)c[b]+=a[d][b];return c};var Tu=Q({Lm:function(a,b){b=void 0===b?0:b;I(1<=a.length,"Pass at least one tensor to concat");var c=lt(a,"tensors","concat");b=rr(b,c[0].shape)[0];a=Ru(c.map(function(e){return e.shape}),b);if(0===J(a))return Mt([],a);c=c.filter(function(e){return 0<e.size});if(1===c.length)return c[0];var d=c.map(function(e){return e.shape});Qu(d,b);return P(function(e){return e.concat(c,b)},c,function(e){var f=d.map(function(g){return g[b]});return Su(e,f,b).map(function(g){return function(){return g}})})}}),
Uu=Q({Dm:function(a){return Tu(a,0)}}),Vu=Q({Fm:function(a,b){return Tu(a,b)}}),Wu=Q({Hm:function(a,b){return Tu(a,b)}}),Xu=Q({Jm:function(a,b){return Tu(a,b)}}),Su=Q({Mq:function(a,b,c){c=void 0===c?0:c;var d=U(a,"x","split");c=rr(c,d.shape)[0];if("number"===typeof b){I(0===d.shape[c]%b,"Number of splits must evenly divide the axis.");var e=Array(b).fill(d.shape[c]/b)}else I(d.shape[c]===b.reduce(function(f,g){return f+g}),"The sum of sizes must match the size of the axis dimension."),e=b;return P(function(f){return f.split(d,
e,c)},{ma:d},function(f){return{ma:function(){return Tu(f,c)}}})}});/*

Copyright 2014 David Bau.
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
if(!Yu)var Yu={};
(function(a,b){function c(v){var y,C=v.length,D=this,F=0,H=D.dg=D.kg=0,O=D.Me=[];for(C||(v=[C++]);256>F;)O[F]=F++;for(F=0;256>F;F++)O[F]=O[H=255&H+v[F%C]+(y=O[F])],O[H]=y;(D.g=function(N){for(var R,S=0,W=D.dg,X=D.kg,T=D.Me;N--;)R=T[W=255&W+1],S=256*S+T[255&(T[W]=T[X=255&X+R])+(T[X]=R)];D.dg=W;D.kg=X;return S})(256)}function d(v,y){y.dg=v.dg;y.kg=v.kg;y.Me=v.Me.slice();return y}function e(v,y){var C=[],D=typeof v,F;if(y&&"object"==D)for(F in v)try{C.push(e(v[F],y-1))}catch(H){}return C.length?C:"string"==
D?v:v+"\x00"}function f(v,y){v+="";for(var C,D=0;D<v.length;)y[255&D]=255&(C^=19*y[255&D])+v.charCodeAt(D++);return h(y)}function g(){try{if(u)return h(u.Ip(256));var v=new Uint8Array(256);(m.crypto||m.msCrypto).getRandomValues(v);return h(v)}catch(y){return v=m.navigator,[+new Date,m,v&&v.plugins,m.screen,h(a)]}}function h(v){return String.fromCharCode.apply(0,v)}function k(v){var y=this,C=l();y.next=function(){var D=2091639*y.g+2.3283064365386963E-10*y.c;y.g=y.i;y.i=y.o;return y.o=D-(y.c=D|0)};
y.c=1;y.g=C(" ");y.i=C(" ");y.o=C(" ");y.g-=C(v);0>y.g&&(y.g+=1);y.i-=C(v);0>y.i&&(y.i+=1);y.o-=C(v);0>y.o&&(y.o+=1);C=null}function l(){var v=4022871197;return function(y){y=y.toString();for(var C=0;C<y.length;C++){v+=y.charCodeAt(C);var D=.02519603282416938*v;v=D>>>0;D-=v;D*=v;v=D>>>0;D-=v;v+=4294967296*D}return 2.3283064365386963E-10*(v>>>0)}}var m=this,p=Math.pow(256,6),q=Math.pow(2,52),r=2*q,u,x=!0;b.seedrandom=function(v,y,C,D){y&&x&&(f(Math.random(),a),x=!1);y=[];C=1==C?{entropy:!0}:C||{};
v=f(e(C.entropy?[v,h(a)]:null==v?g():v,3),y);var F=new c(y);y=function(){for(var H=F.g(6),O=p,N=0;H<q;)H=256*(H+N),O*=256,N=F.g(1);for(;H>=r;)H/=2,O/=2,N>>>=1;return(H+N)/O};y.int32=function(){return F.g(4)|0};y.quick=function(){return F.g(4)/4294967296};y.double=y;f(h(F.Me),a);return(C.pass||D||function(H,O,N,R){R&&(R.Me&&d(R,F),H.state=function(){return d(F,{})});return N?(b.random=H,O):H})(y,v,"global"in C?C.global:this==b,C.state)};b.alea=function(v,y){var C=new k(v);v=y&&y.state;var D=C.next;
D.int32=function(){return 4294967296*C.next()|0};D.double=function(){return D()+1.1102230246251565E-16*(2097152*D()|0)};D.quick=D;v&&("object"==typeof v&&d(v,C),D.state=function(){return d(C,{})});return D}})([],Yu);var Zu=function(a,b,c,d,e){this.Gc=a;this.i=b;this.dtype=c;this.g=NaN;if(this.o=d)this.j=this.Gc+2*this.i,this.H=this.Gc-2*this.i;this.random=Yu.alea((e?e:Math.random()).toString())},$u=function(a){if(!isNaN(a.g)){var b=a.g;a.g=NaN;return b}for(b=!1;!b;){do{var c=2*a.random()-1;var d=2*a.random()-1;var e=c*c+d*d}while(1<=e||0===e);e=Math.sqrt(-2*Math.log(e)/e);c=a.Gc+a.i*c*e;d=a.Gc+a.i*d*e;if(!a.o||c<=a.j&&c>=a.H)b=!0}if(!a.o||d<=a.j&&d>=a.H)a.g=null==a.dtype||"float32"===a.dtype?d:Math.round(d);
return null==a.dtype||"float32"===a.dtype?c:Math.round(c)};function av(a,b,c){return new Rr(a,(void 0===b?"float32":b)||"float32",c)}
var bv=Q({jm:function(a,b,c){var d=U(a,"x","batchToSpaceND");a=b.reduce(function(e,f){return e*f});I(d.s>=1+b.length,"input rank is "+d.s+" but should be > than blockShape.length "+b.length);I(c.length===b.length,"crops.length is "+c.length+" but should be equal to blockShape.length  "+b.length);I(0===d.shape[0]%a,"input tensor batch is "+d.shape[0]+" but is not divisible by the product of "+("the elements of blockShape "+b.join(" * ")+" === "+a));return P(function(e){return e.ne(d,b,c)},{ma:d},function(e){return{ma:function(){return e.Ae(b,
c)}}})}}),cv=Q({sm:function(a,b){var c=U(a,"x","cast");return P(function(d){return d.Ib(c,b)},{ma:c},function(d){return{ma:function(){return d.clone()}}})}}),dv=Q({xm:function(a){var b=U(a,"x","clone",null);return P(function(){return Ur(b.shape,{Da:b.Da},b.dtype)},{ma:b},function(c){return{ma:function(){return ks(c)}}})}}),ev=Q({Ym:function(a,b,c,d){b=void 0===b?0:b;c=void 0===c?!1:c;d=void 0===d?!1:d;var e=U(a,"x","cumsum");b|=0;a=Lu([b],e.s);var f=e;null!=a&&(f=e.Ya(a));var g=Nu(1,e.s)[0];e=P(function(h){return h.Id(f,
g,c,d)},{Eh:f},function(h){return{Eh:function(){return h.Id(b,c,!d)}}});null!=a&&(e=e.Ya(a));return e}}),fv=Q({Zm:function(a,b,c){c=void 0===c?"NHWC":c;var d=U(a,"x","depthToSpace");a="NHWC"===c?d.shape[1]:d.shape[2];var e="NHWC"===c?d.shape[2]:d.shape[3],f="NHWC"===c?d.shape[3]:d.shape[1];I(0<=a*b,"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+b+"  for depthToSpace with input shape\n      "+d.shape);I(0<=e*b,"Negative dimension size caused by overflow when multiplying\n      "+
e+" and "+b+" for depthToSpace with input shape\n          "+d.shape);I(0===f%(b*b),"Dimension size must be evenly divisible by "+b*b+" but is "+f+" for depthToSpace with input shape "+d.shape);return P(function(g){return g.Qe(d,b,c)},{ma:d})}}),hv=Q({tn:function(a,b){b=void 0===b?0:b;a=U(a,"x","expandDims");I(b<=a.s,"Axis must be <= rank of the tensor");var c=a.shape.slice();0>b&&(I(-(a.s+1)<=b,"Axis must be in the interval ["+-(a.s+1)+", "+a.s+"]"),b=a.s+b+1);c.splice(b,0,1);return gv(a,c)}}),jv=
Q({wn:function(a,b,c,d){null==b&&(b=a);d=av([a,b],void 0===d?"float32":d);for(var e=a<=b?a:b,f=0;f<e;++f)d.set(1,f,f);a=bs(Vr(d),a,b);if(null==c)return a;if(1===c.length)return iv(hv(a,0),[c[0],1,1]);if(2===c.length)return iv(hv(hv(a,0),0),[c[0],c[1],1,1]);if(3===c.length)return iv(hv(hv(hv(a,0),0),0),[c[0],c[1],c[2],1,1]);throw Error("Ma`"+c.length);}}),kv=Q({Wo:function(a,b,c,d){d=void 0===d?!1:d;var e=U(a,"logits","multinomial"),f=e.size;a=e.s;if(2>f)throw Error("Na`"+f);if(2<a)throw Error("Oa`"+
a);c=c||Math.random();var g=1===a?bs(e,1,-1):e;e=P(function(h){return h.wh(g,d,b,c)},{yo:g});return 1===a?as(e):e}}),lv=Q({gp:function(a,b,c,d){c=void 0===c?1:c;d=void 0===d?0:d;if(2>b)throw Error("Pa`"+b);var e=U(a,"indices","oneHot","int32");a=[].concat(la(e.shape),[b]);e=e.flatten();return P(function(f){return f.we(e,b,c,d)},{Hg:e},function(){return{Hg:function(){return Rt(e.shape,"float32")}}}).ra(a)}}),mv=Q({yp:function(a,b,c){c=void 0===c?0:c;var d=U(a,"x","pad");if(0===d.s)throw Error("Qa");
var e=b.map(function(f){return f[0]});return P(function(f){return f.Bd(d,b,c)},{ma:d},function(f){return{ma:function(){return f.slice(e,d.shape)}}})}}),nv=Q({mp:function(a,b,c){c=void 0===c?0:c;I(2===b.length,"Invalid number of paddings. Must be length of 2.");return mv(a,[b],c)}}),ov=Q({qp:function(a,b,c){c=void 0===c?0:c;I(2===b.length&&2===b[0].length&&2===b[1].length,"Invalid number of paddings. Must be length of 2 each.");return mv(a,b,c)}}),pv=Q({vp:function(a,b,c){c=void 0===c?0:c;I(3===b.length&&
2===b[0].length&&2===b[1].length&&2===b[2].length,"Invalid number of paddings. Must be length of 2 each.");return mv(a,b,c)}}),qv=Q({xp:function(a,b,c){c=void 0===c?0:c;I(4===b.length&&2===b[0].length&&2===b[1].length&&2===b[2].length&&2===b[3].length,"Invalid number of paddings. Must be length of 2 each.");return mv(a,b,c)}}),rv=Q({Hp:function(a,b,c){var d=J(a);if(null==c||"float32"===c)var e=new Float32Array(d);else if("int32"===c)e=new Int32Array(d);else if("bool"===c)e=new Uint8Array(d);else throw Error("w`"+
c);for(var f=0;f<d;f++)e[f]=b();return Ur(a,{values:e},c)}}),sv=Q({Kp:function(a,b,c,d,e){if(null!=d&&"bool"===d)throw Error("Ra`"+d);b=new Zu(void 0===b?0:b,void 0===c?1:c,d,!1,e);a=av(a,d);for(d=0;d<a.values.length;d++)a.values[d]=$u(b);return Vr(a)}}),tv=Q({Lp:function(a,b,c,d){b=void 0===b?0:b;c=void 0===c?1:c;a=av(a,void 0===d?"float32":d);for(d=0;d<a.values.length;d++){var e=Math.random();a.values[d]=c*e+(1-e)*b}return Vr(a)}}),gv=Q({Tp:function(a,b){var c=U(a,"x","reshape",null);b=qr(b,c.size);
I(c.size===J(b),"new shape and old shape must have the same number of elements.");return P(function(d){return d.ra(c,b)},{ma:c},function(d){return{ma:function(){return d.ra(c.shape)}}})}}),uv=Q({Kq:function(a,b,c){var d=U(a,"x","spaceToBatchND");I(d.s>=1+b.length,"input rank "+d.s+" should be > than [blockShape] "+b.length);I(c.length===b.length,"paddings.shape[0] "+c.length+" must be equal to [blockShape] "+b.length);I(d.shape.reduce(function(e,f,g){return 0<g&&g<=b.length?e&&0===(f+c[g-1][0]+c[g-
1][1])%b[g-1]:e},!0),"input spatial dimensions "+d.shape.slice(1)+" with paddings "+c.toString()+" must be divisible by blockShapes "+b.toString());return P(function(e){return e.Ae(d,b,c)},{ma:d},function(e){return{ma:function(){return e.ne(b,c)}}})}}),vv=Q({Rq:function(a,b){a=U(a,"x","squeeze");return gv(a,sr(a.shape,b).Vd)}}),wv=Q({Tq:function(a,b){b=void 0===b?0:b;a=lt(a,"tensors","stack");I(1<=a.length,"Pass at least one tensor to tf.stack");if(1===a.length)return a[0].We(b);var c=a[0].shape,
d=a[0].dtype;I(b<=a[0].s,"Axis must be <= rank of the tensor");a.forEach(function(e){hr(c,e.shape,"All tensors passed to stack must have matching shapes")});a.forEach(function(e){I(d===e.dtype,"All tensors passed to stack must have matching dtypes")});a=a.map(function(e){return e.We(b)});return Tu(a,b)}}),iv=Q({gr:function(a,b){var c=U(a,"x","tile");I(c.s===b.length,"Error in transpose: rank of input "+c.s+" "+("must match length of reps "+b+"."));return P(function(d){return d.ae(c,b)},{ma:c},function(d){return{ma:function(){var e=
Ut(c);if(1===c.s)for(var f=0;f<b[0];++f)e=e.add(d.slice([f*c.shape[0]],[c.shape[0]]));else if(2===c.s)for(f=0;f<b[0];++f)for(var g=0;g<b[1];++g)e=e.add(d.slice([f*c.shape[0],g*c.shape[1]],[c.shape[0],c.shape[1]]));else if(3===c.s)for(f=0;f<b[0];++f)for(g=0;g<b[1];++g)for(var h=0;h<b[2];++h)e=e.add(d.slice([f*c.shape[0],g*c.shape[1],h*c.shape[2]],[c.shape[0],c.shape[1],c.shape[2]]));else if(4===c.s)for(f=0;f<b[0];++f)for(g=0;g<b[1];++g)for(h=0;h<b[2];++h)for(var k=0;k<b[3];++k)e=e.add(d.slice([f*c.shape[0],
g*c.shape[1],h*c.shape[2],k*c.shape[3]],[c.shape[0],c.shape[1],c.shape[2],c.shape[3]]));else throw Error("Sa`"+c.s);return e}}})}}),xv=Q({mr:function(a,b,c,d,e){if(null!=d&&"bool"===d)throw Error("Ra`"+d);b=new Zu(void 0===b?0:b,void 0===c?1:c,d,!0,e);a=av(a,d);for(d=0;d<a.values.length;d++)a.values[d]=$u(b);return Vr(a)}}),yv=Q({pr:function(a,b){b=(b=void 0===b?0:b)||0;var c=U(a,"x","unstack");I(b>=-c.shape.length&&b<c.shape.length,"Axis = "+b+" is not in [-"+c.shape.length+", "+c.shape.length+")");
0>b&&(b+=c.shape.length);return P(function(d){return d.Df(c,b)},{ma:c},function(d){return{ma:function(){return wv(d,b)}}})}});function zv(a,b){for(var c=[],d=0;d<b.length;d++)b[d]&&c.push(d);b=av(a,"int32");d=av([c.length,a.length],"int32");for(var e=0;e<c.length;e++){var f=Tr(b,c[e]);d.values.set(f,e*a.length)}return Vr(d)};function Av(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];K.get("IS_TEST")||console.warn.apply(console,la(b))};function Bv(a,b,c,d){var e=[];if(void 0===d||d)e=e.concat(b.slice(0)),e.push(a[0]/c),e=e.concat(a.slice(1));else{e=e.concat(a[0]);c=b.length;for(d=0;d<c;++d)e=e.concat([a[d+1]/b[d],b[d]]);e=e.concat(a.slice(c+1))}return e}function Cv(a,b,c){var d=[];if(void 0===c||c)for(d.push(b),c=b+1;c<a;++c)c<=2*b?(d.push(c),d.push(c-(b+1))):d.push(c);else{c=[];for(var e=[],f=1;f<a;++f)f>=2*b+1||1===f%2?e.push(f):c.push(f);d.push.apply(d,la(c));d.push(0);d.push.apply(d,la(e))}return d}
function Dv(a,b,c,d){d=void 0===d?!0:d;var e=[];d?e.push(a[0]/c):e.push(a[0]*c);for(c=1;c<a.length;++c)c<=b.length?d?e.push(b[c-1]*a[c]):e.push(a[c]/b[c-1]):e.push(a[c]);return e}function Ev(a,b){for(var c=[0],d=0;d<b;++d)c.push(a[d][0]);return c}function Fv(a,b,c){for(var d=a.slice(0,1),e=0;e<c;++e)d.push(a[e+1]-b[e][0]-b[e][1]);return d};function Gv(a,b){for(var c=a.length,d=[],e=0;e<c;e++){var f=c-1-e,g=a[f]||1;1<(b[b.length-1-e]||1)&&1===g&&d.unshift(f)}return d}function Hv(a,b){for(var c=[],d=0;d<b.length;d++){var e=a[a.length-d-1],f=b.length-d-1,g=b[f];(null==e||1===e&&1<g)&&c.unshift(f)}return c}
function Iv(a,b){for(var c=[],d=Math.max(a.length,b.length),e=0;e<d;e++){var f=a[a.length-e-1];null==f&&(f=1);var g=b[b.length-e-1];null==g&&(g=1);if(1===f)c.unshift(g);else{if(1!==g&&f!==g)throw Error("Ta`"+a+"`"+b);c.unshift(f)}}return c};function Jv(a,b){if(1>a.s)throw Error("Ua`"+a.s);if(1>b.s)throw Error("Va`"+b.s);if("int32"!==b.dtype)throw Error("Wa`"+b.dtype);if(b.shape[b.s-1]>a.s)throw Error("Xa`"+b.shape[b.s-1]+"`"+a.s);if(0===a.size)throw Error("Ya`"+a.shape);var c=b.shape,d=c[c.length-1];b=1;for(var e=0;e<c.length-1;++e)b*=c[e];e=a.shape;c=c.slice();c.pop();for(var f=1,g=d;g<a.s;++g)f*=e[g],c.push(e[g]);a=[].concat(la(Cr(a.shape).map(function(h){return h/f})),[1]).slice(0,d);return[c,b,f,a]};var Kv=Q({yl:function(a){var b=U(a,"x","abs");return"complex64"===b.dtype?P(function(c){return c.$h(b)},{ma:b}):P(function(c){return c.abs(b)},{ma:b},function(c){return{ma:function(){return c.Zb(ks(b).step(-1))}}})}}),Lv=Q({Bl:function(a){var b=U(a,"x","acos");return P(function(c){return c.acos(b)},{ma:b},function(c){return{ma:function(){return c.Wc(Nt(1).sub(ks(b).kb()).sqrt()).Kb()}}})}}),Mv=Q({Cl:function(a){var b=U(a,"x","acosh");return P(function(c){return c.acosh(b)},{ma:b},function(c){return{ma:function(){return c.Wc(ks(b).kb().sub(1).sqrt())}}})}}),
Nv=Q({Kl:function(a){var b=U(a,"x","asin");return P(function(c){return c.asin(b)},{ma:b},function(c){return{ma:function(){return c.Wc(Nt(1).sub(ks(b).kb()).sqrt())}}})}}),Ov=Q({Ll:function(a){var b=U(a,"x","asinh");return P(function(c){return c.asinh(b)},{ma:b},function(c){return{ma:function(){return c.Wc(Nt(1).add(ks(b).kb()).sqrt())}}})}}),Pv=Q({Nl:function(a){var b=U(a,"x","atan");return P(function(c){return c.atan(b)},{ma:b},function(c){return{ma:function(){return c.Va(ks(b).kb().add(1))}}})}}),
Qv=Q({Ol:function(a){var b=U(a,"x","atanh");return P(function(c){return c.atanh(b)},{ma:b},function(c){return{ma:function(){return c.Va(Nt(1).sub(ks(b).kb()))}}})}}),Rv=Q({um:function(a){var b=U(a,"x","ceil");return P(function(c){return c.ceil(b)},{ma:b},function(c){return{ma:function(){return Ut(c)}}})}}),Sv=Q({wm:function(a,b,c){var d=U(a,"x","clipByValue");I(b<=c,"Error in clip: min ("+b+") must be "+("less than or equal to max ("+c+")."));return P(function(e){return e.Wi(d,b,c)},{ma:d},function(e){return{ma:function(){return e.de(d.wd(b).Sd(d.xd(c)),
Ut(e))}}})}}),Tv=Q({Tm:function(a){var b=U(a,"x","cos");return P(function(c){return c.cos(b)},{ma:b},function(c){return{ma:function(){return ks(b).sin().Kb().Zb(c)}}})}}),Uv=Q({Um:function(a){var b=U(a,"x","cosh");return P(function(c){return c.cosh(b)},{ma:b},function(c){return{ma:function(){return ks(b).sinh().Zb(c)}}})}}),Vv=Q({qn:function(a){var b=U(a,"x","erf");I("int32"===b.dtype||"float32"===b.dtype,"Input dtype must be `int32` or `float32`.");"int32"===b.dtype&&(b=ks(b));return P(function(c){return c.Ve(b)},
{ma:b},function(c){return{ma:function(){return c.ka(b.kb().Kb().exp().ka(2/Math.sqrt(Math.PI)))}}})}}),Wv=Q({rn:function(a){var b=U(a,"x","exp");return P(function(c,d){return d(c.exp(b))},{ma:b},function(c,d){var e=t(d).next().value;return{ma:function(){return c.Zb(e)}}})}}),Xv=Q({un:function(a){var b=U(a,"x","expm1");return P(function(c){return c.expm1(b)},{ma:b},function(c){return{ma:function(){return c.Zb(b.exp())}}})}}),Yv=Q({An:function(a){var b=U(a,"x","floor");return P(function(c){return c.floor(b)},
{ma:b},function(c){return{ma:function(){return Ut(c)}}})}}),Zv=Q({to:function(a){var b=U(a,"x","log");return P(function(c){return c.log(b)},{ma:b},function(c){return{ma:function(){return c.Wc(ks(b))}}})}}),$v=Q({ko:function(a){var b=U(a,"x","log1p");return P(function(c){return c.log1p(b)},{ma:b},function(c){return{ma:function(){return c.Va(b.add(1))}}})}}),aw=Q({oo:function(a){var b=U(a,"x","logSigmoid");return P(function(c){return c.ze(b.Kb()).Kb()},{ma:b},function(c){return{ma:function(){return c.Zb(b.Kb().Hc())}}})}}),
bw=Q({Xo:function(a){var b=U(a,"x","neg");return P(function(c){return c.Kb(b)},{ma:b},function(c){return{ma:function(){return c.Kb()}}})}}),cw=Q({Np:function(a){var b=U(a,"x","reciprocal");return P(function(c){return c.uf(b)},{ma:b},function(c){return{ma:function(){return c.Wc(b.kb().Kb())}}})}}),dw=Q({hq:function(a){var b=U(a,"x","round");return P(function(c){return c.round(b)},{ma:b},function(c){return{ma:function(){return Ut(c)}}})}}),ew=Q({iq:function(a){var b=U(a,"x","rsqrt");return P(function(c){return c.yf(b)},
{ma:b},function(c){return{ma:function(){return c.Va(b.pow(1.5).ka(2)).Kb()}}})}}),fw=Q({rq:function(a){var b=U(a,"x","sigmoid");return P(function(c,d){return d(c.Hc(b))},{ma:b},function(c,d){var e=t(d).next().value;return{ma:function(){return c.ka(e.ka(Nt(1).sub(e)))}}})}}),gw=Q({sq:function(a){var b=U(a,"x","sign");return P(function(c){return c.sign(b)},{ma:b},function(c){return{ma:function(){return Ut(c)}}})}}),hw=Q({tq:function(a){var b=U(a,"x","sin");return P(function(c){return c.sin(b)},{ma:b},
function(c){return{ma:function(){return ks(b).cos().Zb(c)}}})}}),iw=Q({uq:function(a){var b=U(a,"x","sinh");return P(function(c){return c.sinh(b)},{ma:b},function(c){return{ma:function(){return ks(b).cosh().Zb(c)}}})}}),jw=Q({Iq:function(a){var b=U(a,"x","softplus");return P(function(c){return c.ze(b)},{ma:b},function(c){return{ma:function(){return c.Zb(b.Hc())}}})}}),kw=Q({Nq:function(a){var b=U(a,"x","sqrt");return P(function(c){return c.sqrt(b)},{ma:b},function(c){return{ma:function(){return c.Va(ks(b).sqrt().ka(2))}}})}}),
lw=Q({Oq:function(a){var b=U(a,"x","square");return P(function(c){return c.kb(b)},{ma:b},function(c){return{ma:function(){return c.ka(ks(b).ka(2))}}})}}),mw=Q({Vq:function(a,b){b=void 0===b?0:b;var c=U(a,"x","step");return P(function(d){return d.step(c,b)},{ma:c},function(d){return{ma:function(){return Ut(d)}}})}}),nw=Q({$q:function(a){var b=U(a,"x","tan");return P(function(c){return c.tan(b)},{ma:b},function(c){return{ma:function(){return c.Wc(b.cos().kb())}}})}}),ow=Q({ar:function(a){var b=U(a,
"x","tanh");return P(function(c,d){return d(c.tanh(b))},{ma:b},function(c,d){var e=t(d).next().value;return{ma:function(){return Nt(1).sub(e.kb()).Zb(c)}}})}});function pw(a,b,c,d,e,f){a=U(a,"x","batchNorm");b=U(b,"mean","batchNorm");c=U(c,"variance","batchNorm");var g;null!=e&&(g=U(e,"scale","batchNorm"));var h;null!=d&&(h=U(d,"offset","batchNorm"));I(2===a.s,"Error in batchNorm3D: x must be rank 3 but got rank "+(a.s+"."));I(2===b.s||1===b.s,"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+("got rank "+b.s+"."));I(2===c.s||1===c.s,"Error in batchNorm2D: variance must be rank 2 or rank 1 "+("but got rank "+c.s+"."));null!=g&&I(2===g.s||1===g.s,
"Error in batchNorm2D: scale must be rank 2 or rank 1 "+("but got rank "+g.s+"."));null!=h&&I(2===h.s||1===h.s,"Error in batchNorm2D: offset must be rank 2 or rank 1 "+("but got rank "+h.s+"."));return qw(a,b,c,h,g,f)}
function rw(a,b,c,d,e,f){a=U(a,"x","batchNorm");b=U(b,"mean","batchNorm");c=U(c,"variance","batchNorm");var g;null!=e&&(g=U(e,"scale","batchNorm"));var h;null!=d&&(h=U(d,"offset","batchNorm"));I(3===a.s,"Error in batchNorm3D: x must be rank 3 but got rank "+(a.s+"."));I(3===b.s||1===b.s,"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+("got rank "+b.s+"."));I(3===c.s||1===c.s,"Error in batchNorm3D: variance must be rank 3 or rank 1 "+("but got rank "+c.s+"."));null!=g&&I(3===g.s||1===g.s,
"Error in batchNorm3D: scale must be rank 3 or rank 1 "+("but got rank "+g.s+"."));null!=h&&I(3===h.s||1===h.s,"Error in batchNorm3D: offset must be rank 3 or rank 1 "+("but got rank "+h.s+"."));return qw(a,b,c,h,g,f)}
function sw(a,b,c,d,e,f){a=U(a,"x","batchNorm");b=U(b,"mean","batchNorm");c=U(c,"variance","batchNorm");var g;null!=e&&(g=U(e,"scale","batchNorm"));var h;null!=d&&(h=U(d,"offset","batchNorm"));I(4===a.s,"Error in batchNorm4D: x must be rank 4 but got rank "+(a.s+"."));I(4===b.s||1===b.s,"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+("got rank "+b.s+"."));I(4===c.s||1===c.s,"Error in batchNorm4D: variance must be rank 4 or rank 1 "+("but got rank "+c.s+"."));null!=g&&I(4===g.s||1===g.s,
"Error in batchNorm4D: scale must be rank 4 or rank 1 "+("but got rank "+g.s+"."));null!=h&&I(4===h.s||1===h.s,"Error in batchNorm4D: offset must be rank 4 or rank 1 "+("but got rank "+h.s+"."));return qw(a,b,c,h,g,f)}
function qw(a,b,c,d,e,f){null==f&&(f=.001);var g=U(a,"x","batchNorm"),h=U(b,"mean","batchNorm"),k=U(c,"variance","batchNorm"),l;null!=e&&(l=U(e,"scale","batchNorm"));var m;null!=d&&(m=U(d,"offset","batchNorm"));I(h.s===k.s,"Batch normalization gradient requires mean and variance to have equal ranks.");I(null==m||h.s===m.s,"Batch normalization gradient requires mean and offset to have equal ranks.");I(null==l||h.s===l.s,"Batch normalization gradient requires mean and scale to have equal ranks.");var p=
0===g.s||1===g.s?ds(g,1,1,1,g.size):2===g.s?ds(g,1,1,g.shape[0],g.shape[1]):3===g.s?ds(g,1,g.shape[0],g.shape[1],g.shape[2]):g;return P(function(q){return q.Vf(p,tw(h),tw(k),f,tw(l),tw(m))},{ma:g,xj:h,Aj:k,zj:l,yj:m},function(q){var r=null==l?Nt(1):l,u=Hv(h.shape,p.shape),x=[];if(1===h.s){for(var v=0;v<p.shape.length-1;++v)x.push(p.shape[v]);x.push(1)}var y=g.sub(h),C=q.ka(r),D=ew(k.add(Nt(f))),F=D.ka(D).ka(D).ka(Nt(-.5));return{ma:function(){return 1===h.s?q.ka(iv(ds(D,1,1,1,h.shape[0]),x)).ka(r).ra(g.shape):
q.ka(D).ka(r).ra(g.shape)},xj:function(){var H=D.ka(Nt(-1)).ka(C);1===h.s&&(H=H.Na(u));return H.ra(h.shape)},Aj:function(){var H=F.ka(y).ka(C);1===h.s&&(H=H.Na(u));return H.ra(h.shape)},zj:function(){var H=y.ka(D);H=q.ka(H);1===h.s&&(H=H.Na(u));return H.ra(h.shape)},yj:function(){var H=q;1===h.s&&(H=H.Na(u));return H.ra(h.shape)}}}).ra(g.shape)}
function tw(a){if(null==a)return null;if(0===a.s)return as(a);if(1!==a.s){if(2===a.s)return ds(a,1,1,a.shape[0],a.shape[1]);if(3===a.s)return ds(a,1,a.shape[0],a.shape[1],a.shape[2])}return a}function uw(){et("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}
var vw=Q({am:function(a,b,c,d,e,f){d=void 0===d?.001:d;uw();return pw(a,b,c,f,e,d)}}),ww=Q({dm:function(a,b,c,d,e,f){d=void 0===d?.001:d;uw();return rw(a,b,c,f,e,d)}}),xw=Q({hm:function(a,b,c,d,e,f){d=void 0===d?.001:d;uw();return sw(a,b,c,f,e,d)}}),yw=Q({im:function(a,b,c,d,e,f){d=void 0===d?.001:d;uw();return qw(a,b,c,f,e,d)}}),zw=Q({Zl:qw}),Aw=Q({Ul:pw}),Bw=Q({Wl:rw}),Cw=Q({Yl:sw});var Dw=Q({Fl:function(a,b){var c=U(a,"a","add"),d=U(b,"b","add");a=t(us(c,d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.add(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=f,h=Hv(c.shape,e);0<h.length&&(g=g.Na(h));return g.ra(c.shape)},Ua:function(){var g=f,h=Hv(d.shape,e);0<h.length&&(g=g.Na(h));return g.ra(d.shape)}}})}}),Ew=Q({Dl:function(a){I(Array.isArray(a),function(){return"The argument passed to tf.addN() must be a list of tensors"});
I(1<=a.length,function(){return"Must pass at least one tensor to tf.addN(), but got "+a.length});var b=a.map(function(d,e){return U(d,"tensors"+e,"addN")}),c=b[0];b.forEach(function(d){if(d.dtype!==c.dtype)throw Error("Za");});b.forEach(function(d){if(!ir(d.shape,c.shape))throw Error("$a");});return P(function(d){return d.Wg(b)},b,function(d){var e={};b.forEach(function(f,g){e[g]=function(){return d.clone()}});return e})}}),Fw=Q({El:function(a,b){a=U(a,"a","addStrict");b=U(b,"b","addStrict");hr(a.shape,
b.shape,"Error in addStrict: ");return a.add(b)}}),Gw=Q({Ml:function(a,b){var c=U(a,"a","atan2"),d=U(b,"b","atan2");a=t(us(c,d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.atan2(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=Dw(c.kb(),d.kb());g=f.ka(d.Va(g));var h=Hv(c.shape,e);0<h.length&&(g=g.Na(h));return g.ra(c.shape)},Ua:function(){var g=Dw(c.kb(),d.kb());g=bw(f.ka(c.Va(g)));var h=Hv(d.shape,e);0<h.length&&(g=g.Na(h));return g.ra(d.shape)}}})}}),
Iw=Q({cn:function(a,b){var c=U(a,"a","div"),d=U(b,"b","div");a=t(us(c,d));c=a.next().value;d=a.next().value;if("int32"===c.dtype&&"int32"===d.dtype)return Hw(c,d);var e=Iv(c.shape,d.shape);return P(function(f){return f.dj(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=f.Va(ks(d)),h=Hv(c.shape,e);return 0<h.length?g.Na(h).ra(c.shape):g},Ua:function(){var g=f.ka(ks(c)),h=Hv(d.shape,e);0<h.length&&(g=g.Na(h).ra(d.shape));h=d.kb();return g.Va(ks(h)).Kb()}}})}}),Jw=Q({bn:function(a,b){a=U(a,
"a","div");b=U(b,"b","div");hr(a.shape,b.shape,"Error in divideStrict: ");return a.Va(b)}}),Hw=Q({zn:function(a,b){var c=U(a,"a","floorDiv"),d=U(b,"b","floorDiv");a=t(us(c,d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.Ze(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=f.Va(ks(d)),h=Hv(c.shape,e);return 0<h.length?g.Na(h).ra(c.shape):g},Ua:function(){var g=f.ka(ks(c)),h=Hv(d.shape,e);0<h.length&&(g=g.Na(h).ra(d.shape));h=d.kb();return g.Va(ks(h)).Kb()}}})}}),
Kw=Q({Do:function(a,b){var c=U(a,"a","maximum"),d=U(b,"b","maximum");a=t(us(c,d));c=a.next().value;d=a.next().value;"bool"===c.dtype&&(c=ls(c),d=ls(d));Iv(c.shape,d.shape);return P(function(e){return e.yd(c,d)},{Ta:c,Ua:d},function(e){return{Ta:function(){return e.ka(ks(c.wd(d)))},Ua:function(){return e.ka(ks(c.Lc(d)))}}})}}),Lw=Q({Co:function(a,b){a=U(a,"a","maximumStrict");b=U(b,"b","maximumStrict");hr(a.shape,b.shape,"Error in maximumStrict: ");return a.yd(b)}}),Mw=Q({Jo:function(a,b){var c=U(a,
"a","minimum"),d=U(b,"b","minimum");a=t(us(c,d));c=a.next().value;d=a.next().value;"bool"===c.dtype&&(c=ls(c),d=ls(d));Iv(c.shape,d.shape);return P(function(e){return e.Ud(c,d)},{Ta:c,Ua:d},function(e){return{Ta:function(){return e.ka(ks(c.xd(d)))},Ua:function(){return e.ka(ks(c.Ec(d)))}}})}}),Nw=Q({Io:function(a,b){a=U(a,"a","minimumStrict");b=U(b,"b","minimumStrict");hr(a.shape,b.shape,"Error in minimumStrict: ");return a.Ud(b)}}),Ow=Q({Lo:function(a,b){var c=U(a,"a","mod"),d=U(b,"b","mod");a=t(us(c,
d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.ue(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=Hv(c.shape,e);return 0<g.length?f.Na(g).ra(c.shape):f},Ua:function(){var g=f.ka(c.Va(d).floor().Kb()),h=Hv(d.shape,e);return 0<h.length?g.Na(h).ra(d.shape):g}}})}}),Pw=Q({Ko:function(a,b){a=U(a,"a","modStrict");b=U(b,"b","modStrict");hr(a.shape,b.shape,"Error in modStrict: ");return a.ue(b)}}),Qw=Q({To:function(a,b){var c=U(a,"a","mul"),d=U(b,"b",
"mul");a=t(us(c,d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.lf(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=f.ka(ks(d)),h=Hv(c.shape,e);return 0<h.length?g.Na(h).ra(c.shape):g},Ua:function(){var g=f.ka(ks(c)),h=Hv(d.shape,e);return 0<h.length?g.Na(h).ra(d.shape):g}}})}}),Rw=Q({So:function(a,b){a=U(a,"a","mul");b=U(b,"b","mul");hr(a.shape,b.shape,"Error in multiplyStrict: ");return a.ka(b)}}),Sw=Q({Bp:function(a,b){var c=U(a,"base","pow"),
d=U(b,"exp","pow"),e=Iv(c.shape,d.shape);a=c.Ib(ts(c.dtype,d.dtype));b=d.Ib(ts(c.dtype,d.dtype));return P(function(f,g){return g(f.pow(c,d))},{sj:c,wj:d},function(f,g){var h=t(g).next().value;return{sj:function(){var k=ks(d);k=f.ka(k.ka(c.pow(k.sub(Nt(1)))));var l=Hv(c.shape,e);0<l.length&&(k=k.Na(l));return k.ra(c.shape)},wj:function(){var k=c.Ec(0);k=c.log().de(k,Ut(c));k=f.ka(h.ka(k));var l=Hv(d.shape,e);0<l.length&&(k=k.Na(l));return k.ra(d.shape)}}})}}),Tw=Q({Ap:function(a,b){hr(a.shape,b.shape,
"Error in powStrict: ");return a.pow(b)}}),Uw=Q({Qq:function(a,b){var c=U(a,"a","squaredDifference"),d=U(b,"b","squaredDifference");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.$d(c,d)},{Ta:c,Ua:d},function(e){var f=Nt(2);return{Ta:function(){return e.ka(c.sub(d).ka(f))},Ua:function(){return e.ka(d.sub(c).ka(f))}}})}}),Vw=Q({Pq:function(a,b){a=U(a,"a","squaredDifferenceStrict");b=U(b,"b","squaredDifferenceStrict");hr(a.shape,b.shape,"Error in squaredDifferenceStrict: ");
return a.$d(b)}}),Ww=Q({Yq:function(a,b){var c=U(a,"a","sub"),d=U(b,"b","sub");a=t(us(c,d));c=a.next().value;d=a.next().value;var e=Iv(c.shape,d.shape);return P(function(f){return f.rh(c,d)},{Ta:c,Ua:d},function(f){return{Ta:function(){var g=f,h=Hv(c.shape,e);0<h.length&&(g=g.Na(h));return g.ra(c.shape)},Ua:function(){var g=f,h=Hv(d.shape,e);0<h.length&&(g=g.Na(h));return g.Kb().ra(d.shape)}}})}}),Xw=Q({Xq:function(a,b){a=U(a,"a","subStrict");b=U(b,"b","subStrict");hr(a.shape,b.shape,"Error in subStrict: ");
return a.sub(b)}});var Yw=Q({on:function(a,b){var c=U(a,"a","equal"),d=U(b,"b","equal");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.Ic(c,d)},{Ta:c,Ua:d})}}),Zw=Q({nn:function(a,b){a=U(a,"a","equalStrict");b=U(b,"b","equalStrict");hr(a.shape,b.shape,"Error in equalStrict: ");return a.Ic(b)}}),$w=Q({Kn:function(a,b){var c=U(a,"a","greater"),d=U(b,"b","greater");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.Ec(c,d)},
{Ta:c,Ua:d})}}),ax=Q({In:function(a,b){var c=U(a,"a","greaterEqual"),d=U(b,"b","greaterEqual");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.wd(c,d)},{Ta:c,Ua:d},function(){return{Ta:function(){return Ut(c)},Ua:function(){return Ut(d)}}})}}),bx=Q({Hn:function(a,b){a=U(a,"a","greaterEqualStrict");b=U(b,"b","greaterEqualStrict");hr(a.shape,b.shape,"Error in greaterEqualStrict: ");return a.wd(b)}}),cx=Q({Jn:function(a,b){a=U(a,"a","greaterStrict");b=
U(b,"b","greaterStrict");hr(a.shape,b.shape,"Error in greaterStrict: ");return a.Ec(b)}}),dx=Q({fo:function(a,b){var c=U(a,"a","less"),d=U(b,"b","less");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.Lc(c,d)},{Ta:c,Ua:d})}}),ex=Q({co:function(a,b){var c=U(a,"a","lessEqual"),d=U(b,"b","lessEqual");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.xd(c,d)},{Ta:c,Ua:d})}}),fx=Q({bo:function(a,b){a=U(a,"a",
"lessEqualStrict");b=U(b,"b","lessEqualStrict");hr(a.shape,b.shape,"Error in lessEqualStrict: ");return a.xd(b)}}),gx=Q({eo:function(a,b){a=U(a,"a","lessStrict");b=U(b,"b","lessStrict");hr(a.shape,b.shape,"Error in lessStrict: ");return a.Lc(b)}}),hx=Q({bp:function(a,b){var c=U(a,"a","notEqual"),d=U(b,"b","notEqual");a=t(us(c,d));c=a.next().value;d=a.next().value;Iv(c.shape,d.shape);return P(function(e){return e.zd(c,d)},{Ta:c,Ua:d})}}),ix=Q({ap:function(a,b){a=U(a,"a","notEqualStrict");b=U(b,"b",
"notEqualStrict");hr(a.shape,b.shape,"Error in notEqualStrict: ");return a.zd(b)}});function jx(a,b,c,d,e,f){var g=void 0===g?"channelsLast":g;var h=t(kx(b));b=h.next().value;h=h.next().value;if("channelsLast"===g)b=[b,h,a[3],a[3]];else if("channelsFirst"===g)b=[b,h,a[1],a[1]];else throw Error("ab`"+g);return lx(a,b,c,d,e,f,!1,g)}
function lx(a,b,c,d,e,f,g,h){g=void 0===g?!1:g;h=void 0===h?"channelsLast":h;var k=t([-1,-1,-1,-1]);k.next();k.next();k.next();k.next();if("channelsLast"===h){var l=t(a);k=l.next().value;var m=l.next().value;var p=l.next().value;l=l.next().value}else if("channelsFirst"===h)p=t(a),k=p.next().value,l=p.next().value,m=p.next().value,p=p.next().value;else throw Error("ab`"+h);var q=t(b),r=q.next().value,u=q.next().value;q.next();q=q.next().value;var x=t(kx(c));c=x.next().value;x=x.next().value;var v=
t(kx(d));d=v.next().value;v=v.next().value;var y=mx(r,d),C=mx(u,v),D=m,F=p;if("number"===typeof e){var H={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};F=[D,F,1];null==e&&(e=Math.floor((F[0]*(c-1)-c+mx(y,1))/2));D=F[1];F=nx((F[0]-y+2*e)/c+1,f);I(0===F%1,"The output # of rows ("+F+") must be an integer. Change the stride and/or zero pad parameters");f=nx((D-y+2*e)/c+1,f);I(0===f%1,"The output # of columns ("+f+") must be an integer. Change the stride and/or zero pad parameters");e=[F,
f,1];f=e[0];e=e[1]}else if("same"===e){f=Math.ceil(D/c);e=Math.ceil(F/x);H=(f-1)*c+y-D;F=(e-1)*x+C-F;D=Math.floor(H/2);var O=Math.floor(F/2);H={top:D,bottom:H-D,left:O,right:F-O,type:"SAME"}}else if("valid"===e)H={top:0,bottom:0,left:0,right:0,type:"VALID"},f=Math.ceil((D-y+1)/c),e=Math.ceil((F-C+1)/x);else throw Error("bb`"+e);g=g?q*l:q;var N;"channelsFirst"===h?N=[k,g,f,e]:"channelsLast"===h&&(N=[k,f,e,g]);return{Cb:k,Jd:h,Eb:m,Fb:p,hb:l,Lb:f,Gb:e,Ab:g,Ia:H,rb:c,lb:x,Mb:r,Db:u,Ld:y,Md:C,Ub:d,Yb:v,
Zc:a,Qb:N,Nd:b}}
function ox(a,b,c,d,e){var f=void 0===f?!1:f;var g=void 0===g?"channelsLast":g;var h=t([-1,-1,-1,-1,-1]);h.next();h.next();h.next();h.next();h.next();if("channelsLast"===g){var k=t(a);h=k.next().value;var l=k.next().value;var m=k.next().value;var p=k.next().value;k=k.next().value}else if("channelsFirst"===g)p=t(a),h=p.next().value,k=p.next().value,l=p.next().value,m=p.next().value,p=p.next().value;else throw Error("ab`"+g);var q=t(b),r=q.next().value,u=q.next().value,x=q.next().value;q.next();q=q.next().value;
var v=t("number"===typeof c?[c,c,c]:c);c=v.next().value;var y=v.next().value;v=v.next().value;var C=t("number"===typeof d?[d,d,d]:d);d=C.next().value;var D=C.next().value;C=C.next().value;var F=mx(r,d),H=mx(u,D),O=mx(x,C);if("same"===e){var N=Math.ceil(l/c);var R=Math.ceil(m/y);e=Math.ceil(p/v);var S=(N-1)*c+F-l;H=(R-1)*y+H-m;O=(e-1)*v+O-p;F=Math.floor(S/2);var W=Math.floor(H/2),X=Math.floor(O/2);S={top:W,bottom:H-W,left:X,right:O-X,Od:F,back:S-F,type:"SAME"}}else if("valid"===e)S={top:0,bottom:0,
left:0,right:0,Od:0,back:0,type:"VALID"},N=Math.ceil((l-F+1)/c),R=Math.ceil((m-H+1)/y),e=Math.ceil((p-O+1)/v);else throw Error("bb`"+e);f=f?q*k:q;var T;"channelsFirst"===g?T=[h,f,N,R,e]:"channelsLast"===g&&(T=[h,N,R,e,f]);return{Cb:h,Jd:g,ef:l,Eb:m,Fb:p,hb:k,qf:N,Lb:R,Gb:e,Ab:f,Ia:S,Be:c,rb:y,lb:v,Ye:r,Mb:u,Db:x,mi:d,Ub:D,Yb:C,Zc:a,Qb:T,Nd:b}}function kx(a){return"number"===typeof a?[a,a]:a}function mx(a,b){return 1>=b?a:a+(a-1)*(b-1)}
function nx(a,b){if(!b)return a;switch(b){case "round":return Math.round(a);case "ceil":return Math.ceil(a);case "floor":return Math.floor(a);default:throw Error("cb`"+b);}}function px(a){var b=t(kx(a));a=b.next().value;b=b.next().value;return 1===a&&1===b}function qx(a,b){return px(a)||px(b)};function rx(a,b,c,d,e,f){I(a.length===b.s,"Length of inShape "+("("+a.length+") and rank of dy ("+b.s+") must match"));var g=a,h=b,k=!1;3===b.s&&(k=!0,h=ds(b,1,b.shape[0],b.shape[1],b.shape[2]),g=[1,a[0],a[1],a[2]]);a=g[3];b=h.shape[3];I(4===g.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+(g.length+"."));I(4===h.s,"Error in conv2dDerInput: dy must be rank 4, but got rank "+h.s);I(4===c.s,"Error in conv2dDerInput: filter must be rank 4, but got rank "+c.s);I(a===c.shape[2],
"Error in conv2dDerInput: depth of input ("+a+") must "+("match input depth for filter "+c.shape[2]+"."));I(b===c.shape[3],"Error in conv2dDerInput: depth of output ("+b+") must "+("match output depth for filter "+c.shape[3]+"."));null!=f&&I(0===e%1,"Error in conv2dDerInput: pad must be an integer when using, "+("dimRoundingMode "+f+" but got pad "+e+"."));var l=lx(g,c.shape,d,1,e,f);g=P(function(m){return m.ei(h,c,l)},{Te:h,filter:c},function(m){return{Te:function(){return sx(m,c,d,e,"NHWC",1,f)},
filter:function(){return tx(m,h,c.shape,d,e,f)}}});return k?cs(g,g.shape[1],g.shape[2],g.shape[3]):g}
function ux(a,b,c,d,e,f){var g=a;3===a.s&&(g=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));var h=b;3===h.s&&(h=ds(b,1,b.shape[0],b.shape[1],b.shape[2]));I(4===g.s,"Error in conv2dDerFilter: input must be rank 4, but got shape "+(g.shape+"."));I(4===h.s,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(h.shape+"."));I(4===c.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+(c+"."));I(g.shape[3]===c[2],"Error in conv2dDerFilter: depth of input "+g.shape[3]+") must "+
("match input depth in filter ("+c[2]+"."));I(h.shape[3]===c[3],"Error in conv2dDerFilter: depth of dy ("+h.shape[3]+") must "+("match output depth for filter ("+c[3]+")."));null!=f&&I(0===e%1,"Error in conv2dDerFilter: pad must be an integer when using, "+("dimRoundingMode "+f+" but got pad "+e+"."));var k=lx(g.shape,c,d,1,e,f);return P(function(l){return l.$g(g,h,k)},{Oh:g,Te:h})}
function vx(a){var b=t("number"===typeof a?[a,a,a]:2===a.length?[a[0],a[1],1]:a);a=b.next().value;var c=b.next().value;b=b.next().value;return 1===a&&1===c&&1===b}function wx(a,b){return vx(a)||vx(b)}function xx(a,b,c){var d=a,e=!1;3===a.s&&(e=!0,d=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));a=P(function(f){return f.ki(d,b,c)},{Te:d});return e?cs(a,a.shape[1],a.shape[2],a.shape[3]):a}
function yx(a,b,c){var d=a;3===a.s&&(d=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));var e=b;3===e.s&&(e=ds(b,1,b.shape[0],b.shape[1],b.shape[2]));return P(function(f){return f.ji(d,e,c)},{Oh:d,Te:e})}
function zx(a,b,c,d,e){I(a.length===b.s,"Length of inShape "+("("+a.length+") and rank of dy ("+b.s+") must match"));var f=a,g=b,h=!1;4===b.s&&(h=!0,g=es(b,b.shape[0],b.shape[1],b.shape[2],b.shape[3]),f=[1,a[0],a[1],a[2],a[3]]);a=f[4];b=g.shape[4];I(5===f.length,"Error in conv3dDerInput: inShape must be length 5, but got length "+(f.length+"."));I(5===g.s,"Error in conv3dDerInput: dy must be rank 5, but got rank "+g.s);I(5===c.s,"Error in conv3dDerInput: filter must be rank 5, but got rank "+c.s);
I(a===c.shape[3],"Error in conv3dDerInput: depth of input ("+a+") must "+("match input depth for filter "+c.shape[3]+"."));I(b===c.shape[4],"Error in conv3dDerInput: depth of output ("+b+") must "+("match output depth for filter "+c.shape[4]+"."));var k=ox(f,c.shape,d,1,e);d=P(function(l){return l.ii(g,c,k)},{uk:g});return h?ds(d,d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}
function Ax(a,b,c,d,e){var f=a;4===a.s&&(f=es(a,a.shape[0],a.shape[1],a.shape[2],a.shape[3]));var g=b;4===g.s&&(g=es(b,b.shape[0],b.shape[1],b.shape[2],b.shape[3]));I(5===f.s,"Error in conv3dDerFilter: input must be rank 5, but got shape "+(f.shape+"."));I(5===g.s,"Error in conv3dDerFilter: dy must be rank 5, but got shape "+(g.shape+"."));I(5===c.length,"Error in conv3dDerFilter: filterShape must be length 5, but got "+(c+"."));I(f.shape[4]===c[3],"Error in conv3dDerFilter: depth of input "+f.shape[4]+
") must "+("match input depth in filter ("+c[3]+"."));I(g.shape[4]===c[4],"Error in conv3dDerFilter: depth of dy ("+g.shape[4]+") must "+("match output depth for filter ("+c[4]+")."));var h=ox(f.shape,c,d,1,e);return P(function(k){return k.hi(f,g,h)},{ur:f,uk:g})}
var Bx=Q({Nm:function(a,b,c,d,e,f,g){e=void 0===e?"NWC":e;f=void 0===f?1:f;a=U(a,"x","conv1d");var h=U(b,"filter","conv1d"),k=a;b=!1;2===a.s&&(b=!0,k=cs(a,1,a.shape[0],a.shape[1]));I(3===k.s,"Error in conv1d: input must be rank 3, but got rank "+k.s+".");I(3===h.s,"Error in conv1d: filter must be rank 3, but got rank "+(h.s+"."));null!=g&&I(0===d%1,"Error in conv1d: pad must be an integer when using, "+("dimRoundingMode "+g+" but got pad "+d+"."));I(k.shape[2]===h.shape[1],"Error in conv1d: depth of input ("+
k.shape[2]+") must match "+("input depth for filter "+h.shape[1]+"."));I(qx(c,f),"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+c+" and dilation '"+f+"'"));I("NWC"===e,"Error in conv1d: got dataFormat of "+e+" but only NWC is currently supported.");e=ds(h,1,h.shape[0],h.shape[1],h.shape[2]);a=ds(k,k.shape[0],1,k.shape[1],k.shape[2]);c=sx(a,e,[1,c],d,"NHWC",[1,f],g);return b?bs(c,c.shape[2],c.shape[3]):cs(c,c.shape[0],c.shape[2],c.shape[3])}}),sx=Q({Qm:function(a,b,c,d,e,f,
g){e=void 0===e?"NHWC":e;f=void 0===f?[1,1]:f;a=U(a,"x","conv2d");var h=U(b,"filter","conv2d"),k=a;b=!1;3===a.s&&(b=!0,k=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));I(4===k.s,"Error in conv2d: input must be rank 4, but got rank "+k.s+".");I(4===h.s,"Error in conv2d: filter must be rank 4, but got rank "+(h.s+"."));null!=g&&I(0===d%1,"Error in conv2d: pad must be an integer when using, "+("dimRoundingMode "+g+" but got pad "+d+"."));I(k.shape[3]===h.shape[2],"Error in conv2d: depth of input ("+k.shape[3]+
") must match "+("input depth for filter "+h.shape[2]+"."));I(qx(c,f),"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+c+" and dilations '"+f+"'"));I("NHWC"===e,"Error in conv2d: got dataFormat of "+e+" but only NHWC is currently supported.");var l=lx(k.shape,h.shape,c,f,d,g);e=P(function(m){return m.oe(k,h,l)},{x:k,He:h},function(m){I(px(f),"Error in gradient of conv2D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+f+"'"));return{x:function(){return rx(k.shape,
m,h,c,d)},He:function(){return ux(k,m,h.shape,c,d)}}});return b?cs(e,e.shape[1],e.shape[2],e.shape[3]):e}}),Cx=Q({Rm:function(a,b,c,d,e,f){e=void 0===e?"NHWC":e;f=void 0===f?[1,1,1]:f;a=U(a,"x","conv3d");var g=U(b,"filter","conv3d"),h=a;b=!1;4===a.s&&(b=!0,h=es(a,a.shape[0],a.shape[1],a.shape[2],a.shape[3]));I(5===h.s,"Error in conv3d: input must be rank 5, but got rank "+h.s+".");I(5===g.s,"Error in conv3d: filter must be rank 5, but got rank "+(g.s+"."));I(h.shape[4]===g.shape[3],"Error in conv3d: depth of input ("+
h.shape[4]+") must match "+("input depth for filter "+g.shape[3]+"."));I(wx(c,f),"Error in conv3D: Either strides or dilations must be 1. "+("Got strides "+c+" and dilations '"+f+"'"));I("NHWC"===e,"Error in conv3d: got dataFormat of "+e+" but only NHWC is currently supported.");var k=ox(h.shape,g.shape,c,f,d);e=P(function(l){return l.ah(h,g,k)},{x:h,He:g},function(l){I(vx(f),"Error in gradient of conv3D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+f+"'"));
return{x:function(){return zx(h.shape,l,g,c,d)},He:function(){return Ax(h,l,g.shape,c,d)}}});return b?ds(e,e.shape[1],e.shape[2],e.shape[3],e.shape[4]):e}}),tx=Q({Om:ux}),Dx=Q({$m:function(a,b,c,d,e,f,g){f=void 0===f?[1,1]:f;a=U(a,"x","depthwiseConv2d");var h=U(b,"filter","depthwiseConv2d"),k=a;b=!1;3===a.s&&(b=!0,k=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));I(4===k.s,"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+k.s+"."));I(4===h.s,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+
(h.s+"."));I(k.shape[3]===h.shape[2],"Error in depthwiseConv2d: number of input channels "+("("+k.shape[3]+") must match the inChannels dimension in ")+("filter "+h.shape[2]+"."));null==f&&(f=[1,1]);I(qx(c,f),"Error in depthwiseConv2d: Either strides or dilations must be 1. "+("Got strides "+c+" and dilations '"+f+"'"));null!=g&&I(0===d%1,"Error in depthwiseConv2d: pad must be an integer when using, "+("dimRoundingMode "+g+" but got pad "+d+"."));var l=lx(k.shape,h.shape,c,f,d,g,!0);c=P(function(m){return m.fh(k,
h,l)},{x:k,He:h},function(m){I(px(f),"Error in gradient of depthwiseConv2d: dilation rates greater than "+("1 are not yet supported. Got dilations '"+f+"'"));return{x:function(){return xx(m,h,l)},He:function(){return yx(k,m,l)}}});return b?cs(c,c.shape[1],c.shape[2],c.shape[3]):c}}),Ex=Q({mq:function(a,b,c,d,e,f,g){f=void 0===f?[1,1]:f;g=void 0===g?"NHWC":g;var h=U(a,"x","separableConv2d");b=U(b,"depthwiseFilter","separableConv2d");a=U(c,"pointwiseFilter","separableConv2d");var k=h;c=!1;3===h.s&&
(c=!0,k=ds(h,1,h.shape[0],h.shape[1],h.shape[2]));if("NCHW"===g)throw Error("db");I(4===k.s,"Error in separableConv2d: input must be rank 4, but got "+("rank "+k.s+"."));I(4===b.s,"Error in separableConv2d: depthwise filter must be rank 4, but got "+("rank "+b.s+"."));I(4===a.s,"Error in separableConv2d: pointwise filter must be rank 4, but got "+("rank "+b.s+"."));I(1===a.shape[0],"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+a.shape[0]+"."));I(1===
a.shape[1],"Error in separableConv2d: the second dimension of pointwise filter "+(" must be 1, but got "+a.shape[1]+"."));h=b.shape[2];var l=b.shape[3];I(a.shape[2]===h*l,"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+h*l+", ")+("but got "+a.shape[2]+"."));d=Dx(k,b,d,e,g,f);g=sx(d,a,1,"valid",g);return c?cs(g,g.shape[1],g.shape[2],g.shape[3]):g}}),Fx=Q({Pm:function(a,b,c,d,e,f){a=U(a,"x","conv2dTranspose");b=U(b,"filter","conv2dTranspose");return rx(c,a,b,d,e,f)}});/*

 Copyright 2019 Google LLC. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
var Gx={};
Gx.Xa=Q({Jk:function(a,b,c,d,e,f){c=void 0===c?!1:c;d=void 0===d?!1:d;f=void 0===f?"linear":f;a=U(a,"a","fused matMul");b=U(b,"b","fused matMul");b=t(us(a,b));a=b.next().value;b=b.next().value;var g=c?a.shape[a.s-2]:a.shape[a.s-1],h=d?b.shape[b.s-1]:b.shape[b.s-2],k=c?a.shape[a.s-1]:a.shape[a.s-2],l=d?b.shape[b.s-2]:b.shape[b.s-1],m=a.shape.slice(0,-2),p=b.shape.slice(0,-2),q=J(m),r=J(p);I(2<=a.s&&2<=b.s&&a.s===b.s,"Error in fused matMul: inputs must have the same rank of at least 2, "+("got ranks "+
a.s+" and "+b.s+"."));I(ir(m,p),"Error in fused matMul: outer dimensions ("+m+") and ("+(p+") of Tensors with shapes "+a.shape+" and ")+(b.shape+" must match."));I(g===h,"Error in fused matMul: inner shapes ("+g+") and ("+(h+") of Tensors with shapes "+a.shape+" and ")+(b.shape+" and transposeA="+c)+(" and transposeB="+d+" must match."));var u=a.shape.slice(0,-2).concat([k,l]),x=c?cs(a,q,g,k):cs(a,q,k,g),v=d?cs(b,r,l,h):cs(b,r,h,l);if(null!=e){var y=U(e,"bias","fused matMul");y=t(us(y,a)).next().value;
Iv(u,y.shape)}a={Ta:x,Ua:v};null!=e&&(a.tj=y);return P(function(C,D){return D(C.vi(x,v,c,d,y,f))},a,function(C,D){D=t(D).next().value;if(null==f||"linear"===f)var F=C;else if("relu"===f)F=C.ka(D.step());else throw Error("eb`"+f);C={};null!=e&&(C={tj:function(){var H=F,O=Hv(y.shape,u);0<O.length&&(H=H.Na(O));return H.ra(y.shape)}});return c||d?!c&&d?Object.assign({Ta:function(){return F.Xa(v,!1,!1)},Ua:function(){return F.Xa(x,!0,!1)}},C):c&&!d?Object.assign({Ta:function(){return v.Xa(F,!1,!0)},Ua:function(){return x.Xa(F,
!1,!1)}},C):Object.assign({Ta:function(){return v.Xa(F,!0,!0)},Ua:function(){return F.Xa(x,!0,!0)}},C):Object.assign({Ta:function(){return F.Xa(v,!1,!0)},Ua:function(){return x.Xa(F,!0,!1)}},C)}).ra(u)}});var Hx=Q({Dn:function(a,b){var c=U(b,"indices","gatherND","int32"),d=U(a,"x","gatherND");return P(function(e){return e.kh(d,c)},{ma:d,Hg:c})}});var Ix={};function Jx(a,b,c,d,e){null==d&&(d=.5);null==e&&(e=Number.NEGATIVE_INFINITY);var f=a.shape[0];c=Math.min(c,f);I(0<=d&&1>=d,"iouThreshold must be in [0, 1], but was '"+d+"'");I(2===a.s,"boxes must be a 2D tensor, but was of rank '"+a.s+"'");I(4===a.shape[1],"boxes must have 4 columns, but 2nd dimension was "+a.shape[1]);I(1===b.s,"scores must be a 1D tensor");I(b.shape[0]===f,"scores has incompatible shape with boxes. Expected "+f+", "+("but was "+b.shape[0]));return{Qi:c,Ei:d,ij:e}}
Ix.vf=Q({Up:function(a,b,c){c=void 0===c?!1:c;var d=U(a,"images","resizeBilinear");I(3===d.s||4===d.s,"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+d.s+"."));I(2===b.length,"Error in resizeBilinear: new shape must 2D, but got shape "+(b+"."));var e=d;a=!1;3===d.s&&(a=!0,e=ds(d,1,d.shape[0],d.shape[1],d.shape[2]));b=t(b);var f=b.next().value,g=b.next().value;b=P(function(h){return h.vf(e,f,g,c)},{Yg:e},function(h){return{Yg:function(){return P(function(k){return k.ej(h,e,c)},
{})}}});return a?cs(b,b.shape[1],b.shape[2],b.shape[3]):b}});
Ix.xf=Q({Vp:function(a,b,c){c=void 0===c?!1:c;var d=U(a,"images","resizeNearestNeighbor");I(3===d.s||4===d.s,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+d.s+"."));I(2===b.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(b+"."));I("float32"===d.dtype||"int32"===d.dtype,"`images` must have `int32` or `float32` as dtype");var e=d;a=!1;3===d.s&&(a=!0,e=ds(d,1,d.shape[0],d.shape[1],d.shape[2]));b=t(b);var f=b.next().value,g=b.next().value;b=P(function(h){return h.xf(e,
f,g,c)},{Yg:e},function(h){return{Yg:function(){return P(function(k){return k.fj(h,e,c)},{})}}});return a?cs(b,b.shape[1],b.shape[2],b.shape[3]):b}});Ix.xh=Q({Zo:function(a,b,c,d,e){d=void 0===d?.5:d;e=void 0===e?Number.NEGATIVE_INFINITY:e;var f=U(a,"boxes","nonMaxSuppression"),g=U(b,"scores","nonMaxSuppression");a=Jx(f,g,c,d,e);c=a.Qi;d=a.Ei;e=a.ij;return P(function(h){return h.xh(f,g,c,d,e)},{uj:f})}});
Ix.Yo=function(a,b,c,d,e){d=void 0===d?.5:d;e=void 0===e?Number.NEGATIVE_INFINITY:e;return cr(this,function g(){var h,k,l,m,p,q;return Da(g,function(r){if(1==r.g)return h=U(a,"boxes","nonMaxSuppressionAsync"),k=U(b,"scores","nonMaxSuppressionAsync"),l=Jx(h,k,c,d,e),c=l.Qi,d=l.Ei,e=l.ij,wa(r,h.data(),2);if(3!=r.g)return m=r.i,wa(r,k.data(),3);p=r.i;q=Cu(m,p,c,d,e);h!==a&&h.dispose();k!==b&&k.dispose();return r.return(q)})})};
Ix.eh=Q({Xm:function(a,b,c,d,e,f){var g=U(a,"image","cropAndResize","float32"),h=U(b,"boxes","cropAndResize","float32"),k=U(c,"boxInd","cropAndResize","int32");e=e||"bilinear";f=f||0;a=h.shape[0];I(4===g.s,"Error in cropAndResize: image must be rank 4,"+("but got rank "+g.s+"."));I(2===h.s&&4===h.shape[1],"Error in cropAndResize: boxes must be have size ["+a+",4] "+("but had shape "+h.shape+"."));I(1===k.s&&k.shape[0]===a,"Error in cropAndResize: boxInd must be have size ["+a+"] "+("but had shape "+
h.shape+"."));I(2===d.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+(d.length+"."));I(1<=d[0]&&1<=d[1],"cropSize must be atleast [1,1], but was "+d);I("bilinear"===e||"nearest"===e,"method must be bilinear or nearest, but was "+e);return P(function(l){return l.eh(g,h,k,d,e,f)},{nl:g,uj:h})}});function Kx(a,b,c){c=void 0===c?null:c;if(0===a.s)return a.abs();if(1!==a.s&&null===c)return Kx(a.ra([-1]),b,c);if(1===a.s||"number"===typeof c||Array.isArray(c)&&1===c.length){if(1===b)return a.abs().Na(c);if(Infinity===b)return a.abs().max(c);if(-Infinity===b)return a.abs().min(c);if("euclidean"===b||2===b)return a.abs().pow(Nt(2,"int32")).Na(c).sqrt();throw Error("fb`"+b);}if(Array.isArray(c)&&2===c.length){if(1===b)return a.abs().Na(c[0]).max(c[1]-1);if(Infinity===b)return a.abs().Na(c[1]).max(c[0]);
if(-Infinity===b)return a.abs().Na(c[1]).min(c[0]);if("fro"===b||"euclidean"===b)return a.kb().Na(c).sqrt();throw Error("fb`"+b);}throw Error("gb`"+c);}var Lx=Q({$o:function(a,b,c,d){b=void 0===b?"euclidean":b;c=void 0===c?null:c;d=void 0===d?!1:d;a=U(a,"x","norm");b=Kx(a,b,c);var e=b.shape;d&&(a=rr(c,a.shape),e=Ju(b.shape,a));return b.ra(e)}});function Mx(a,b,c,d,e){var f=t(b).next().value;f.s<c.s&&(f=f.ra(Ju(f.shape,d)));a.s<c.s&&(a=a.ra(Ju(a.shape,d)));return{ma:function(){var g=a.ka(c.Ic(f).Ib(a.dtype));return null==e?g:g.Ya(e)}}}
var Nx=Q({Gl:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;var d=U(a,"x","all","bool"),e=a=rr(b,d.shape);b=Lu(e,d.s);null!=b&&(d=d.Ya(b),e=Nu(e.length,d.s));b=P(function(f){return f.all(d,e)},{ma:d});return c?(c=Ju(b.shape,a),b.ra(c)):b}}),Ox=Q({Hl:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;var d=U(a,"x","any","bool"),e=a=rr(b,d.shape);b=Lu(e,d.s);null!=b&&(d=d.Ya(b),e=Nu(e.length,d.s));b=P(function(f){return f.any(d,e)},{ma:d});return c?(c=Ju(b.shape,a),b.ra(c)):b}}),Px=Q({Il:function(a,
b){b=void 0===b?0:b;var c=U(a,"x","argMax");null==b&&(b=0);var d=rr(b,c.shape);a=Lu(d,c.s);null!=a&&(c=c.Ya(a),d=Nu(d.length,c.s));return P(function(e){return e.le(c,d[0])},{ma:c},function(){return{ma:function(){return Ut(c)}}})}}),Qx=Q({Jl:function(a,b){b=void 0===b?0:b;var c=U(a,"x","argMin");null==b&&(b=0);var d=rr(b,c.shape);a=Lu(d,c.s);null!=a&&(c=c.Ya(a),d=Nu(d.length,c.s));return P(function(e){return e.Ne(c,d[0])},{ma:c},function(){return{ma:function(){return Ut(c)}}})}}),Rx=Q({ro:function(a,
b,c){b=void 0===b?null:b;c=void 0===c?!1:c;a=U(a,"x","logSumExp");b=rr(b,a.shape);var d=a.max(b,!0);a=a.sub(d).exp().Na(b).log();a=d.ra(a.shape).add(a);return c?(c=Ju(a.shape,b),a.ra(c)):a}}),Sx=Q({Bo:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;var d=U(a,"x","max"),e=d,f=rr(b,d.shape),g=f,h=Lu(g,d.s);null!=h&&(d=d.Ya(h),g=Nu(g.length,d.s));a=P(function(k,l){return l(k.max(d,g))},{ma:d},function(k,l){return Mx(k,l,e,f,h)});c&&(c=Ju(a.shape,f),a=a.ra(c));return a}}),Tx=Q({Go:function(a,b,
c){b=void 0===b?null:b;c=void 0===c?!1:c;a=U(a,"x","mean");var d=rr(b,a.shape),e=Iu(a.shape,d)[1],f=J(e);return Gs(function(g){var h=Nt(f);return{value:(h.dtype===g.dtype?g:g.Ib(h.dtype)).Va(h).Na(b,c),df:function(k){var l=g.shape.slice();d.forEach(function(m){l[m]=1});return k.ra(l).ka(Qt(g.shape,"float32")).Va(h)}}})(a)}}),Ux=Q({Ho:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;var d=U(a,"x","min"),e=d,f=rr(b,d.shape),g=f,h=Lu(g,d.s);null!=h&&(d=d.Ya(h),g=Nu(g.length,d.s));a=P(function(k,
l){return l(k.min(d,g))},{ma:d},function(k,l){return Mx(k,l,e,f,h)});c&&(c=Ju(a.shape,f),a=a.ra(c));return a}}),Vx=Q({Oo:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;a=U(a,"x","moments");var d=rr(b,a.shape);b=a.Gc(d,c);var e=b.shape;c||(e=Ju(b.shape,d));a=ks(a).sub(b.ra(e)).kb().Gc(d,c);return{Gc:b,qr:a}}}),Wx=Q({Zq:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;a=U(a,"x","sum");"bool"===a.dtype&&(a=ls(a));var d=rr(b,a.shape);return Gs(function(e){var f=Lu(d,e.s),g=d,h=e;null!=f&&
(h=e.Ya(f),g=Nu(g.length,e.s));f=P(function(l){return l.Na(h,g)},{Eh:h});if(c){var k=Ju(f.shape,d);f=f.ra(k)}return{value:f,df:function(l){var m=e.shape.slice();d.forEach(function(p){m[p]=1});return l.ra(m).ka(Qt(e.shape,"float32"))}}})(a)}}),Xx=Q({Dp:function(a,b,c){b=void 0===b?null:b;c=void 0===c?!1:c;a=U(a,"x","prod");"bool"===a.dtype&&(a=ls(a));b=rr(b,a.shape);var d=Lu(b,a.s),e=b,f=a;null!=d&&(f=a.Ya(d),e=Nu(e.length,a.s));a=P(function(g){return g.tf(f,e)},{Eh:f});c&&(c=Ju(a.shape,b),a=a.ra(c));
return a}});var Yx={};
function Zx(a,b){b=void 0===b?!1:b;return Bs(K.g,function(){if(2!==a.shape.length)throw Error("hb`"+a.shape.length);for(var c=a.shape[0],d=a.shape[1],e=jv(c),f=a.clone(),g=Pt([[1]],[1,1]),h=g.clone(),k=c>=d?d:c,l={Xb:0};l.Xb<k;l={Xb:l.Xb},++l.Xb){var m=f,p=h,q=e,r=t(Bs(K.g,function(u){return function(){var x=f.slice([u.Xb,u.Xb],[c-u.Xb,1]),v=x.yh(),y=f.slice([u.Xb,u.Xb],[1,1]),C=y.sign().Kb();y=y.sub(C.ka(v));x=x.Va(y);h=1===x.shape[0]?g.clone():g.concat(x.slice([1,0],[x.shape[0]-1,x.shape[1]]),0);
C=C.Xa(y).Va(v).Kb();v=f.slice([u.Xb,0],[c-u.Xb,d]);C=C.ka(h);0===u.Xb?f=v.sub(C.Xa(h.Ya().Xa(v))):f=f.slice([0,0],[u.Xb,d]).concat(v.sub(C.Xa(h.Ya().Xa(v))),0);v=e.slice([0,u.Xb],[c,e.shape[1]-u.Xb]);0===u.Xb?e=v.sub(v.Xa(h).Xa(C.Ya())):e=e.slice([0,0],[c,u.Xb]).concat(v.sub(v.Xa(h).Xa(C.Ya())),1);return[h,f,e]}}(l)));h=r.next().value;f=r.next().value;e=r.next().value;Ys([m,p,q])}!b&&c>d&&(e=e.slice([0,0],[c,d]),f=f.slice([0,0],[d,d]));return[e,f]})}
Yx.Fn=Q({Gn:function(a){if(Array.isArray(a)){var b=!1;I(null!=a&&0<a.length,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var c=a[0].shape[0],d=1;d<a.length;++d)I(a[d].shape[0]===c,"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+a[d].shape[0]+" vs. "+c+")"))}else b=!0,a=Su(a,a.shape[0],0).map(function(g){return vv(g,[0])});I(a.length<=a[0].shape[0],"Gram-Schmidt: Number of vectors ("+a.length+") exceeds "+("number of dimensions ("+a[0].shape[0]+")."));
var e=[],f=a;for(c={Fd:0};c.Fd<a.length;c={Fd:c.Fd},++c.Fd)e.push(Bs(K.g,function(g){return function(){var h=f[g.Fd];if(0<g.Fd)for(var k=0;k<g.Fd;++k){var l=Wx(e[k].Zb(h)).ka(e[k]);h=h.sub(l)}return h.Va(Lx(h,"euclidean"))}}(c)));return b?wv(e,0):e}});
Yx.Ep=Q({Fp:function(a,b){b=void 0===b?!1:b;if(2>a.s)throw Error("ib`"+a.s);if(2===a.s)return Zx(a,b);var c=a.shape.slice(0,a.shape.length-2).reduce(function(f,g){return f*g}),d=[],e=[];yv(a.ra([c,a.shape[a.shape.length-2],a.shape[a.shape.length-1]]),0).forEach(function(f){var g=t(Zx(f,b));f=g.next().value;g=g.next().value;d.push(f);e.push(g)});c=wv(d,0).ra(a.shape);a=wv(e,0).ra(a.shape);return[c,a]}});var $x=Q({uo:function(a,b){var c=U(a,"a","logicalAnd","bool"),d=U(b,"b","logicalAnd","bool");Iv(c.shape,d.shape);return P(function(e){return e.Sd(c,d)},{Ta:c,Ua:d})}}),ay=Q({vo:function(a){var b=U(a,"x","logicalNot","bool");return P(function(c){return c.Td(b)},{ma:b})}}),by=Q({wo:function(a,b){var c=U(a,"a","logicalOr","bool"),d=U(b,"b","logicalOr","bool");Iv(c.shape,d.shape);return P(function(e){return e.kf(c,d)},{Ta:c,Ua:d})}}),cy=Q({xo:function(a,b){var c=U(a,"a","logicalXor","bool"),d=U(b,"b",
"logicalXor","bool");Iv(c.shape,d.shape);return by(a,b).Sd($x(a,b).Td())}}),dy=Q({sr:function(a,b,c){var d=U(b,"a","where"),e=U(c,"b","where"),f=U(a,"condition","where","bool");hr(d.shape,e.shape,"Error in where: ");1===f.s?I(f.shape[0]===d.shape[0],"The first dimension of `a` must match the size of `condition`."):hr(f.shape,e.shape,"Error in where: ");return P(function(g){return g.Xi(f,d,e)},{vj:f,Ta:d,Ua:e},function(g){return{vj:function(){return ks(Ut(f))},Ta:function(){return g.ka(f.Ib(g.dtype))},
Ua:function(){return g.ka(f.Td().Ib(g.dtype))}}})}});var ey={},fy={NONE:0,ul:1,wl:2,xl:3};ey.vl=fy;fy[0]="NONE";fy[1]="MEAN";fy[2]="SUM";fy[3]="SUM_BY_NONZERO_WEIGHTS";function gy(a,b){var c=void 0===c?-1:c;-1===c&&(c=b.s-1);if(c!==b.s-1)throw Error("jb`"+b.s+"`"+c);return Gs(function(d,e){var f=e.ng([c],!0),g=ks(e).sub(f);return{value:g.ka(d).Kb().Na([c]),df:function(h){var k=Ju(h.shape,[c]);return[h.ra(k).ka(ks(d).sub(g.exp())),h.ra(k).ka(g.exp().sub(ks(d)))]}}})(a,b)}
ey.zl=Q({Al:function(a,b,c,d){d=void 0===d?3:d;a=U(a,"labels","absoluteDifference");var e=U(b,"predictions","absoluteDifference");b=null;null!=c&&(b=U(c,"weights","absoluteDifference"));hr(a.shape,e.shape,"Error in absoluteDifference: ");c=a.sub(e).abs();return ey.rd(c,b,d)}});
ey.rd=Q({Bm:function(a,b,c){c=void 0===c?3:c;var d=U(a,"losses","computeWeightedLoss");a=null;null!=b&&(a=U(b,"weights","computeWeightedLoss"));b=null==a?d:d.ka(a);if(0===c)return b;if(2===c)return b.Na();if(1===c){if(null==a)return b.Gc();c=J(d.shape)/J(a.shape);a=b.Na().Va(a.Na());return 1<c?a.Va(Nt(c)):a}if(3===c){if(null==a)return b.Na().Va(Nt(d.size));c=ks(a.ka(Qt(d.shape)).zd(Nt(0)).Na());return b.Na().Va(c)}throw Error("kb`"+c);}});
ey.Vm=Q({Wm:function(a,b,c,d,e){e=void 0===e?3:e;a=U(a,"labels","cosineDistance");var f=U(b,"predictions","cosineDistance");b=null;null!=d&&(b=U(d,"weights","cosineDistance"));hr(a.shape,f.shape,"Error in cosineDistance: ");c=Nt(1).sub(a.ka(f).Na(c,!0));return ey.rd(c,b,e)}});
ey.Ln=Q({Mn:function(a,b,c,d){d=void 0===d?3:d;a=U(a,"labels","hingeLoss");var e=U(b,"predictions","hingeLoss");b=null;null!=c&&(b=U(c,"weights","hingeLoss"));hr(a.shape,e.shape,"Error in hingeLoss: ");c=Nt(1);a=Nt(2).ka(a).sub(c);c=c.sub(a.ka(e)).hd();return ey.rd(c,b,d)}});
ey.On=Q({Pn:function(a,b,c,d,e){d=void 0===d?1:d;e=void 0===e?3:e;a=U(a,"labels","huberLoss");var f=U(b,"predictions","huberLoss");b=null;null!=c&&(b=U(c,"weights","huberLoss"));hr(a.shape,f.shape,"Error in huberLoss: ");c=Nt(d);a=f.sub(a).abs();d=Mw(a,c);a=a.sub(d);c=Nt(.5).ka(d.kb()).add(c.ka(a));return ey.rd(c,b,e)}});
ey.lo=Q({no:function(a,b,c,d,e){d=void 0===d?1E-7:d;e=void 0===e?3:e;a=U(a,"labels","logLoss");var f=U(b,"predictions","logLoss");b=null;null!=c&&(b=U(c,"weights","logLoss"));hr(a.shape,f.shape,"Error in logLoss: ");c=Nt(1);d=Nt(d);d=a.ka(f.add(d).log()).Kb().sub(c.sub(a).ka(c.sub(f).add(d).log()));return ey.rd(d,b,e)}});
ey.Eo=Q({Fo:function(a,b,c,d){d=void 0===d?3:d;a=U(a,"labels","meanSquaredError");var e=U(b,"predictions","meanSquaredError");b=null;null!=c&&(b=U(c,"weights","meanSquaredError"));hr(a.shape,e.shape,"Error in meanSquaredError: ");c=a.$d(e);return ey.rd(c,b,d)}});
ey.pq=Q({qq:function(a,b,c,d,e){d=void 0===d?0:d;e=void 0===e?3:e;a=U(a,"multiClassLabels","sigmoidCrossEntropy");var f=U(b,"logits","sigmoidCrossEntropy");b=null;null!=c&&(b=U(c,"weights","sigmoidCrossEntropy"));hr(a.shape,f.shape,"Error in sigmoidCrossEntropy: ");if(0<d){c=Nt(d);d=Nt(1);var g=Nt(.5);a=a.ka(d.sub(c)).add(g.ka(c))}c=U(a,"labels","sigmoidCrossEntropyWithLogits");f=U(f,"logits","sigmoidCrossEntropyWithLogits");hr(c.shape,f.shape,"Error in sigmoidCrossEntropyWithLogits: ");a=f.hd();
c=f.ka(c);f=f.abs().Kb().exp().log1p();a=a.sub(c).add(f);return ey.rd(a,b,e)}});ey.Fq=Q({Gq:function(a,b,c,d,e){d=void 0===d?0:d;e=void 0===e?3:e;a=U(a,"onehotLabels","softmaxCrossEntropy");var f=U(b,"logits","softmaxCrossEntropy");b=null;null!=c&&(b=U(c,"weights","softmaxCrossEntropy"));hr(a.shape,f.shape,"Error in softmaxCrossEntropy: ");if(0<d){c=Nt(d);d=Nt(1);var g=Nt(a.shape[1]);a=a.ka(d.sub(c)).add(c.Va(g))}a=gy(a,f);return ey.rd(a,b,e)}});var hy=Q({jo:function(a,b,c,d,e){b=void 0===b?5:b;c=void 0===c?1:c;d=void 0===d?1:d;e=void 0===e?.5:e;var f=U(a,"x","localResponseNormalization");I(4===f.s||3===f.s,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+f.s+".");I(0===b%1,"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+b+".");var g=f;a=!1;3===f.s&&(a=!0,g=ds(f,1,f.shape[0],f.shape[1],f.shape[2]));f=P(function(h,k){return k(h.Mi(g,
b,c,d,e))},{Oh:g},function(h,k){var l=t(k).next().value;return{Oh:function(){return P(function(m){return m.Qh(h,g,l,b,c,d,e)},{})}}});return a?cs(f,f.shape[1],f.shape[2],f.shape[3]):f}});var iy=Q({Sl:function(a,b,c,d,e,f){a=U(a,"forgetBias","basicLSTMCell");b=U(b,"lstmKernel","basicLSTMCell");c=U(c,"lstmBias","basicLSTMCell");d=U(d,"data","basicLSTMCell");e=U(e,"c","basicLSTMCell");f=U(f,"h","basicLSTMCell");c=d.concat(f,1).Xa(b).add(c);var g=c.shape[1]/4,h=[c.shape[0],g];f=c.slice([0,0],h);b=c.slice([0,g],h);d=c.slice([0,2*g],h);c=c.slice([0,3*g],h);a=f.Hc().Zb(b.tanh()).Xg(e.Zb(a.add(d).Hc()));e=a.tanh().Zb(c.Hc());return[a,e]}}),jy=Q({Vo:function(a,b,c,d){var e=U(b,"data","multiRNNCell");
c=lt(c,"c","multiRNNCell");b=lt(d,"h","multiRNNCell");var f=e;d=[];for(e=0;e<a.length;e++)f=a[e](f,c[e],b[e]),d.push(f[0]),d.push(f[1]),f=f[1];a=[];c=[];for(b=0;b<d.length;b+=2)a.push(d[b]),c.push(d[b+1]);return[a,c]}});var ky=Q({Jk:function(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?!1:d;a=U(a,"a","matMul");b=U(b,"b","matMul");b=t(us(a,b));a=b.next().value;b=b.next().value;var e=c?a.shape[a.s-2]:a.shape[a.s-1],f=d?b.shape[b.s-1]:b.shape[b.s-2],g=c?a.shape[a.s-1]:a.shape[a.s-2],h=d?b.shape[b.s-2]:b.shape[b.s-1],k=a.shape.slice(0,-2),l=b.shape.slice(0,-2),m=J(k),p=J(l);I(2<=a.s&&2<=b.s&&a.s===b.s,"Error in matMul: inputs must have the same rank of at least 2, "+("got ranks "+a.s+" and "+b.s+"."));I(ir(k,l),"Error in matMul: outer dimensions ("+
k+") and ("+(l+") of Tensors with shapes "+a.shape+" and ")+(b.shape+" must match."));I(e===f,"Error in matMul: inner shapes ("+e+") and ("+(f+") of Tensors with shapes "+a.shape+" and ")+(b.shape+" and transposeA="+c)+(" and transposeB="+d+" must match."));k=a.shape.slice(0,-2).concat([g,h]);var q=c?cs(a,m,e,g):cs(a,m,g,e),r=d?cs(b,p,h,f):cs(b,p,f,h);return P(function(u){return u.Pe(q,r,c,d)},{Ta:q,Ua:r},function(u){return c||d?!c&&d?{Ta:function(){return u.Xa(r,!1,!1)},Ua:function(){return u.Xa(q,
!0,!1)}}:c&&!d?{Ta:function(){return r.Xa(u,!1,!0)},Ua:function(){return q.Xa(u,!1,!1)}}:{Ta:function(){return r.Xa(u,!0,!0)},Ua:function(){return u.Xa(q,!0,!0)}}:{Ta:function(){return u.Xa(r,!1,!0)},Ua:function(){return q.Xa(u,!0,!1)}}}).ra(k)}}),ly=Q({fn:function(a,b){a=U(a,"t1","dot");b=U(b,"t2","dot");I((1===a.s||2===a.s)&&(1===b.s||2===b.s),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(a.s+" and "+b.s+"."));var c=1===a.s?a.size:a.shape[1],d=1===b.s?b.size:b.shape[0];I(c===d,
"Error in dot: inner dimensions of inputs must match, but got "+(c+" and "+d+"."));1===a.s&&1===b.s?(a=bs(a,1,-1).Xa(bs(b,-1,1)),a.V(),I(1===a.size,"The array must have only 1 element."),a=a.ra([])):a=1===a.s&&2===b.s?as(bs(a,1,-1).Xa(bs(b,b.shape[0],b.shape[1]))):2===a.s&&1===b.s?as(a.Xa(bs(b,-1,1))):a.Xa(bs(b,b.shape[0],b.shape[1]));return a}}),my=Q({kp:function(a,b){a=U(a,"v1","outerProduct");b=U(b,"v2","outerProduct");I(1===a.s&&1===b.s,"Error in outerProduct: inputs must be rank 1, but got ranks "+
(a.s+" and "+b.s+"."));return bs(a,-1,1).Xa(bs(b,1,-1))}});var ny=Q({Ro:function(a,b,c,d,e){e=void 0===e?!0:e;a=U(a,"v","movingAverage");var f=U(b,"x","movingAverage");c=U(c,"decay","movingAverage");I(a.dtype===f.dtype,"The dtypes of the first("+a.dtype+") and"+(" second("+f.dtype+") input must match"));I(ir(a.shape,f.shape),"Shape mismatch in v and x");b=Nt(1);var g=b.sub(c);f=f.sub(a).ka(g);e&&(I(null!=d,"When using zeroDebias: true, step is required."),d=U(d,"step","movingAverage"),f=f.Va(b.sub(Sw(c,d))));return a.add(f)}});function oy(a,b,c,d,e){var f=1,g=U(a,"x","maxPool"),h=g;a=!1;3===g.s&&(a=!0,h=ds(g,1,g.shape[0],g.shape[1],g.shape[2]));null==f&&(f=[1,1]);I(4===h.s,"Error in maxPool: input must be rank 4 but got rank "+h.s+".");I(qx(c,f),"Error in maxPool: Either strides or dilations must be 1. "+("Got strides "+c+" and dilations '"+f+"'"));null!=e&&I(0===d%1,"Error in maxPool: pad must be an integer when using, "+("dimRoundingMode "+e+" but got pad "+d+"."));var k=jx(h.shape,b,c,f,d,e);e=P(function(l,m){return m(l.te(h,
k))},{x:h},function(l,m){var p=t(m).next().value;return{x:function(){return py(l,h,p,b,c,f,d)}}});return a?cs(e,e.shape[1],e.shape[2],e.shape[3]):e}
function qy(a,b,c,d,e){var f=1;a=U(a,"x","avgPool","float32");null==f&&(f=[1,1]);I(qx(c,f),"Error in avgPool: Either strides or dilations must be 1. "+("Got strides "+c+" and dilations '"+f+"'"));var g=a,h=!1;3===a.s&&(h=!0,g=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));I(4===g.s,"Error in avgPool: x must be rank 4 but got rank "+g.s+".");null!=e&&I(0===d%1,"Error in avgPool: pad must be an integer when using, "+("dimRoundingMode "+e+" but got pad "+d+"."));var k=jx(g.shape,b,c,f,d,e);e=P(function(l){return l.Oe(g,
k)},{x:g},function(l){return{x:function(){return ry(l,g,b,c,f,d)}}});e=e.Ib(a.dtype);return h?cs(e,e.shape[1],e.shape[2],e.shape[3]):e}
function py(a,b,c,d,e,f,g){var h=U(a,"dy","maxPoolBackprop"),k=U(b,"input","maxPoolBackprop"),l=U(c,"output","maxPoolBackprop");I(k.s===h.s,"Rank of input ("+k.s+") does not match rank of dy ("+h.s+")");null==f&&(f=[1,1]);I(qx(e,f),"Error in maxPoolBackProp: Either strides or dilations must be 1. "+("Got strides "+e+" and dilations '"+f+"'"));I(4===h.s,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+(h.s+"."));I(4===k.s,"Error in maxPoolBackprop: input must be rank 4 but got rank "+(k.s+
"."));var m=jx(k.shape,d,e,f,g,void 0);return P(function(p){return p.Ri(h,k,l,m)},{kl:h,Ph:k})}
function ry(a,b,c,d,e,f){a=U(a,"dy","avgPoolBackprop");var g=U(b,"input","avgPoolBackprop");I(g.s===a.s,"Rank of input ("+g.s+") does not match rank of dy ("+a.s+")");null==e&&(e=[1,1]);I(qx(d,e),"Error in avgPoolBackprop: Either strides or dilations must be 1. "+("Got strides "+d+" and dilations '"+e+"'"));var h=g,k=a;b=!1;3===g.s&&(b=!0,h=ds(g,1,g.shape[0],g.shape[1],g.shape[2]),k=ds(a,1,a.shape[0],a.shape[1],a.shape[2]));I(4===k.s,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+(k.s+
"."));I(4===h.s,"Error in avgPoolBackprop: input must be rank 4 but got rank "+(h.s+"."));var l=jx(h.shape,c,d,e,f);c=P(function(m){return m.Vh(k,h,l)},{Te:k,Tn:h});return b?cs(c,c.shape[1],c.shape[2],c.shape[3]):c}function sy(a,b,c){var d=c.map(function(h){return h[0]});c=c.map(function(h){return h[1]});var e=a.concat(d,c),f=b.map(function(h,k){return(h-e[k]%h)%h}),g=c.map(function(h,k){return h+f[k]});a=b.map(function(h,k){return[d[k],g[k]]});b=b.map(function(h,k){return[0,f[k]]});return[a,b]}
function ty(a,b){a=a.map(function(e,f){return e+(e-1)*(b[f]-1)}).map(function(e){return e-1});var c=a.map(function(e){return Math.floor(e/2)}),d=a.map(function(e,f){return e-c[f]});return a.map(function(e,f){return[c[f],d[f]]})}
var uy=Q({Ao:function(a,b,c,d,e){return oy(a,b,c,d,e)}}),vy=Q({Pl:function(a,b,c,d,e){return qy(a,b,c,d,e)}}),wy=Q({zp:function(a,b,c,d,e,f){null==e&&(e=[1,1]);null==f&&(f=1);0===d&&(d="valid");var g=U(a,"x","maxPool"),h=g;a=!1;3===g.s&&(a=!0,h=ds(g,1,g.shape[0],g.shape[1],g.shape[2]));I(qx(f,e),"Error in pool: Either strides or dilations must be 1. "+("Got strides "+f+" and dilations '"+e+"'"));var k=jx(h.shape,b,f,e,d);e=[k.Ub,k.Yb];var l;"same"===d?l=ty([k.Mb,k.Db],e):l=[[0,0],[0,0]];g=1===e[0]&&
1===e[1];k=t(sy([k.Eb,k.Fb],e,l));l=k.next().value;k=k.next().value;var m=g?d:"valid",p=g?h:uv(h,e,l);c=("avg"===c?function(){return qy(p,b,f,m)}:function(){return oy(p,b,f,m)})();c=g?c:bv(c,e,k);return a?cs(c,c.shape[1],c.shape[2],c.shape[3]):c}});var xy=Q({ln:function(a){var b=U(a,"x","elu");return P(function(c,d){return d(c.Ue(b))},{ma:b},function(c,d){var e=t(d).next().value;return{ma:function(){return P(function(f){return f.oi(c,e)},{jn:c,y:e})}}})}}),yy=Q({ao:function(a,b){b=void 0===b?.2:b;a=U(a,"x","leakyRelu");return Kw(Nt(b).ka(a),a)}}),zy=Q({Cp:function(a,b){var c=U(a,"x","prelu"),d=U(b,"alpha","prelu");return P(function(e){return e.sf(c,d)},{ma:c,rj:d},function(e){var f=c.Ec(0);return{ma:function(){return dy(f,e,e.ka(d))},rj:function(){var g=
dy(f,Ut(e),e.ka(c)),h=Hv(d.shape,e.shape);0<h.length&&(g=g.Na(h));return g.ra(d.shape)}}})}}),Ay=Q({Op:function(a){var b=U(a,"x","relu");return"bool"===b.dtype?ls(b):P(function(c){return c.hd(b)},{ma:b},function(c){var d=b.step();return{ma:function(){return c.Zb(ks(d))}}})}}),By=Q({kq:function(a){var b=U(a,"x","selu");return P(function(c){return c.zf(b)},{ma:b},function(c){return{ma:function(){var d=b.Ec(Nt(0)),e=Nt(1.7580993408473768),f=Nt(1.0507009873554805);f=c.ka(f);e=c.ka(e).ka(ks(b).exp());
return dy(d,f,e)}}})}});var Cy=Q({eq:function(a,b){var c=U(a,"x","reverse");if(0===c.s)return c.clone();var d=rr(b,c.shape);return ms(P(function(e){return e.reverse(c,d)},{ma:c},function(e){return{ma:function(){return e.reverse(d)}}}),c)}}),Dy=Q({Xp:function(a){a=U(a,"x","reverse");I(1===a.s,"Error in reverse1D: x must be rank 1 but got\n             rank "+a.s+".");return Cy(a,0)}}),Ey=Q({Zp:function(a,b){a=U(a,"x","reverse");I(2===a.s,"Error in reverse2D: x must be rank 2 but got\n             rank "+a.s+".");return Cy(a,
b)}}),Fy=Q({aq:function(a,b){a=U(a,"x","reverse");I(3===a.s,"Error in reverse3D: x must be rank 3 but got\n             rank "+a.s+".");return Cy(a,b)}}),Gy=Q({cq:function(a,b){a=U(a,"x","reverse");I(4===a.s,"Error in reverse4D: x must be rank 4 but got\n             rank "+a.s+".");return Cy(a,b)}});function Hy(a,b,c){var d=1<b.s?b.shape[b.s-1]:1,e=1<b.s?b.s-1:1,f="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+c.shape+(", indices.shape: "+b.shape+", shape: "+a)+(", sliceDim: "+d+", and batchDim: "+e+".");if(c.s<e)throw Error("lb`"+f+"`"+e);if(a.length<d+(c.s-e))throw Error("mb`"+f+"`"+d+"`"+(c.s-e));if(c.s!==e+a.length-d)throw Error("nb`"+f+"`"+(e+a.length-d));for(var g=0;g<e;++g)if(c.shape[g]!==b.shape[g])throw Error("ob`"+f+"`"+g+"`"+c.shape[g]+
"`"+g+"`"+b.shape[g]);for(b=0;b<c.s-e;++b)if(c.shape[b+e]!==a[b+d])throw Error("pb`"+f+"`"+b+"`"+e+"`"+c.shape[b+e]+"`"+b+"`"+e+"`"+a[b+e]);}function Iy(a,b){for(var c=1<a.s?a.shape[a.s-1]:1,d=b.length,e=1,f=c;f<d;++f)e*=b[f];a=a.size/(1>c?1:c);d=[].concat(la(Cr(b.slice(0,c))),[1]);return{Bg:c,sg:a,Cg:e,Aa:d,ug:J(b)}};var Jy=Q({jq:function(a,b,c){var d=U(a,"indices","scatterND","int32"),e=U(b,"updates","scatterND");if(1>d.s)throw Error("qb`"+d.s);if(1>e.s)throw Error("rb`"+e.s);if("int32"!==d.dtype)throw Error("sb`"+d.dtype);if(1>c.length)throw Error("tb`"+c);if(0===c.length){if(0===d.size)throw Error("ub`"+d.shape);if(0===e.size)throw Error("vb`"+e.shape);}Hy(c,d,e);return P(function(f){return f.Gh(d,e,c)},{Hg:d,tl:e})}});function Ky(a,b,c){for(var d=a.shape[c],e=[],f=1,g=1,h=0;h<c;h++)e.push(a.shape[h]),f*=a.shape[h];for(h=0;h<b.s;h++)e.push(b.shape[h]);for(b=c+1;b<a.s;b++)e.push(a.shape[b]),g*=a.shape[b];return{Cb:f,Cg:g,an:d,ta:e}};function Ly(a,b){for(var c=[];a<b;++a)c.push(a);return c}function My(a){for(var b=[],c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d)b.push(a[c][d]);return b}
var Oy=Q({En:function(a,b,c){c=void 0===c?0:c;var d=U(a,"x","gather"),e=U(b,"indices","gather","int32");c=rr(c,d.shape)[0];a=Ky(d,e,c);return P(function(f){return f.af(d,e.flatten(),c)},{ma:d},function(f){return{ma:function(){var g=d.shape,h=e.size,k=g.slice(0,c),l=k.length,m=g.slice(c,g.length).slice(1),p=m.length;g=Ly(0,l);p=Ly(l+1,l+1+p);k=My([k,[h],m]);k=f.ra(k);h=e.ra([h]);l=My([[l],g,p]);g=k.Ya(l);h=Ny(g,h,d.shape[c]);l=Mu(l);return h=h.Ya(l)}}}).ra(a.ta)}}),Ny=Q({nr:function(a,b,c){var d=U(a,
"x","unsortedSegmentSum"),e=U(b,"segmentIds","unsortedSegmentSum","int32");I(0===c%1,"numSegments must be of dtype int");return P(function(f){return f.Cf(d,e,c)},{ma:d},function(f){return{ma:function(){var g=Kw(e,Ut(e));g=Oy(f,g);for(var h=ax(e,Nt(0,"int32")),k=g.s-h.s,l=0;l<k;++l)h=hv(h,l+1);h=$x(h,Qt(g.shape,"bool"));k=Ut(g);return dy(h,g,k)}}})}});function Py(a,b,c){I(a.s===b.length,"Error in slice"+a.s+"D: Length of begin "+b+" must "+("match the rank of the array ("+a.s+")."));I(a.s===c.length,"Error in slice"+a.s+"D: Length of size "+c+" must "+("match the rank of the array ("+a.s+")."));for(var d=0;d<a.s;++d)I(b[d]+c[d]<=a.shape[d],"Error in slice"+a.s+"D: begin["+d+"] + size["+d+"] "+("("+(b[d]+c[d])+") would overflow input.shape["+d+"] ("+a.shape[d]+")"))}
function Qy(a,b,c,d,e,f,g,h,k){e=void 0===e?0:e;f=void 0===f?0:f;k=void 0===k?0:k;if(0!==(void 0===g?0:g))throw Error("wb");if(0!==(void 0===h?0:h))throw Error("xb");var l=[],m=[];g=[];for(h=0;h<a.length;h++)l[h]=Ry(e,b,d,a,h),m[h]=Sy(f,c,d,a,h),k&1<<h&&(m[h]=l[h]+1,g.push(h));a=Array(a.length).fill(0);a=a.map(function(p,q){p=0;for(var r=l[q];!(0<d[q]?r>=m[q]:r<=m[q]);r+=d[q])p+=1;return p});return[l,a,g]}
function Ry(a,b,c,d,e){b=b[e];a&1<<e&&(b=0<c[e]?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);a=d[e];0>b&&(b+=a);return b=Math.max(0,Math.min(b,a-1))}function Sy(a,b,c,d,e){b=b[e];a&1<<e&&(b=0<c[e]?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);a=d[e];0>b&&(b+=a);return b=0<c[e]?Math.max(0,Math.min(b,a)):Math.max(-1,Math.min(b,a-1))}function Ty(a,b,c){for(var d=c.length,e=0;e<c.length;e++)if(1<c[e]){d=e;break}for(d+=1;d<c.length;d++)if(0<b[d]||c[d]!==a[d])return!1;return!0}
function Uy(a,b){for(var c=0<a.length?a[a.length-1]:1,d=0;d<a.length-1;d++)c+=a[d]*b[d];return c};var Vy=Q({Eq:function(a,b,c){var d=U(a,"x","slice");if(0===d.s)throw Error("yb");var e;"number"===typeof b?e=[b].concat(la(Array(d.s-1).fill(0))):b.length<d.s?e=b.concat(Array(d.s-b.length).fill(0)):e=b.slice();var f;null==c?f=Array(d.s).fill(-1):"number"===typeof c?f=[c].concat(la(Array(d.s-1).fill(-1))):c.length<d.s?f=c.concat(Array(d.s-c.length).fill(-1)):f=c;f=f.map(function(h,k){if(0<=h)return h;I(-1===h,"Bad value in size");return d.shape[k]-e[k]});Py(d,e,f);var g=d.shape;return P(function(h){return h.slice(d,
e,f)},{ma:d},function(h){for(var k=[],l=0;l<h.s;l++)k.push([e[l],g[l]-e[l]-f[l]]);return{ma:function(){return h.Bd(k)}}})}}),Wy=Q({xq:function(a,b,c){a=U(a,"x","slice1d");I(1===a.s,"slice1d expects a rank-1 tensor, but got a rank-"+a.s+" tensor");return Vy(a,[b],[c])}}),Xy=Q({zq:function(a,b,c){a=U(a,"x","slice2d");I(2===a.s,"slice2d expects a rank-2 tensor, but got a rank-"+a.s+" tensor");return Vy(a,b,c)}}),Yy=Q({Bq:function(a,b,c){a=U(a,"x","slice3d");I(3===a.s,"slice3d expects a rank-3 tensor, but got a rank-"+
a.s+" tensor");return Vy(a,b,c)}}),Zy=Q({Dq:function(a,b,c){a=U(a,"x","slice4d");I(4===a.s,"slice4d expects a rank-4 tensor, but got a rank-"+a.s+" tensor");return Vy(a,b,c)}});var $y=Q({Hq:function(a,b){b=void 0===b?-1:b;a=U(a,"logits","softmax");-1===b&&(b=a.s-1);if(b!==a.s-1)throw Error("zb`"+a.s+"`"+b);return Gs(function(c){var d=c.ng([b],!0),e=ks(c).sub(d).exp();return{value:e,df:function(f){f=f.ka(e);return f.sub(f.Na([b],!0).ka(e))}}})(a)}}),az=Q({qo:function(a,b){b=void 0===b?-1:b;a=U(a,"logits","logSoftmax");-1===b&&(b=a.s-1);if(b!==a.s-1)throw Error("Ab`"+a.s+"`"+b);return Gs(function(c){var d=c.max(b,!0);c=c.sub(d);var e=ks(c).sub(c.exp().Na(b,!0).log());return{value:e,
df:function(f){var g=e.exp();return f.sub(f.Na(b,!0).ka(g))}}})(a)}});function bz(a,b,c,d){if("int32"!==a.dtype)throw Error("Bb`"+a.dtype);if(2<a.s)throw Error("Cb`"+a.shape);var e=0<a.s?a.shape[0]:1;a=1<a.s?a.shape[1]:1;if(c.length!==a)throw Error("Db`"+c.length+"`"+a);c=b.size;if(0!==b.s&&(1!==b.s||c!==e))throw Error("Eb`"+b.shape+"`"+e);if(b.dtype!==d.dtype)throw Error("Fb");};var cz=Q({Lq:function(a,b,c,d){d=void 0===d?0:d;var e=U(a,"sparseIndices","sparseToDense","int32"),f=U(b,"sparseValues","sparseToDense"),g=U(d,"defaultValue","sparseToDense",f.dtype);bz(e,f,c,g);return P(function(h){return h.Ih(e,f,c,g)},{ql:e,rl:f,jl:g})}});var dz={};dz.ud=Q({xn:function(a){I("complex64"===a.dtype,"The dtype for tf.spectral.fft() must be complex64 "+("but got "+a.dtype+"."));var b=a.shape[a.shape.length-1],c=bs(a,a.size/b,b);return P(function(d){return d.ud(c)},{input:a}).ra(a.shape)}});dz.Yc=Q({Qn:function(a){I("complex64"===a.dtype,"The dtype for tf.spectral.ifft() must be complex64 "+("but got "+a.dtype+"."));var b=a.shape[a.shape.length-1],c=bs(a,a.size/b,b);return P(function(d){return d.Yc(c)},{input:a}).ra(a.shape)}});
dz.yg=Q({fq:function(a){I("float32"===a.dtype,"The dtype for rfft() must be real value but\n    got "+a.dtype);var b=a.shape[a.shape.length-1],c=a.size/b,d=a.sc();c=bs(mt(a,d),c,b);var e=dz.ud(c);c=Math.floor(b/2)+1;d=nt(e);e=ot(e);d=d.split([c,b-c],d.shape.length-1);b=e.split([c,b-c],e.shape.length-1);e=a.shape.slice();e[a.shape.length-1]=c;return mt(d[0],b[0]).ra(e)}});
dz.hg=Q({Yn:function(a){var b=a.shape[a.shape.length-1],c=a.size/b;if(2>=b){var d=bs(a,c,b);d=dz.Yc(d);return nt(d)}d=[c,2*(b-1)];var e=bs(nt(a),c,b);a=bs(ot(a),c,b);var f=e.slice([0,1],[c,b-2]).reverse(1);b=a.slice([0,1],[c,b-2]).reverse(1).ka(Nt(-1));e=e.concat(f,1);a=a.concat(b,1);d=bs(mt(e,a),d[0],d[1]);d=dz.Yc(d);return nt(d)}});var ez=Q({Wq:function(a,b,c,d,e,f,g,h,k){e=void 0===e?0:e;f=void 0===f?0:f;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?0:k;if(0!==g)throw Error("wb");if(0!==h)throw Error("xb");var l=U(a,"x","stridedSlice");if(d.every(function(r){return 1===r})){var m=t(Qy(l.shape,b,c,d,e,f,g,h,k));a=m.next().value;var p=m.next().value,q=m.next().value;m=p.filter(function(r,u){return-1===q.indexOf(u)});return Vy(l,a,p).ra(m)}return P(function(r){return r.Ce(l,b,c,d,e,f,g,h,k)},{ma:l})}});var fz=Q({ir:function(a,b,c){b=void 0===b?1:b;c=void 0===c?!0:c;var d=U(a,"x","topk");if(0===d.s)throw Error("Gb");a=d.shape[d.shape.length-1];if(b>a)throw Error("Hb`"+a+"`"+b);var e=t(P(function(f){return f.Bf(d,b,c)},{ma:d}));a=e.next().value;e=e.next().value;return{values:a,Sn:e}}});var gz=Q({kr:function(a,b){var c=U(a,"x","transpose");null==b&&(b=c.shape.map(function(d,e){return e}).reverse());I(c.s===b.length,"Error in transpose: rank of input "+c.s+" "+("must match length of perm "+b+"."));b.forEach(function(d){I(0<=d&&d<c.s,"All entries in 'perm' must be between 0 and "+(c.s-1)+(" but got "+b))});return 1>=c.s?c.clone():P(function(d){return d.Ya(c,b)},{ma:c},function(d){var e=Mu(b);return{ma:function(){return d.Ya(e)}}})}});var V={$l:vw,bm:ww,fm:xw,Vf:yw,Tf:zw,Tl:Aw,Vl:Bw,Xl:Cw,ac:mt,nb:nt,yb:ot,concat:Tu,Cm:Uu,Em:Vu,Gm:Wu,Im:Xu,split:Su,ai:Bx,oe:sx,ah:Cx,$g:tx,li:Dx,Hh:Ex,fi:Fx,Xa:ky,hh:ly,jp:my,reverse:Cy,Wp:Dy,Yp:Ey,$p:Fy,bq:Gy,te:uy,Oe:vy,rf:wy,slice:Vy,wq:Wy,yq:Xy,Aq:Yy,Cq:Zy,abs:Kv,acos:Lv,acosh:Mv,asin:Nv,asinh:Ov,atan:Pv,atanh:Qv,ceil:Rv,Zh:Sv,cos:Tv,cosh:Uv,Ve:Vv,exp:Wv,expm1:Xv,floor:Yv,log:Zv,log1p:$v,Ni:aw,Kb:bw,uf:cw,round:dw,yf:ew,Hc:fw,sign:gw,sin:hw,sinh:iw,ze:jw,sqrt:kw,kb:lw,step:mw,tan:nw,tanh:ow,
all:Nx,any:Ox,le:Px,Ne:Qx,ng:Rx,max:Sx,Gc:Tx,min:Ux,No:Vx,Na:Wx,tf:Xx,Ic:Yw,ti:Zw,Ec:$w,wd:ax,yi:bx,zi:cx,Lc:dx,xd:ex,Ji:fx,Ki:gx,zd:hx,Yi:ix,add:Dw,Wg:Ew,Xg:Fw,atan2:Gw,Va:Iw,Wc:Jw,Ze:Hw,yd:Kw,Si:Lw,Ud:Mw,Ui:Nw,ue:Ow,Vi:Pw,ka:Qw,Zb:Rw,pow:Sw,bj:Tw,$d:Uw,lj:Vw,sub:Ww,mj:Xw,Ue:xy,Ii:yy,sf:zy,hd:Ay,zf:By,Sd:$x,Td:ay,kf:by,Pi:cy,de:dy,rr:function(a){return cr(this,function c(){var d,e,f;return Da(c,function(g){if(1==g.g)return d=U(a,"condition","whereAsync","bool"),wa(g,d.data(),2);e=g.i;f=zv(d.shape,
e);a!==d&&d.dispose();return g.return(f)})})}};V.buffer=av;V.hr=function(a,b){return cr(this,function d(){return Da(d,function(e){return e.return(Ou(a,b))})})};V.print=function(a,b){console.log(a.toString(void 0===b?!1:b))};V.ne=bv;V.Ib=cv;V.clone=dv;V.Id=ev;V.Qe=fv;V.We=hv;V.vn=jv;V.$e=function(a,b){return Pu(a,void 0===b?3:b)};V.wh=kv;V.we=lv;V.Bd=mv;V.lp=nv;V.np=ov;V.rp=pv;V.wp=qv;V.Gp=rv;V.Jp=sv;V.Rk=tv;V.ra=gv;V.Ae=uv;V.Fg=vv;V.stack=wv;V.ae=iv;V.lr=xv;V.Df=yv;
V.nq=function(a,b){return cr(this,function d(){var e,f,g,h,k,l,m,p,q,r,u;return Da(d,function(x){if(1==x.g)return e=U(a,"x","setdiff1d"),f=U(b,"y","setdiff1d"),I(e.dtype===f.dtype,"x and y should have the same dtype, but got x ("+e.dtype+") and y ("+f.dtype+")."),I(1===e.s,"x should be 1D tensor, but got x ("+e.shape+")."),I(1===f.s,"y should be 1D tensor, but got y ("+f.shape+")."),wa(x,e.data(),2);if(3!=x.g)return g=x.i,wa(x,f.data(),3);h=x.i;k=new Set(h);for(m=l=0;m<g.length;m++)k.has(g[m])||l++;
p=new Rr([l],e.dtype);q=new Rr([l],"int32");for(u=r=0;r<g.length;r++)k.has(g[r])||(p.values[u]=g[r],q.values[u]=r,u++);return x.return([Vr(p),Vr(q)])})})};V.fill=function(a,b,c){c=c||zr(b);var d=ur(c,J(a));d.fill(b);return Ur(a,{values:d},c)};V.io=function(a,b,c){if(0===c)throw Error("Ib");b=(b-a)/(c-1);c=Hr(c,"float32");c[0]=a;for(a=1;a<c.length;a++)c[a]=c[a-1]+b;return Ot(c,"float32")};V.hp=Qt;V.Sk=St;V.Wa=Nt;V.Cd=Mt;V.dr=Ot;V.Zk=Pt;
V.$k=function(a,b){jr(a);if(null!=b&&3!==b.length)throw Error("Jb");var c=ht(a);if(3!==c.length&&1!==c.length)throw Error("Kb");if(1===c.length&&null==b)throw Error("Lb");return Mt(a,b||c,"int32")};V.Fe=function(a,b,c){jr(a);if(null!=b&&4!==b.length)throw Error("Mb");var d=ht(a);if(4!==d.length&&1!==d.length)throw Error("Nb");if(1===d.length&&null==b)throw Error("Ob");return Mt(a,b||d,c)};
V.er=function(a,b,c){jr(a);if(null!=b&&5!==b.length)throw Error("Pb");var d=ht(a);if(5!==d.length&&1!==d.length)throw Error("Qb");if(1===d.length&&null==b)throw Error("Rb");return Mt(a,b||d,c)};V.fr=function(a,b,c){jr(a);if(null!=b&&6!==b.length)throw Error("Sb");var d=ht(a);if(6!==d.length&&1!==d.length)throw Error("Tb");if(1===d.length&&null==b)throw Error("Ub");return Mt(a,b||d,c)};V.vc=Rt;V.$i=Tt;V.sc=Ut;V.Ya=gz;V.Dg=$y;V.Oi=az;V.Li=hy;V.yh=Lx;V.af=Oy;V.Cf=Ny;V.Rl=iy;V.Uo=jy;V.Qo=ny;V.Ce=ez;
V.Bf=fz;V.Gh=Jy;V.ud=dz.ud;V.Yc=dz.Yc;V.yg=dz.yg;V.hg=dz.hg;V.Ih=cz;V.kh=Hx;V.op=Q;V.zo=ey;V.ho=Yx;V.image=Ix;V.Eg=dz;V.Cn=Gx;var hz=function(){this.i=!0;K.get("IS_BROWSER")&&(this.g=document.createElement("canvas").getContext("2d"))};n=hz.prototype;n.kj=function(a){this.data=new yu(a)};
n.register=function(a,b,c){this.i&&(this.i=!1,K.get("IS_NODE")&&Av("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n"));if(this.data.has(a))throw Error("Wb");
this.data.set(a,{dtype:c})};n.write=function(a,b){if(null==b)throw Error("Xb");this.data.get(a).values=b};
n.$e=function(a,b){if(null==a)throw Error("Yb");if(K.get("IS_NODE")&&null==a.getContext)throw Error("Zb");if(null!=a.getContext)var c=a.getContext("2d").getImageData(0,0,a.width,a.height).data;else if(a instanceof ImageData)c=a.data;else if(a instanceof HTMLImageElement||a instanceof HTMLVideoElement){if(null==this.g)throw Error("$b");this.g.canvas.width=a.width;this.g.canvas.height=a.height;this.g.drawImage(a,0,0,a.width,a.height);c=this.g.getImageData(0,0,a.width,a.height).data}else throw Error("ac`"+
a.constructor.name);if(4===b)var d=new Int32Array(c);else{var e=a.width*a.height;d=new Int32Array(e*b);for(var f=0;f<e;f++)for(var g=0;g<b;++g)d[f*b+g]=c[4*f+g]}return V.$k(d,[a.height,a.width,b])};n.qg=function(a){return cr(this,function c(){var d=this;return Da(c,function(e){return e.return(d.mf(a))})})};n.mf=function(a){var b=this.data.get(a),c=b.Jb;return"complex64"===b.dtype?(a=L(c.nb),c=L(c.yb),Bu(a,c)):this.data.get(a).values};
n.qe=function(a){if(this.data.has(a)){var b=this.data.get(a).Jb;null!=b&&(b.nb.dispose(),b.yb.dispose());this.data.data.delete(a)}};n.time=function(a){return cr(this,function c(){var d,e;return Da(c,function(f){d=Ir();a();e=Ir()-d;return f.return({Hi:e})})})};n.ac=function(a,b){var c=Ur(a.shape,{},"complex64");this.data.get(c.Da).Jb={nb:Ds(a.clone()),yb:Ds(b.clone())};return c};n.nb=function(a){return this.data.get(a.Da).Jb.nb.clone()};n.yb=function(a){return this.data.get(a.Da).Jb.yb.clone()};
var Y=function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(c){null!=c&&I("complex64"!==c.dtype,b+" does not support complex64 tensors.")})};n=hz.prototype;n.slice=function(a,b,c){Y(a,"slice");if(Ty(a.shape,b,c)){var d=Uy(b,a.Aa),e=J(c),f=L(a);return V.Cd(f.subarray(d,d+e),c,a.dtype)}c=V.buffer(c,a.dtype);a=gs(a);for(d=0;d<c.size;++d)e=Tr(c,d).map(function(g,h){return g+b[h]}),c.values[d]=a.get.apply(a,la(e));return Vr(c)};
n.Ce=function(a,b,c,d,e,f,g,h,k){Y(a,"stridedSlice");c=t(Qy(a.shape,b,c,d,e,f,g,h,k));b=c.next().value;e=c.next().value;var l=c.next().value;c=e.filter(function(m,p){return-1===l.indexOf(p)});if(c.some(function(m){return 0===m}))return V.Cd([],c);e=V.buffer(e,a.dtype);a=gs(a);for(f=0;f<e.size;f++){g=Tr(e,f);h=Array(g.length);for(k=0;k<h.length;k++)h[k]=g[k]*d[k]+b[k];e.set.apply(e,[a.get.apply(a,la(h))].concat(la(g)))}return Vr(e).ra(c)};
n.Df=function(a,b){for(var c=a.shape[b],d=Array(a.s-1),e=0,f=0;f<a.s;f++)f!==b&&(d[e++]=a.shape[f]);e=Array(a.s).fill(0);f=a.shape.slice();f[b]=1;c=Array(c);for(var g=0;g<c.length;g++)e[b]=g,c[g]=this.slice(a,e,f).ra(d);return c};n.reverse=function(a,b){Y(a,"reverse");for(var c=V.buffer(a.shape,a.dtype),d=gs(a),e={},f=0;f<c.size;e={Je:e.Je},f++){var g=Tr(c,f);e.Je=g.slice();b.forEach(function(h){return function(k){return h.Je[k]=a.shape[k]-1-h.Je[k]}}(e));c.set.apply(c,[d.get.apply(d,la(e.Je))].concat(la(g)))}return Vr(c)};
n.concat=function(a,b){Y(a,"concat");var c=a.map(function(h){var k=J(h.shape.slice(b));return bs(h,-1,k)}),d=Ru(c.map(function(h){return h.shape}),1),e=V.buffer(d,a[0].dtype).values;if(1===c[0].shape[0]){var f=0;c.forEach(function(h){e.set(L(h),f);f+=h.size})}else{var g=0;c.forEach(function(h){for(var k=L(h),l=0,m=0;m<h.shape[0];++m)for(var p=m*d[1]+g,q=0;q<h.shape[1];++q)e[p+q]=k[l++];g+=h.shape[1]})}c=Ru(a.map(function(h){return h.shape}),b);return V.Cd(e,c,a[0].dtype)};
n.Kb=function(a){Y(a,"neg");return this.lf(V.Wa(-1),a)};n.add=function(a,b){return"complex64"===a.dtype||"complex64"===b.dtype?iz(this,a.Ib("complex64"),b.Ib("complex64"),function(c,d,e,f){return{nb:c+e,yb:d+f}}):jz(a,b,ts(a.dtype,b.dtype),function(c,d){return c+d})};n.Wg=function(a){Y(a,"addN");for(var b=a.map(function(h){return L(h)}),c=V.buffer(a[0].shape,a[0].dtype),d=c.values,e=0;e<a.length;e++)for(var f=b[e],g=0;g<d.length;g++)d[g]+=f[g];return Vr(c)};
n.rh=function(a,b){return"complex64"===a.dtype||"complex64"===b.dtype?iz(this,a.Ib("complex64"),b.Ib("complex64"),function(c,d,e,f){return{nb:c-e,yb:d-f}}):jz(a,b,ts(a.dtype,b.dtype),function(c,d){return c-d})};n.pow=function(a,b){Y([a,b],"pow");return jz(a,b,a.dtype,function(c,d){return Math.pow(c,d)})};
n.Pe=function(a,b,c,d){Y([a,b],"matMul");var e=c?a.shape[1]:a.shape[2],f=c?a.shape[2]:a.shape[1],g=d?b.shape[1]:b.shape[2],h=a.shape[0],k=L(a),l=L(b),m=t(c?[a.Aa[0],1,a.Aa[1]]:[a.Aa[0],a.Aa[1],1]);c=m.next().value;var p=m.next().value;m=m.next().value;var q=t(d?[1,b.Aa[1],b.Aa[0]]:[b.Aa[1],1,b.Aa[0]]);b=q.next().value;d=q.next().value;q=q.next().value;var r=f*g;a=V.buffer([h,f,g],a.dtype);for(var u=a.values,x=0;x<h;x++)for(var v=0;v<f;v+=48)for(var y=0;y<g;y+=48)for(var C=0;C<e;C+=48)for(var D=Math.min(v+
48,f),F=Math.min(y+48,g),H=Math.min(C+48,e),O=v;O<D;O++)for(var N=y;N<F;N++){for(var R=0,S=C;S<H;S++)R+=k[x*c+O*p+S*m]*l[S*b+N*d+x*q];u[x*r+(O*g+N)]+=R}return Vr(a)};n.vi=function(a,b,c,d,e,f){a=this.Pe(a,b,c,d);e&&(a=this.add(a,e));if(f&&"linear"!==f)if("relu"===f)a=this.hd(a);else throw Error("Vb`"+f);return a};
n.lf=function(a,b){return"complex64"===a.dtype||"complex64"===b.dtype?iz(this,a.Ib("complex64"),b.Ib("complex64"),function(c,d,e,f){return{nb:c*e-d*f,yb:c*f+d*e}}):jz(a,b,ts(a.dtype,b.dtype),function(c,d){return c*d})};n.dj=function(a,b){Y([a,b],"realDivide");return jz(a,b,"float32",function(c,d){return c/d})};n.Ze=function(a,b){Y([a,b],"floorDiv");return jz(a,b,"int32",function(c,d){return Math.floor(c/d)})};
n.Na=function(a,b){Y(a,"sum");Ku("sum",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;var d=ts(a.dtype,"int32");b=V.vc(b,d);c=J(c);d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=0,h=0;h<c;++h)g+=a[f+h];d[e]=g}return b};n.tf=function(a,b){Y(a,"sum");var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;var d=ts(a.dtype,"int32");b=V.vc(b,d);c=J(c);d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=1,h=0;h<c;++h)g*=a[f+h];d[e]=g}return b};
n.Cf=function(a,b,c){Y(a,"unsortedSegmentSum");for(var d=[],e=a.s-b.s,f=0;f<e;++f)b=b.We(f+1);for(e=0;e<c;++e)f=V.Wa(e,"int32"),f=fs(V.Ic(f,b),"float32").ka(a).Na(0),d.push(f);return V.stack(d)};n.Ne=function(a,b){Y(a,"argMin");b=[b];Ku("argMin",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,"int32");c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0,k=0;k<c;++k){var l=a[f+k];l<g&&(g=l,h=k)}d[e]=h}return b};
n.le=function(a,b){Y(a,"argMax");b=[b];Ku("argMax",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,"int32");c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0,k=0;k<c;++k){var l=a[f+k];l>g&&(g=l,h=k)}d[e]=h}return b};
n.Id=function(a,b,c,d){Y(a,"cumsum");if(b!==a.s-1)throw Error("bc`"+(a.s-1)+"`"+b);b=ts(a.dtype,"int32");b=V.vc(a.shape,b);var e=L(b),f=L(a),g=a.shape[a.s-1];a=d?function(m,p){return m+g-p-1}:function(m,p){return m+p};for(d=0;d<f.length;d+=g)for(var h=0;h<g;h++){var k=a(d,h);if(0===h)e[k]=c?0:f[k];else{var l=a(d,h-1);e[k]=c?f[l]+e[l]:f[k]+e[l]}}return b};n.Ic=function(a,b){Y([a,b],"equal");return jz(a,b,"bool",function(c,d){return c===d?1:0})};
n.zd=function(a,b){Y([a,b],"notEqual");return jz(a,b,"bool",function(c,d){return c!==d?1:0})};n.Lc=function(a,b){Y([a,b],"less");return jz(a,b,"bool",function(c,d){return c<d?1:0})};n.xd=function(a,b){Y([a,b],"lessEqual");return jz(a,b,"bool",function(c,d){return c<=d?1:0})};n.Ec=function(a,b){Y([a,b],"greater");return jz(a,b,"bool",function(c,d){return c>d?1:0})};n.wd=function(a,b){Y([a,b],"greaterEqual");return jz(a,b,"bool",function(c,d){return c>=d?1:0})};
n.Td=function(a){Y(a,"logicalNot");for(var b=L(a),c=new Uint8Array(b.length),d=0;d<b.length;++d)c[d]=b[d]?0:1;return Ur(a.shape,{values:c},"bool")};n.Sd=function(a,b){Y([a,b],"logicalAnd");return jz(a,b,"bool",function(c,d){return c&&d})};n.kf=function(a,b){Y([a,b],"logicalOr");return jz(a,b,"bool",function(c,d){return c||d})};
n.Xi=function(a,b,c){Y([a,b,c],"select");var d=L(a),e=L(b),f=L(c);c=V.vc(b.shape,ts(b.dtype,c.dtype));var g=L(c),h=0;a=0===a.s||1<a.s||1===b.s?1:b.shape[1];for(b=0;b<d.length;b++)for(var k=0;k<a;k++)1===d[b]?g[h++]=e[b]:g[h++]=f[b];return c};n.de=function(a){Y([a],"where");var b=L(a);return zv(a.shape,b)};n.Bf=function(a,b){Y(a,"topk");var c=L(a);return Fu(c,a.shape,a.dtype,b)};
n.min=function(a,b){Y(a,"min");Ku("min",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,a.dtype);c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0;h<c;++h){var k=a[f+h];k<g&&(g=k)}d[e]=g}return b};n.Ud=function(a,b){Y([a,b],"minimum");return jz(a,b,a.dtype,function(c,d){return Math.min(c,d)})};n.ue=function(a,b){Y([a,b],"mod");return jz(a,b,a.dtype,function(c,d){var e=c%d;return 0>c&&0>d||0<=c&&0<=d?e:(e+d)%d})};
n.max=function(a,b){Y(a,"max");Ku("max",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,a.dtype);c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0;h<c;++h){var k=a[f+h];k>g&&(g=k)}d[e]=g}return b};n.yd=function(a,b){Y([a,b],"maximum");return jz(a,b,a.dtype,function(c,d){return Math.max(c,d)})};
n.all=function(a,b){Y(a,"all");Ku("all",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,a.dtype);c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0;h<c;++h){var k=a[f+h];g=g&&k}d[e]=g}return b};n.any=function(a,b){Y(a,"any");Ku("any",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;b=V.vc(b,a.dtype);c=J(c);var d=L(b);a=L(a);for(var e=0;e<d.length;++e){for(var f=e*c,g=a[f],h=0;h<c;++h){var k=a[f+h];g=g||k}d[e]=g}return b};
n.$d=function(a,b){Y([a,b],"squaredDifference");return jz(a,b,a.dtype,function(c,d){c-=d;return c*c})};n.ceil=function(a){Y(a,"ceil");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.ceil(b[d]);return Ur(a.shape,{values:c})};n.floor=function(a){Y(a,"floor");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.floor(b[d]);return Ur(a.shape,{values:c})};
n.sign=function(a){Y(a,"x");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=0>b[d]?-1:0<b[d]?1:0;return Ur(a.shape,{values:c})};n.round=function(a){Y(a,"round");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d){var e=Math.floor(b[d]);c[d]=.5>b[d]-e?Math.floor(b[d]):.5<b[d]-e?Math.ceil(b[d]):0===e%2?e:e+1}return Ur(a.shape,{values:c})};
n.exp=function(a){Y(a,"exp");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.exp(b[d]);return Ur(a.shape,{values:c})};n.expm1=function(a){Y(a,"expm1");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.expm1(b[d]);return Ur(a.shape,{values:c})};n.log=function(a){Y(a,"log");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.log(b[d]);return Ur(a.shape,{values:c})};
n.log1p=function(a){Y(a,"log1p");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.log1p(b[d]);return Ur(a.shape,{values:c})};n.sqrt=function(a){Y(a,"sqrt");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=Math.sqrt(b[d]);return Ur(a.shape,{values:c})};n.yf=function(a){Y(a,"rsqrt");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=1/Math.sqrt(b[d]);return Ur(a.shape,{values:c})};
n.kb=function(a){Y(a,"square");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d){var e=b[d];c[d]=e*e}return Ur(a.shape,{values:c})};n.uf=function(a){Y(a,"reciprocal");for(var b=L(a),c=new Float32Array(b.length),d=0;d<b.length;++d)c[d]=1/b[d];return Ur(a.shape,{values:c})};n.hd=function(a){Y(a,"relu");var b=V.vc(a.shape,a.dtype),c=L(b);a=L(a);for(var d=0;d<a.length;++d)c[d]=Math.max(0,a[d]);return b};
n.sf=function(a,b){Y([a,b],"prelu");return jz(a,b,a.dtype,function(c,d){return 0>c?d*c:c})};n.Ue=function(a){Y(a,"elu");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d){var e=c[d];b[d]=0<=e?e:Math.exp(e)-1}return Ur(a.shape,{values:b})};n.oi=function(a,b){Y([a,b],"eluDer");var c=new Float32Array(b.size),d=L(b);a=L(a);for(var e=0;e<d.length;++e){var f=d[e];c[e]=1<=f?a[e]:a[e]*(f+1)}return Ur(b.shape,{values:c})};
n.zf=function(a){Y(a,"selu");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d){var e=c[d];b[d]=0<=e?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1)}return Ur(a.shape,{values:b})};n.Wi=function(a,b,c){Y(a,"clip");for(var d=new Float32Array(a.size),e=L(a),f=0;f<e.length;++f){var g=e[f];d[f]=g>c?c:g<b?b:g}return Ur(a.shape,{values:d})};n.abs=function(a){for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.abs(c[d]);return Ur(a.shape,{values:b})};
n.$h=function(a){for(var b=new Float32Array(a.size),c=L(a),d=0;d<a.size;++d)b[d]=Math.hypot(c[2*d],c[2*d+1]);return Ur(a.shape,{values:b})};n.Ci=function(a){Y(a,"int");for(var b=new Int32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=c[d];return Ur(a.shape,{values:b},"int32")};n.Hc=function(a){Y(a,"sigmoid");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=1/(1+Math.exp(-c[d]));return Ur(a.shape,{values:b})};
n.ze=function(a){Y(a,"softplus");for(var b=Math.log(1.1920928955078125E-7)+2,c=new Float32Array(a.size),d=L(a),e=0;e<d.length;++e){var f=d[e]>-b,g=Math.exp(d[e]),h=void 0;d[e]<b?h=g:f?h=d[e]:h=Math.log(1+g);c[e]=h}return Ur(a.shape,{values:c})};n.sin=function(a){Y(a,"sin");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.sin(c[d]);return Ur(a.shape,{values:b})};
n.cos=function(a){Y(a,"cos");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.cos(c[d]);return Ur(a.shape,{values:b})};n.tan=function(a){Y(a,"tan");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.tan(c[d]);return Ur(a.shape,{values:b})};n.asin=function(a){Y(a,"asin");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.asin(c[d]);return Ur(a.shape,{values:b})};
n.acos=function(a){Y(a,"acos");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.acos(c[d]);return Ur(a.shape,{values:b})};n.atan=function(a){Y(a,"atan");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.atan(c[d]);return Ur(a.shape,{values:b})};n.atan2=function(a,b){Y([a,b],"atan2");return jz(a,b,a.dtype,function(c,d){return Math.atan2(c,d)})};
n.sinh=function(a){Y(a,"sinh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.sinh(c[d]);return Ur(a.shape,{values:b})};n.cosh=function(a){Y(a,"cosh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.cosh(c[d]);return Ur(a.shape,{values:b})};n.tanh=function(a){Y(a,"tanh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=mr(c[d]);return Ur(a.shape,{values:b})};
n.asinh=function(a){Y(a,"asinh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.asinh(c[d]);return Ur(a.shape,{values:b})};n.acosh=function(a){Y(a,"acosh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.acosh(c[d]);return Ur(a.shape,{values:b})};n.atanh=function(a){Y(a,"atanh");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d)b[d]=Math.atanh(c[d]);return Ur(a.shape,{values:b})};
n.Ve=function(a){Y(a,"erf");for(var b=new Float32Array(a.size),c=L(a),d=0;d<c.length;++d){var e=c[d],f=1/(1+.3275911*e);b[d]=1-((((1.061405429*f+-1.453152027)*f+1.421413741)*f+-.284496736)*f+.254829592)*f*Math.exp(-e*e)}return Ur(a.shape,{values:b})};n.step=function(a,b){b=void 0===b?0:b;Y(a,"step");for(var c=new Float32Array(a.size),d=L(a),e=0;e<d.length;++e){var f=d[e];c[e]=isNaN(f)?NaN:0<f?1:b}return Ur(a.shape,{values:c})};
n.oe=function(a,b,c){Y([a,b],"conv2d");for(var d=c.Mb,e=c.Db,f=c.Ub,g=c.Yb,h=c.Ia.left,k=c.Ia.top,l=V.buffer(c.Qb,a.dtype),m=L(a),p=L(b),q=l.values,r=0;r<c.Cb;++r)for(var u=r*a.Aa[0],x=r*l.Aa[0],v=0;v<c.Lb;++v)for(var y=x+v*l.Aa[1],C=v*c.rb-h,D=0;D<d;D++){var F=C+D*f;if(!(0>F||F>=c.Eb)){var H=D*b.Aa[0];F=u+F*a.Aa[1];for(var O=0;O<c.Gb;++O)for(var N=y+O*c.Ab,R=O*c.lb-k,S=0;S<e;S++){var W=R+S*g;if(!(0>W||W>=c.Fb)){W=F+W*c.hb;for(var X=H+S*b.Aa[1],T=0;T<c.hb;++T){for(var aa=m[W+T],ka=0;ka<c.Ab;++ka)q[N+
ka]+=aa*p[X+ka];X+=c.Ab}}}}}return Vr(l)};
n.ah=function(a,b,c){for(var d=c.Ye,e=c.Mb,f=c.Db,g=c.mi,h=c.Ub,k=c.Yb,l=c.Ia.Od,m=c.Ia.left,p=c.Ia.top,q=V.buffer(c.Qb,a.dtype),r=L(a),u=L(b),x=q.values,v=0;v<c.Cb;++v)for(var y=v*a.Aa[0],C=v*q.Aa[0],D=0;D<c.qf;++D)for(var F=C+D*q.Aa[1],H=D*c.Be-l,O=0;O<d;O++){var N=H+O*g;if(!(0>N||N>=c.ef)){var R=O*b.Aa[0];N=y+N*a.Aa[1];for(var S=0;S<c.Lb;++S)for(var W=F+S*q.Aa[2],X=S*c.rb-p,T=0;T<e;T++){var aa=X+T*h;if(!(0>aa||aa>=c.Eb)){var ka=R+T*b.Aa[1];aa=N+aa*a.Aa[2];for(var za=0;za<c.Gb;++za)for(var qa=W+
za*c.Ab,Ua=za*c.lb-m,Ia=0;Ia<f;Ia++){var Ma=Ua+Ia*k;if(!(0>Ma||Ma>=c.Fb)){Ma=aa+Ma*c.hb;for(var pb=ka+Ia*b.Aa[2],ab=0;ab<c.hb;++ab){for(var Ib=r[Ma+ab],cb=0;cb<c.Ab;++cb)x[qa+cb]+=Ib*u[pb+cb];pb+=c.Ab}}}}}}}return Vr(q)};
n.ei=function(a,b,c){Y([a,b],"conv2dDerInput");var d=V.buffer(c.Zc,"float32"),e=d.values,f=t(d.Aa),g=f.next().value,h=f.next().value;f=f.next().value;var k=L(a),l=t(a.Aa);a=l.next().value;var m=l.next().value;l=l.next().value;var p=L(b),q=t(b.Aa);b=q.next().value;var r=q.next().value;q=q.next().value;var u=c.Cb,x=c.Mb,v=c.Db,y=c.hb,C=c.Eb,D=c.Fb,F=c.Ab,H=c.Lb,O=c.Gb,N=c.rb,R=c.lb,S=x-1-c.Ia.top;c=v-1-c.Ia.left;for(var W=0;W<u;++W)for(var X=0;X<y;++X)for(var T=0;T<C;++T)for(var aa=T-S,ka=Math.max(0,
Math.ceil(aa/N)),za=Math.min(H,(x+aa)/N),qa=0;qa<D;++qa){for(var Ua=qa-c,Ia=Math.max(0,Math.ceil(Ua/R)),Ma=Math.min(O,(v+Ua)/R),pb=0,ab=ka;ab<za;++ab)for(var Ib=ab*N-aa,cb=Ia;cb<Ma;++cb)for(var Jb=a*W+m*ab+l*cb,Nb=b*(x-1-Ib)+r*(v-1-(cb*R-Ua))+q*X,qb=0;qb<F;++qb)pb+=k[Jb+qb]*p[Nb+qb];e[g*W+h*T+f*qa+X]=pb}return Vr(d)};
n.ii=function(a,b,c){var d=V.buffer(c.Zc,"float32"),e=d.values,f=t(d.Aa),g=f.next().value,h=f.next().value,k=f.next().value;f=f.next().value;var l=L(a),m=t(a.Aa);a=m.next().value;var p=m.next().value,q=m.next().value;m=m.next().value;var r=L(b),u=t(b.Aa);b=u.next().value;var x=u.next().value,v=u.next().value;u=u.next().value;var y=c.Cb,C=c.Ye,D=c.Mb,F=c.Db,H=c.hb,O=c.ef,N=c.Eb,R=c.Fb,S=c.Ab,W=c.qf,X=c.Lb,T=c.Gb,aa=c.Be,ka=c.rb,za=c.lb,qa=C-1-c.Ia.Od,Ua=D-1-c.Ia.top;c=F-1-c.Ia.left;for(var Ia=0;Ia<
y;++Ia)for(var Ma=0;Ma<H;++Ma)for(var pb=0;pb<O;++pb)for(var ab=pb-qa,Ib=Math.max(0,Math.ceil(ab/aa)),cb=Math.min(W,(C+ab)/aa),Jb=0;Jb<N;++Jb)for(var Nb=Jb-Ua,qb=Math.max(0,Math.ceil(Nb/ka)),Og=Math.min(X,(D+Nb)/ka),Gd=0;Gd<R;++Gd){for(var cc=Gd-c,rf=Math.max(0,Math.ceil(cc/za)),Pg=Math.min(T,(F+cc)/za),ed=0,fd=Ib;fd<cb;++fd)for(var Qg=fd*aa-ab,nc=qb;nc<Og;++nc)for(var sf=nc*ka-Nb,je=rf;je<Pg;++je)for(var nm=a*Ia+p*fd+q*nc+m*je,om=b*(C-1-Qg)+x*(D-1-sf)+v*(F-1-(je*za-cc))+u*Ma,tf=0;tf<S;++tf)ed+=l[nm+
tf]*r[om+tf];e[g*Ia+h*pb+k*Jb+f*Gd+Ma]=ed}return Vr(d)};
n.$g=function(a,b,c){Y([a,b],"conv2dDerFilter");var d=c.rb,e=c.lb,f=c.Mb,g=c.Db,h=V.buffer(c.Nd,"float32"),k=c.Ia.left,l=c.Ia.top;a=gs(a);b=gs(b);for(var m=0;m<f;++m)for(var p=Math.max(0,Math.ceil((l-m)/d)),q=Math.min(c.Lb,(c.Eb+l-m)/d),r=0;r<g;++r)for(var u=Math.max(0,Math.ceil((k-r)/e)),x=Math.min(c.Gb,(c.Fb+k-r)/e),v=0;v<c.hb;++v)for(var y=0;y<c.Ab;++y){for(var C=0,D=0;D<c.Cb;++D)for(var F=p;F<q;++F)for(var H=m+F*d-l,O=u;O<x;++O)C+=a.get(D,H,r+O*e-k,v)*b.get(D,F,O,y);h.set(C,m,r,v,y)}return Vr(h)};
n.hi=function(a,b,c){var d=c.Be,e=c.rb,f=c.lb,g=c.Ye,h=c.Mb,k=c.Db,l=V.buffer(c.Nd,"float32"),m=l.values,p=t(l.Aa),q=p.next().value,r=p.next().value,u=p.next().value;p=p.next().value;var x=L(b),v=t(b.Aa);b=v.next().value;var y=v.next().value,C=v.next().value;v=v.next().value;var D=L(a),F=t(a.Aa);a=F.next().value;var H=F.next().value,O=F.next().value;F=F.next().value;for(var N=c.Ia.Od,R=c.Ia.left,S=c.Ia.top,W=0;W<g;++W)for(var X=Math.max(0,Math.ceil((N-W)/d)),T=Math.min(c.qf,(c.ef+N-W)/d),aa=W*q,ka=
0;ka<h;++ka)for(var za=Math.max(0,Math.ceil((S-ka)/e)),qa=Math.min(c.Lb,(c.Eb+S-ka)/e),Ua=ka*r+aa,Ia=0;Ia<k;++Ia)for(var Ma=Math.max(0,Math.ceil((R-Ia)/f)),pb=Math.min(c.Gb,(c.Fb+R-Ia)/f),ab=Ia*u+Ua,Ib=0;Ib<c.hb;++Ib)for(var cb=Ib*p+ab,Jb=0;Jb<c.Ab;++Jb){for(var Nb=0,qb=0;qb<c.Cb;++qb)for(var Og=qb*a,Gd=qb*b,cc=X;cc<T;++cc)for(var rf=(W+cc*d-N)*H+Og,Pg=cc*y+Gd,ed=za;ed<qa;++ed)for(var fd=(ka+ed*e-S)*O+rf,Qg=ed*C+Pg,nc=Ma;nc<pb;++nc)Nb+=D[(Ia+nc*f-R)*F+fd+Ib]*x[nc*v+Qg+Jb];m[cb+Jb]=Nb}return Vr(l)};
n.fh=function(a,b,c){Y([a,b],"depthwiseConv2D");for(var d=c.Mb,e=c.Db,f=c.Ub,g=c.Yb,h=c.Ia.left,k=c.Ia.top,l=c.Ab/c.hb,m=V.buffer(c.Qb,a.dtype),p=L(a),q=L(b),r=m.values,u=0;u<c.Cb;++u)for(var x=u*a.Aa[0],v=u*m.Aa[0],y=0;y<c.Lb;++y)for(var C=v+y*m.Aa[1],D=y*c.rb-h,F=0;F<d;++F){var H=D+F*f;if(!(0>H||H>=c.Eb)){var O=F*b.Aa[0];H=x+H*a.Aa[1];for(var N=0;N<c.Gb;++N)for(var R=C+N*m.Aa[2],S=N*c.lb-k,W=0;W<e;++W){var X=S+W*g;if(!(0>X||X>=c.Fb)){X=H+X*c.hb;for(var T=R,aa=O+W*b.Aa[1],ka=0;ka<c.hb;++ka){for(var za=
p[X+ka],qa=0;qa<l;++qa)r[T+qa]+=za*q[aa+qa];T+=l;aa+=l}}}}}return Vr(m)};
n.ki=function(a,b,c){Y([a,b],"depthwiseConv2DDerInput");var d=V.buffer(c.Zc,"float32"),e=d.values,f=t(d.Aa),g=f.next().value,h=f.next().value;f=f.next().value;var k=L(a),l=t(a.Aa);a=l.next().value;var m=l.next().value;l=l.next().value;var p=L(b),q=t(b.Aa);b=q.next().value;var r=q.next().value;q=q.next().value;var u=c.Cb,x=c.Mb,v=c.Db,y=c.hb,C=c.Eb,D=c.Fb,F=c.Lb,H=c.Gb,O=c.rb,N=c.lb,R=x-1-c.Ia.top,S=v-1-c.Ia.left;c=c.Ab/y;for(var W=0;W<u;++W)for(var X=0;X<y;++X)for(var T=0;T<C;++T)for(var aa=T-R,ka=
Math.max(0,Math.ceil(aa/O)),za=Math.min(F,(x+aa)/O),qa=0;qa<D;++qa){for(var Ua=qa-S,Ia=Math.max(0,Math.ceil(Ua/N)),Ma=Math.min(H,(v+Ua)/N),pb=0,ab=ka;ab<za;++ab)for(var Ib=ab*O-aa,cb=Ia;cb<Ma;++cb)for(var Jb=a*W+m*ab+l*cb,Nb=b*(x-1-Ib)+r*(v-1-(cb*N-Ua))+q*X,qb=0;qb<c;++qb)pb+=k[Jb+(X*c+qb)]*p[Nb+qb];e[g*W+h*T+f*qa+X]=pb}return Vr(d)};
n.ji=function(a,b,c){Y([a,b],"depthwiseConv2DDerFilter");var d=c.rb,e=c.lb,f=c.Mb,g=c.Db,h=V.buffer(c.Nd,"float32"),k=c.Ia.left,l=c.Ia.top,m=c.Ab/c.hb;a=gs(a);b=gs(b);for(var p=0;p<f;++p)for(var q=Math.max(0,Math.ceil((l-p)/d)),r=Math.min(c.Lb,(c.Eb+l-p)/d),u=0;u<g;++u)for(var x=Math.max(0,Math.ceil((k-u)/e)),v=Math.min(c.Gb,(c.Fb+k-u)/e),y=0;y<c.Ab;++y){for(var C=Math.trunc(y/m),D=y%m,F=0,H=0;H<c.Cb;++H)for(var O=q;O<r;++O)for(var N=p+O*d-l,R=x;R<v;++R)F+=a.get(H,N,u+R*e-k,C)*b.get(H,O,R,y);h.set(F,
p,u,C,D)}return Vr(h)};n.ae=function(a,b){Y(a,"tile");for(var c=Array(a.s),d=0;d<c.length;d++)c[d]=a.shape[d]*b[d];b=V.buffer(c,a.dtype);c=gs(a);for(d=0;d<b.values.length;++d){for(var e=Tr(b,d),f=Array(a.s),g=0;g<f.length;g++)f[g]=e[g]%a.shape[g];b.values[d]=c.values[Sr(c,f)]}return Vr(b)};
n.Bd=function(a,b,c){Y(a,"pad");var d=b.map(function(h,k){return h[0]+a.shape[k]+h[1]}),e=b.map(function(h){return h[0]});b=gs(a);d=V.buffer(d,a.dtype);0!==c&&d.values.fill(c);for(c=0;c<a.size;c++){var f=Tr(b,c),g=f.map(function(h,k){return h+e[k]});d.set.apply(d,[b.get.apply(b,la(f))].concat(la(g)))}return Vr(d)};
n.Ya=function(a,b){Y(a,"transpose");for(var c=Array(a.s),d=0;d<c.length;d++)c[d]=a.shape[b[d]];d=L(a);c=V.buffer(c,a.dtype);for(var e=gs(a),f=0;f<a.size;++f){for(var g=Tr(e,f),h=Array(g.length),k=0;k<h.length;k++)h[k]=g[b[k]];c.values[Sr(c,h)]=d[f]}return Vr(c)};n.af=function(a,b,c){Y([a,b],"gather");var d=a.shape.slice();b=L(b);d[c]=b.length;d=V.buffer(d,a.dtype);a=gs(a);for(var e=0;e<d.size;++e){var f=Tr(d,e),g=f.slice();g[c]=b[f[c]];d.values[e]=a.values[Sr(a,g)]}return Vr(d)};
n.ne=function(a,b,c){Y([a],"batchToSpaceND");var d=b.reduce(function(h,k){return h*k}),e=Bv(a.shape,b,d),f=Cv(e.length,b.length);d=Dv(a.shape,b,d);var g=Ev(c,b.length);b=Fv(d,c,b.length);return a.ra(e).Ya(f).ra(d).slice(g,b)};n.Ae=function(a,b,c){Y([a],"spaceToBatchND");var d=b.reduce(function(f,g){return f*g}),e=[[0,0]];e.push.apply(e,la(c));for(c=1+b.length;c<a.shape.length;++c)e.push([0,0]);a=a.Bd(e);e=Bv(a.shape,b,d,!1);c=Cv(e.length,b.length,!1);b=Dv(a.shape,b,d,!1);return a.ra(e).Ya(c).ra(b)};
n.rf=function(a,b,c){Y(a,"pool");for(var d=b.rb,e=b.lb,f=b.Ub,g=b.Yb,h=b.Ld,k=b.Md,l=b.Ia.top,m=b.Ia.left,p="max"===c?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,q=L(a),r=V.buffer(b.Qb,a.dtype),u=r.values,x=b.Qb[1]*b.Qb[2]*b.Qb[3],v=b.Qb[2]*b.Qb[3],y=b.Qb[3],C=0;C<b.Cb;++C)for(var D=C*x,F=C*a.Aa[0],H=0;H<b.hb;++H)for(var O=0;O<b.Lb;++O){var N=O*d-l,R=Math.max(0,N);N=Math.min(b.Eb,h+N);for(var S=D+O*v,W=0;W<b.Gb;++W){var X=W*e-m,T=Math.max(0,X);X=Math.min(b.Fb,k+X);for(var aa=p,ka=0,za=0,qa=
R;qa<N;qa+=f){for(var Ua=F+qa*a.Aa[1],Ia=T;Ia<X;Ia+=g){var Ma=q[Ua+Ia*a.Aa[2]+H];"max"===c&&Ma>aa?aa=Ma:"avg"===c&&(ka+=Ma,za++)}if(isNaN(aa))break}u[S+W*y+H]="avg"===c?ka/za:aa}}return Vr(r)};n.te=function(a,b){return this.rf(a,b,"max")};
n.Ri=function(a,b,c,d){Y([b,c],"maxPoolBackprop");c=V.buffer(d.Qb,"int32");var e=d.rb,f=d.lb,g=d.Ub,h=d.Yb,k=d.Ld,l=d.Md,m=d.Ia.top;var p=d.Ia.left;for(var q=gs(b),r=0;r<d.Cb;++r)for(var u=0;u<d.hb;++u)for(var x=0;x<d.Lb;++x){for(var v=x*e-m,y=v;0>y;)y+=g;for(var C=Math.min(d.Eb,k+v),D=0;D<d.Gb;++D){for(var F=D*f-p,H=F;0>H;)H+=h;for(var O=Math.min(d.Fb,l+F),N=Number.NEGATIVE_INFINITY,R=-1,S=y;S<C;S+=g)for(var W=S-v,X=H;X<O;X+=h){var T=X-F,aa=q.get(r,S,X,u);aa>N&&(N=aa,R=W*l+T)}c.set(R,r,x,D,u)}}p=
Vr(c);c=d.rb;e=d.lb;f=d.Ub;g=d.Yb;h=d.Ld;k=d.Md;l=k-1-d.Ia.left;m=h-1-d.Ia.top;b=V.buffer(b.shape,"float32");p=gs(p);a=gs(a);for(q=0;q<d.Cb;++q)for(r=0;r<d.hb;++r)for(u=0;u<d.Eb;++u)for(x=0;x<d.Fb;++x){v=u-m;y=x-l;for(D=C=0;D<h;D+=f)if(F=(v+D)/c,!(0>F||F>=d.Lb||Math.floor(F)!==F))for(H=0;H<k;H+=g)N=(y+H)/e,0>N||N>=d.Gb||Math.floor(N)!==N||(O=h*k-1-p.get(q,F,N,r)===D*k+H?1:0,0!==O&&(N=a.get(q,F,N,r),C+=N*O));b.set(C,q,u,x,r)}return Vr(b)};
n.Vh=function(a,b,c){Y([a,b],"avgPoolBackprop");var d=c.rb,e=c.lb,f=c.Mb,g=c.Db,h=c.Ub,k=c.Yb,l=c.Ld,m=c.Md,p=m-1-c.Ia.left,q=l-1-c.Ia.top;b=V.buffer(b.shape,"float32");f=1/(f*g);a=gs(a);for(g=0;g<c.Cb;++g)for(var r=0;r<c.hb;++r)for(var u=0;u<c.Eb;++u)for(var x=0;x<c.Fb;++x){for(var v=u-q,y=x-p,C=0,D=0;D<l;D+=h){var F=(v+D)/d;if(!(0>F||F>=c.Lb||Math.floor(F)!==F))for(var H=0;H<m;H+=k){var O=(y+H)/e;0>O||O>=c.Gb||Math.floor(O)!==O||(O=a.get(g,F,O,r),C+=O)}}b.set(C*f,g,u,x,r)}return Vr(b)};
n.Ib=function(a,b){return zu(a,b,this)};n.ra=function(a,b){return Au(a,b)};n.Oe=function(a,b){Y(a,"avgPool");return ks(this.rf(a,b,"avg"))};
n.vf=function(a,b,c,d){Y(a,"resizeBilinear");var e=t(a.shape),f=e.next().value,g=e.next().value,h=e.next().value;e=e.next().value;var k=L(a),l=new Float32Array(J([f,b,c,e])),m=[d&&1<b?g-1:g,d&&1<c?h-1:h],p=[d&&1<b?b-1:b,d&&1<c?c-1:c];d=0;var q=m[0]/p[0];m=m[1]/p[1];for(p=0;p<f;p++)for(var r=0;r<b;r++){var u=q*r,x=Math.floor(u),v=u-x;x=p*a.Aa[0]+x*a.Aa[1];u=p*a.Aa[0]+Math.min(g-1,Math.ceil(u))*a.Aa[1];for(var y=0;y<c;y++){var C=m*y,D=Math.floor(C),F=C-D,H=Math.min(h-1,Math.ceil(C));C=x+D*a.Aa[2];D=
u+D*a.Aa[2];var O=x+ +H*a.Aa[2];H=u+H*a.Aa[2];for(var N=0;N<e;N++){var R=k[C+N],S=k[D+N];R+=(k[O+N]-R)*F;S=R+(S+(k[H+N]-S)*F-R)*v;l[d++]=S}}}return V.Cd(l,[f,b,c,e])};
n.ej=function(a,b,c){Y([a,b],"resizeBilinearBackprop");var d=t(b.shape),e=d.next().value,f=d.next().value,g=d.next().value;d=d.next().value;var h=t(a.shape);h.next();var k=h.next().value;h=h.next().value;var l=new Float32Array(e*f*g*d),m=[c&&1<k?f-1:f,c&&1<h?g-1:g],p=[c&&1<k?k-1:k,c&&1<h?h-1:h];c=m[0]/p[0];m=m[1]/p[1];a=L(a);for(var q=p=0;q<e;q++)for(var r=q*b.Aa[0],u=0;u<k;u++){var x=u*c,v=Math.floor(x),y=r+v*b.Aa[1],C=r+Math.min(Math.ceil(x),f-1)*b.Aa[1];x-=v;v=1-x;for(var D=0;D<h;D++){var F=D*
m,H=Math.floor(F),O=Math.min(Math.ceil(F),g-1),N=F-H,R=1-N;F=y+H*b.Aa[2];var S=y+O*b.Aa[2];H=C+H*b.Aa[2];O=C+O*b.Aa[2];var W=v*R,X=v*N;R*=x;N*=x;for(var T=0;T<d;T++){var aa=a[p++];l[F+T]+=aa*W;l[S+T]+=aa*X;l[H+T]+=aa*R;l[O+T]+=aa*N}}}return V.Fe(l,[e,g,f,d],b.dtype)};
n.xf=function(a,b,c,d){Y(a,"resizeNearestNeighbor");var e=t(a.shape),f=e.next().value,g=e.next().value,h=e.next().value;e=e.next().value;var k=L(a),l=new Float32Array(f*b*c*e),m=[d&&1<b?g-1:g,d&&1<c?h-1:h],p=[d&&1<b?b-1:b,d&&1<c?c-1:c],q=m[0]/p[0];m=m[1]/p[1];for(var r=p=0;r<f;r++)for(var u=r*a.Aa[0],x=0;x<b;x++){var v=q*x;v=u+Math.min(g-1,d?Math.round(v):Math.floor(v))*a.Aa[1];for(var y=0;y<c;y++){var C=m*y;C=v+Math.min(h-1,d?Math.round(C):Math.floor(C))*a.Aa[2];for(var D=0;D<e;D++){var F=k[C+D];
l[p++]=F}}}return V.Cd(l,[f,b,c,e],a.dtype)};
n.fj=function(a,b,c){Y([a,b],"resizeNearestNeighborBackprop");var d=t(b.shape),e=d.next().value,f=d.next().value,g=d.next().value;d=d.next().value;var h=t(a.shape);h.next();var k=h.next().value;h=h.next().value;var l=new Float32Array(e*f*g*d),m=L(a),p=[c&&1<k?f-1:f,c&&1<h?g-1:g],q=[c&&1<k?k-1:k,c&&1<h?h-1:h],r=p[0]/q[0];p=p[1]/q[1];q=1/r;for(var u=1/p,x=2*Math.ceil(q)+2,v=2*Math.ceil(u)+2,y=0;y<e;y++)for(var C=y*b.Aa[0],D=0;D<f;D++)for(var F=C+D*b.Aa[1],H=Math.floor(Math.floor(D*q)-x/2),O=0;O<g;O++)for(var N=
F+O*b.Aa[2],R=Math.floor(Math.floor(O*u)-v/2),S=0;S<d;S++){for(var W=0,X=0;X<x;X++){var T=X+H;if(!(0>T||T>=k)){var aa=C+T*a.Aa[1];T*=r;if(D===Math.min(f-1,c?Math.round(T):Math.floor(T)))for(T=0;T<v;T++){var ka=T+R;if(!(0>ka||ka>=h)){var za=aa+ka*a.Aa[2];ka*=p;O===Math.min(g-1,c?Math.round(ka):Math.floor(ka))&&(W+=m[za+S])}}}}l[N+S]=W}return V.Fe(l,b.shape,b.dtype)};
n.Vf=function(a,b,c,d,e,f){Y([a,b,c,e,f],"batchNorm");var g=L(a);b=L(b);c=L(c);e=e?L(e):new Float32Array([1]);f=f?L(f):new Float32Array([0]);for(var h=new Float32Array(g.length),k=f.length,l=e.length,m=c.length,p=b.length,q=0,r=0,u=0,x=0,v=0;v<g.length;++v)h[v]=f[q++]+(g[v]-b[r++])*e[u++]/Math.sqrt(c[x++]+d),q>=k&&(q=0),r>=p&&(r=0),u>=l&&(u=0),x>=m&&(x=0);return V.Fe(h,a.shape)};
n.Mi=function(a,b,c,d,e){Y(a,"localResponseNormalization4D");for(var f=a.shape[3],g=f-1,h=L(a),k=J(a.shape),l=new Float32Array(k),m=0;m<k;m++){var p=m%f,q=m-p+Math.max(0,p-b);p=m-p+Math.min(p+b,g);for(var r=0;q<=p;q++){var u=h[q];r+=u*u}l[m]=h[m]*Math.pow(c+d*r,-e)}return V.Fe(l,a.shape)};
n.Qh=function(a,b,c,d,e,f,g){Y(a,"LRNGrad");var h=a.shape[3],k=L(a);b=L(b);c=L(c);for(var l=new Float32Array(J(a.shape)),m=J(a.shape),p=0;p<m;p++){var q=p%h,r=p-q+Math.max(0,q-d);q=p-q+Math.min(h,q+d+1);for(var u=0,x=r;x<q;x++)u+=Math.pow(b[x],2);for(u=f*u+e;r<q;r++)x=-2*f*g*b[r]*c[p]/u,p===r&&(x+=Math.pow(u,-g)),x*=k[p],l[r]+=x}return V.Fe(l,a.shape)};
n.wh=function(a,b,c,d){Y(a,"multinomial");var e=b?a:V.Dg(a);a=e.shape[0];b=e.shape[1];var f=V.vc([a,c],"int32"),g=L(f);e=L(e);for(var h=0;h<a;++h){var k=h*b,l=new Float32Array(b-1);l[0]=e[k];for(var m=1;m<l.length;++m)l[m]=l[m-1]+e[k+m];k=Yu.alea(d.toString());m=h*c;for(var p=0;p<c;++p){var q=k();g[m+p]=l.length;for(var r=0;r<l.length;r++)if(q<l[r]){g[m+p]=r;break}}}return f};
n.we=function(a,b,c,d){Y(a,"oneHot");var e=new Float32Array(a.size*b);e.fill(d);d=L(a);for(var f=0;f<a.size;++f)0<=d[f]&&d[f]<b&&(e[f*b+d[f]]=c);return V.Zk(e,[a.size,b],"int32")};n.xh=function(a,b,c,d,e){Y(a,"nonMaxSuppression");a=L(a);b=L(b);return Cu(a,b,c,d,e)};n.ud=function(a){return kz(this,a,!1)};n.Yc=function(a){return kz(this,a,!0)};
var kz=function(a,b,c){var d=b.shape[0],e=b.shape[1],f=V.buffer(b.shape,"float32"),g=V.buffer(b.shape,"float32"),h=bs(V.nb(b),d,e);b=bs(V.yb(b),d,e);for(var k=0;k<d;k++){var l=h.slice([k,0],[1,e]);var m=b.slice([k,0],[1,e]);l=V.ac(l,m);m=a;var p=c,q=as(l);var r=q.size;if(0===(r&r-1))l=bs(lz(m,q,r,p),l.shape[0],l.shape[1]),p&&(l=V.ac(V.nb(l).Va(V.Wa(r)),V.yb(l).Va(V.Wa(r))));else{m=L(l);q=new Float32Array(2*r);for(var u=0;u<r;u++){for(var x=0,v=0,y=0;y<r;y++){var C=u*y/r*Math.PI*(p?2:-2),D=Math.cos(C);
C=Math.sin(C);var F=m[2*y],H=m[2*y+1];x+=F*D-H*C;v+=F*C+H*D}p&&(x/=r,v/=r);y=u;q[2*y]=x;q[2*y+1]=v}r=q;p=new Float32Array(r.length/2);m=new Float32Array(r.length/2);for(q=0;q<r.length;q+=2)p[q/2]=r[q],m[q/2]=r[q+1];r=p;l=bs(V.ac(r,m),l.shape[0],l.shape[1])}l=L(l);for(m=0;m<e;m++)r=l[2*m+1],f.values[k*e+m]=l[2*m],g.values[k*e+m]=r}return bs(V.ac(Vr(f),Vr(g)),d,e)},lz=function(a,b,c,d){if(1===c)return b;var e=L(b),f=c/2,g=Math.ceil(e.length/4);b=new Float32Array(g);g=new Float32Array(g);for(var h=0;h<
e.length;h+=4)b[Math.floor(h/4)]=e[h],g[Math.floor(h/4)]=e[h+1];b=as(V.ac(b,g));h=Math.floor(e.length/4);g=new Float32Array(h);h=new Float32Array(h);for(var k=2;k<e.length;k+=4)g[Math.floor(k/4)]=e[k],h[Math.floor(k/4)]=e[k+1];e=as(V.ac(g,h));b=lz(a,b,f,d);e=lz(a,e,f,d);a=new Float32Array(c/2);f=new Float32Array(c/2);for(g=0;g<Math.ceil(c/2);g++)h=g/c*Math.PI*(d?2:-2),a[g]=Math.cos(h),f[g]=Math.sin(h);d=V.ac(a,f).ka(e);c=b.add(d);b=b.sub(d);d=V.nb(c).concat(V.nb(b));c=V.yb(c).concat(V.yb(b));return as(V.ac(d,
c))};hz.prototype.Qe=function(a,b,c){I("NHWC"===c,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+c);I(1<b,"blockSize should be > 1 for depthToSpace, but was: "+b);c=a.shape[0];var d=a.shape[1],e=a.shape[2],f=a.shape[3],g=d*b,h=e*b,k=f/(b*b);a=L(a);for(var l=new Float32Array(c*g*h*k),m=0,p=0;p<c;++p)for(var q=0;q<g;++q)for(var r=Math.floor(q/b),u=q%b,x=0;x<h;++x)for(var v=Math.floor(x/b),y=(u*b+x%b)*k,C=0;C<k;++C){var D=C+y+f*(v+e*(r+d*p));l[m++]=a[D]}return V.Fe(l,[c,g,h,k])};
var jz=function(a,b,c,d){var e=Iv(a.shape,b.shape);c=V.buffer(e,c);var f=L(a),g=L(b),h=Gv(a.shape,e),k=Gv(b.shape,e);e=c.values;if(0===h.length+k.length)for(a=0;a<e.length;++a)e[a]=d(f[a%f.length],g[a%g.length]);else for(var l=gs(a),m=gs(b),p={},q=0;q<e.length;p={Gf:p.Gf,Mf:p.Mf},++q){var r=Tr(c,q);p.Gf=r.slice(-a.s);h.forEach(function(x){return function(v){return x.Gf[v]=0}}(p));var u=Sr(l,p.Gf);p.Mf=r.slice(-b.s);k.forEach(function(x){return function(v){return x.Mf[v]=0}}(p));e[q]=d(f[u],g[Sr(m,
p.Mf)])}return Vr(c)},iz=function(a,b,c,d){var e=Iv(b.shape,c.shape),f=V.buffer(e,"float32"),g=V.buffer(e,"float32"),h=L(b),k=L(c),l=Gv(b.shape,e),m=Gv(c.shape,e);e=f.values;var p=g.values;if(0===l.length+m.length)for(b=0;b<e.length;b++)c=b%h.length,l=b%k.length,c=d(h[2*c],h[2*c+1],k[2*l],k[2*l+1]),e[b]=c.nb,p[b]=c.yb;else for(var q=gs(a.data.get(b.Da).Jb.nb),r=gs(a.data.get(c.Da).Jb.nb),u={},x=0;x<e.length;u={Hf:u.Hf,Nf:u.Nf},x++){var v=Tr(f,x);u.Hf=v.slice(-b.s);l.forEach(function(C){return function(D){return C.Hf[D]=
0}}(u));var y=Sr(q,u.Hf);u.Nf=v.slice(-c.s);m.forEach(function(C){return function(D){return C.Nf[D]=0}}(u));v=Sr(r,u.Nf);y=d(h[2*y],h[2*y+1],k[2*v],k[2*v+1]);e[x]=y.nb;p[x]=y.yb}return a.ac(Vr(f),Vr(g))};n=hz.prototype;n.split=function(a,b,c){return Eu(a,b,c)};n.dispose=function(){};n.jh=function(){return 32};
n.eh=function(a,b,c,d,e,f){var g=t(a.shape),h=g.next().value,k=g.next().value,l=g.next().value;g=g.next().value;var m=b.shape[0],p=t(d);d=p.next().value;p=p.next().value;var q=V.buffer([m,d,p,g],a.dtype);b=L(b);c=L(c);var r=L(a);a=a.Aa;for(var u=q.Aa,x=0;x<m;x++){var v=4*x,y=b[v],C=b[v+1],D=b[v+2];v=b[v+3];var F=c[x];if(!(F>=h))for(var H=1<d?(D-y)*(k-1)/(d-1):0,O=1<p?(v-C)*(l-1)/(p-1):0,N=0;N<d;N++){var R=1<d?y*(k-1)+N*H:.5*(y+D)*(k-1);if(0>R||R>k-1)for(var S=0;S<p;S++)for(var W=0;W<g;W++)q.values[W+
S*u[2]+N*u[1]+x*u[0]]=f;else if("bilinear"===e){S=Math.floor(R);W=Math.ceil(R);R-=S;for(var X=0;X<p;X++){var T=1<p?C*(l-1)+X*O:.5*(C+v)*(l-1);if(0>T||T>l-1)for(var aa=0;aa<g;aa++)q.values[aa+X*u[2]+N*u[1]+x*u[0]]=f;else{aa=Math.floor(T);var ka=Math.ceil(T);T-=aa;for(var za=0;za<g;za++){var qa=za+aa*a[2]+S*a[1]+F*a[0],Ua=r[qa];qa=za+ka*a[2]+S*a[1]+F*a[0];var Ia=r[qa];qa=za+aa*a[2]+W*a[1]+F*a[0];var Ma=r[qa];qa=za+ka*a[2]+W*a[1]+F*a[0];Ua+=(Ia-Ua)*T;Ma+=(r[qa]-Ma)*T;qa=za+X*u[2]+N*u[1]+x*u[0];q.values[qa]=
Ua+(Ma-Ua)*R}}}}else for(S=0;S<p;++S)if(W=1<p?C*(l-1)+S*O:.5*(C+v)*(l-1),0>W||W>l-1)for(W=0;W<g;W++)q.values[W+S*u[2]+N*u[1]+x*u[0]]=f;else for(W=Math.round(W),X=Math.round(R),aa=0;aa<g;aa++)q.values[aa+S*u[2]+N*u[1]+x*u[0]]=r[aa+W*a[2]+X*a[1]+F*a[0]]}}return Vr(q)};n.Ih=function(a,b,c,d){var e=Iy(a,c);return mz(a,b,c,e.ug,e.Cg,e.sg,e.Bg,e.Aa,d,!1)};
n.kh=function(a,b){var c=b.shape;c=c[c.length-1];var d=t(Jv(a,b)),e=d.next().value,f=d.next().value,g=d.next().value;d=d.next().value;if(0===f)return V.Cd([],e,a.dtype);var h=new Rr([f,g],a.dtype);b=L(b);for(var k=L(a),l=0;l<f;l++){for(var m=[],p=0,q=0;q<c;q++){var r=b[l*c+q];p+=r*d[q];m.push(r)}if(0>p||p>=a.size/g)throw Error("cc`"+m+"`"+a.shape);for(m=0;m<g;m++)h.values[l*g+m]=k[p*g+m]}return Vr(h).ra(e)};
n.Gh=function(a,b,c){var d=Iy(a,c),e=d.Bg,f=d.sg,g=d.Cg,h=d.Aa;d=d.ug;var k=V.Wa(0);return mz(a,b,c,d,g,f,e,h,k,!0)};var mz=function(a,b,c,d,e,f,g,h,k,l){var m=[d/e,e];a=L(a);var p=L(b);if(0===d)return V.Cd([],c,b.dtype);m=new Rr(m,b.dtype);m.values.fill(L(k)[0]);for(k=0;k<f;k++){for(var q=[],r=0,u=0;u<g;u++){var x=a[k*g+u];q.push(x);r+=x*h[u]}if(0>r||r>=d/e)throw Error("cc`"+q+"`"+c);for(q=0;q<e;q++)m.values[r*e+q]=l?m.values[r*e+q]+p[k*e+q]:0===b.s?p[0]:p[k*e+q]}return Vr(m).ra(c)};
bt("cpu",function(){return new hz},1);var nz=function(a,b,c){this.Ga=["A"];var d=a.Ff,e=a.Cb;a=Math.ceil(a.ff/d);c||this.Ga.push("bestIndicesA");this.ta=[e,a];this.Ha="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+d+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+d+"; i++) {\n          int inIdx = "+(c?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+
";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===b?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};var oz=function(a){this.Ga=["dy"];this.ta=a.Zc;var b=a.Ld,c=a.Md;this.Ha="\n      const ivec2 pads = ivec2("+(b-1-a.Ia.top)+", "+(c-1-a.Ia.left)+");\n      const float avgMultiplier = float("+1/(a.Mb*a.Db)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+
b+";\n            wR += "+a.Ub+") {\n          float dyR = float(dyRCorner + wR) / "+a.rb+".0;\n\n          if (dyR < 0.0 || dyR >= "+a.Lb+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+c+";\n            wC+= "+a.Yb+") {\n            float dyC = float(dyCCorner + wC) / "+a.lb+".0;\n\n            if (dyC < 0.0 || dyC >= "+a.Gb+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var pz=function(a,b,c,d,e,f){this.ta=[];this.Ga=["x","mean","variance"];Iv(a,b);Iv(a,c);b="0.0";null!=d&&(Iv(a,d),this.Ga.push("offset"),b="getOffsetAtOutCoords()");d="1.0";null!=e&&(Iv(a,e),this.Ga.push("scale"),d="getScaleAtOutCoords()");this.ta=a;this.Ha="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+b+";\n        float scale = "+d+";\n        float inv = scale * inversesqrt(variance + float("+
f+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "};var qz=function(a,b,c,d,e,f){this.hc=!0;this.Ga=["x","mean","variance"];Iv(a,b);Iv(a,c);b="vec4(0.0)";null!=d&&(Iv(a,d),this.Ga.push("offset"),b="getOffsetAtOutCoords()");d="vec4(1.0)";null!=e&&(Iv(a,e),this.Ga.push("scale"),d="getScaleAtOutCoords()");this.ta=a;this.Ha="\n      void main() {\n        vec4 offset = "+b+";\n        vec4 scale = "+d+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+
f+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "};var rz=function(a,b,c){this.Ga=["AReal","AImag","BReal","BImag"];this.ta=Iv(b,c);this.Ha="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+a+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "};var sz=function(a,b,c){this.Ga=["A","B"];this.ta=Iv(b,c);this.Ha="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+a+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "};sz.prototype.g=function(){var a=this;return function(b,c){if(null==a.i&&(a.i=tz(b,c,"NAN"),null==a.i))return;b.g.uniform1f(a.i,NaN)}};var uz=function(a,b,c){this.Ga=["A","B"];this.hc=!0;this.ta=Iv(b,c);this.Ha="\n      uniform float NAN;\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+a+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "};uz.prototype.g=function(){var a=this;return function(b,c){if(null==a.i&&(a.i=tz(b,c,"NAN"),null==a.i))return;b.g.uniform1f(a.i,NaN)}};var vz=function(a){this.Ga=["A"];this.ta=a;this.Ha="\n      uniform float min;\n      uniform float max;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, min, max));\n      }\n    "};vz.prototype.g=function(a,b){var c=this;return function(d,e){null==c.i&&(c.i=tz(d,e,"min"),c.o=tz(d,e,"max"));d.g.uniform1f(c.i,a);d.g.uniform1f(c.o,b)}};var wz=function(a){this.Ga=["A"];this.hc=!0;this.ta=a;this.Ha="\n      uniform float min;\n      uniform float max;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (hasNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(min), vec4(max)));\n      }\n    "};wz.prototype.g=function(a,b){var c=this;return function(d,e){null==c.i&&(c.i=tz(d,e,"min"),c.o=tz(d,e,"max"));d.g.uniform1f(c.i,a);d.g.uniform1f(c.o,b)}};var xz=function(a){this.Ga=["real","imag"];this.ta=a;this.Ha="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "};var yz=function(a){this.ta=[];this.ta=Ru(a,1);this.Ga=a.map(function(d,e){return"T"+e});var b=Array(a.length-1);b[0]=a[0][1];for(var c=1;c<b.length;c++)b[c]=b[c-1]+a[c][1];a=["if (yC < "+b[0]+") setOutput(getT0(yR, yC));"];for(c=1;c<b.length;c++)a.push("else if (yC < "+b[c]+") "+("setOutput(getT"+c+"(yR, yC-"+b[c-1]+"));"));a.push("else setOutput(getT"+b.length+"(yR, yC-"+b[b.length-1]+"));");this.Ha="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+
a.join("\n        ")+"\n      }\n    "};var zz=function(a){this.Ga=["x","dy"];this.ta=a.Nd;this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+a.Cb+"; b++) {\n          for (int yR = 0; yR < "+a.Lb+
"; yR++) {\n            int xR = wR + yR * "+a.rb+" - "+a.Ia.top+";\n\n            if (xR < 0 || xR >= "+a.Eb+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+a.Gb+"; yC++) {\n              int xC = wC + yC * "+a.lb+" - "+a.Ia.left+";\n\n              if (xC < 0 || xC >= "+a.Fb+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},
Az=function(a){this.Ga=["dy","W"];this.ta=a.Zc;var b=a.Mb,c=a.Db;this.Ha="\n      const ivec2 pads = ivec2("+(b-1-a.Ia.top)+", "+(c-1-a.Ia.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+
b+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+a.rb+".0;\n\n          if (dyR < 0.0 || dyR >= "+a.Lb+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+b+" - 1 - wR;\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a.lb+".0;\n\n            if (dyC < 0.0 || dyC >= "+a.Gb+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+
c+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+a.Ab+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Bz=function(a){this.Ga=["x","dy"];this.ta=a.Nd;this.Ha="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+
a.Cb+"; b++) {\n          for (int yF = 0; yF < "+a.qf+"; yF++) {\n            int xF = wF + yF * "+a.Be+" - "+a.Ia.Od+";\n\n            if (xF < 0 || xF >= "+a.ef+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+a.Lb+"; yR++) {\n              int xR = wR + yR * "+a.rb+" - "+a.Ia.top+";\n\n              if (xR < 0 || xR >= "+a.Eb+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+a.Gb+"; yC++) {\n                int xC = wC + yC * "+
a.lb+" - "+a.Ia.left+";\n\n                if (xC < 0 || xC >= "+a.Fb+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Cz=function(a){this.Ga=["dy","W"];this.ta=a.Zc;var b=a.Ye,c=a.Mb,d=a.Db;this.Ha="\n      const ivec3 pads = ivec3("+
(b-1-a.Ia.Od)+", "+(c-1-a.Ia.top)+", "+(d-1-a.Ia.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+b+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+a.Be+
".0;\n\n          if (dyF < 0.0 || dyF >= "+a.qf+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+b+" - 1 - wF;\n\n          for (int wR = 0; wR < "+c+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a.rb+".0;\n\n            if (dyR < 0.0 || dyR >= "+a.Lb+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+c+" - 1 - wR;\n\n            for (int wC = 0; wC < "+
d+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a.lb+".0;\n\n              if (dyC < 0.0 || dyC >= "+a.Gb+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+d+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+a.Ab+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var Dz=function(a){this.Ga=["x","dy"];this.ta=a.Nd;this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a.Ab/a.hb+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+a.Cb+"; b++) {\n          for (int yR = 0; yR < "+a.Lb+"; yR++) {\n            int xR = wR + yR * "+a.rb+" - "+a.Ia.top+
";\n\n            if (xR < 0 || xR >= "+a.Eb+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+a.Gb+"; yC++) {\n              int xC = wC + yC * "+a.lb+" - "+a.Ia.left+";\n\n              if (xC < 0 || xC >= "+a.Fb+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},
Ez=function(a){this.Ga=["dy","W"];this.ta=a.Zc;var b=a.Mb,c=a.Db,d=a.Ab/a.hb;this.Ha="\n      const ivec2 pads = ivec2("+(b-1-a.Ia.top)+", "+(c-1-a.Ia.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+b+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+
a.rb+".0;\n\n          if (dyR < 0.0 || dyR >= "+a.Lb+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+b+" - 1 - wR;\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a.lb+".0;\n\n            if (dyC < 0.0 || dyC >= "+a.Gb+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+c+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+
d+"; dm++) {\n              int d2 = d1 * "+d+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var Fz=function(a){this.Ga=["x","W"];this.ta=a.Qb;var b=4*Math.floor(a.hb/4),c=a.hb%4;this.Ha="\n      const ivec2 strides = ivec2("+a.rb+", "+a.lb+");\n      const ivec2 pads = ivec2("+a.Ia.top+", "+a.Ia.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+
a.Mb+"; wR++) {\n          int xR = xRCorner + wR * "+a.Ub+";\n\n          if (xR < 0 || xR >= "+a.Eb+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+a.Db+"; wC++) {\n            int xC = xCCorner + wC * "+a.Yb+";\n\n            if (xC < 0 || xC >= "+a.Fb+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+b+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+
(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+b+") *\n                getW(wR, wC, "+b+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+b+"),\n                getX(batch, xR, xC, "+b+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+b+", d2),\n                getW(wR, wC, "+b+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+
(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+b+"),\n                getX(batch, xR, xC, "+b+" + 1),\n                getX(batch, xR, xC, "+b+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+b+", d2),\n                getW(wR, wC, "+b+" + 1, d2),\n                getW(wR, wC, "+b+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},
Gz=function(a){this.Ga=["x","W"];this.ta=a.Qb;var b=4*Math.floor(a.hb/4),c=a.hb%4;this.Ha="\n      const ivec3 strides = ivec3("+a.Be+", "+a.rb+", "+a.lb+");\n      const ivec3 pads = ivec3("+a.Ia.Od+", "+a.Ia.top+", "+a.Ia.left+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+
a.Ye+"; wF++) {\n          int xF = xFCorner + wF * "+a.mi+";\n\n          if (xF < 0 || xF >= "+a.ef+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+a.Mb+"; wR++) {\n            int xR = xRCorner + wR * "+a.Ub+";\n\n            if (xR < 0 || xR >= "+a.Eb+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+a.Db+"; wC++) {\n              int xC = xCCorner + wC * "+a.Yb+";\n\n              if (xC < 0 || xC >= "+a.Fb+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+
b+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+
(1===c)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+b+") *\n                  getW(wF, wR, wC, "+b+", d2);\n              } else if ("+(2===c)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+b+"),\n                  getX(batch, xF, xR, xC, "+b+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+b+", d2),\n                  getW(wF, wR, wC, "+b+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+
(3===c)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+b+"),\n                  getX(batch, xF, xR, xC, "+b+" + 1),\n                  getX(batch, xF, xR, xC, "+b+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+b+", d2),\n                  getW(wF, wR, wC, "+b+" + 1, d2),\n                  getW(wF, wR, wC, "+b+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var Hz=function(a){this.Ga=["x","W"];this.ta=a.Qb;var b=a.Ab/a.hb;this.Ha="\n      const ivec2 strides = ivec2("+a.rb+", "+a.lb+");\n      const ivec2 pads = ivec2("+a.Ia.top+", "+a.Ia.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+b+";\n        int q = d2 - d1 * "+b+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+
a.Mb+"; wR++) {\n          int xR = xRCorner + wR * "+a.Ub+";\n\n          if (xR < 0 || xR >= "+a.Eb+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+a.Db+"; wC++) {\n            int xC = xCCorner + wC * "+a.Yb+";\n\n            if (xC < 0 || xC >= "+a.Fb+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var Iz=function(a){this.Ga=["x","W"];this.hc=!0;this.ta=a.Qb;var b=a.Eb,c=a.Fb,d=a.Ia.top,e=a.Ia.left,f=a.rb,g=a.lb,h=a.Ub,k=a.Yb,l=a.Mb;a=a.Db;for(var m="int xR; int xC; int xCOffset;",p=0;p<l;p++)for(var q=0;q<a;q++)m+="\n          vec4 xTexelR"+p+"C"+2*q+" = vec4(0.);\n          vec4 wR"+p+"C"+q+" = vec4(0.);\n          vec4 xR"+p+"C"+q+" = vec4(0.);";for(p=0;p<l;p++)for(q=0;q<a;q++){var r=2*q;m+="\n          xR = xRCorner + "+p*h+";\n          xC = xCCorner + "+r*k+";\n        ";if(1===g){if(r<
a&&(m=1===e%2?m+("\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+b+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+p+"C"+r+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+p+"C"+r+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+b+" && xCOffset >= 0 && xCOffset < "+c+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n                  xR"+
p+"C"+r+" = vec4(previous.zw, xTexelR"+p+"C"+r+".xy);\n                } else {\n                  xR"+p+"C"+r+" = vec4(0, 0, xTexelR"+p+"C"+r+".xy);\n                }\n              "):m+("\n                if(xR >= 0 && xR < "+b+" && xC >= 0 && xC < "+c+") {\n                  xTexelR"+p+"C"+r+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+p+"C"+r+" = vec4(0.);\n                }\n\n                xR"+p+"C"+r+" = xTexelR"+p+"C"+r+";\n              "),r+1<a)){var u=
0===e%2?fr(k):k;0===k%2&&1===e%2||0!==k%2&&1!==e%2?(m+="\n                  xCOffset = xC + "+e%2+" + "+u+";\n\n                  if(xR >= 0 && xR < "+b+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+p+"C"+(r+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",1<k&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+b+" &&\n                      xCOffset >= 0 && xCOffset < "+c+") {\n                      xTexelR"+
p+"C"+r+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+p+"C"+r+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+p+"C"+(r+1)+" = vec4(\n                    xTexelR"+p+"C"+r+".zw, xTexelR"+p+"C"+(r+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+u+";\n\n                  if(xR >= 0 && xR < "+b+" &&\n                    xCOffset >= 0 && xCOffset < "+c+") {\n                    xTexelR"+p+"C"+
(r+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+p+"C"+(r+1)+" = xTexelR"+p+"C"+(r+2)+";\n                "}}else r<a&&(m+="\n              if(xR >= 0 && xR < "+b+") {\n            ",1===e%2?(m+="\n                xCOffset = xC + 1 - "+g+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+p+"C"+r+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+p+"C"+r+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+
c+") {\n                  xTexelR"+p+"C"+(r+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+p+"C"+(r+2)+" = vec4(0.);\n                }\n\n                xR"+p+"C"+r+" = vec4(\n                  xTexelR"+p+"C"+r+".zw, xTexelR"+p+"C"+(r+2)+".zw);\n              ",r+1<a&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+g+";\n                  if(xCOffset >= 0 && xCOffset < "+c+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+
p+"C"+(r+1)+" = vec4(xTexelR"+p+"C"+(r+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+c+") {\n                  xTexelR"+p+"C"+r+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+p+"C"+r+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+g+";\n                if(xCOffset >= 0 && xCOffset < "+c+") {\n                  xTexelR"+p+"C"+(r+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+
p+"C"+(r+2)+" = vec4(0.);\n                }\n\n                xR"+p+"C"+r+" = vec4(\n                  xTexelR"+p+"C"+r+".xy, xTexelR"+p+"C"+(r+2)+".xy);\n              ",r+1<a&&(m+="\n                  xR"+p+"C"+(r+1)+" = vec4(\n                    xTexelR"+p+"C"+r+".zw, xTexelR"+p+"C"+(r+2)+".zw);\n                ")),m+="}");r<a&&(m+="\n            vec4 wTexelR"+p+"C"+r+" = getW("+p+", "+r+", d1, q);\n            wR"+p+"C"+r+" = vec4(wTexelR"+p+"C"+r+".xz, wTexelR"+p+"C"+r+".xz);\n          ",
r+1<a&&(m+="\n              vec4 wTexelR"+p+"C"+(r+1)+" = getW("+p+", "+(r+1)+", d1, q);\n              wR"+p+"C"+(r+1)+" =\n                vec4(wTexelR"+p+"C"+(r+1)+".xz, wTexelR"+p+"C"+(r+1)+".xz);"))}for(b=0;b<l;b++)for(c=0;c<a;c++)m+="result += xR"+b+"C"+c+" * wR"+b+"C"+c+";";this.Ha="\n      const ivec2 strides = ivec2("+f+", "+g+");\n      const ivec2 pads = ivec2("+d+", "+e+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 result = vec4(0.);\n\n        "+
m+"\n\n        setOutput(result);\n      }\n    "};var Jz=function(a,b,c,d,e){this.Ga=["Image","Boxes","BoxInd"];this.ta=[];var f=t(a);a=f.next().value;var g=f.next().value,h=f.next().value;f=f.next().value;b=t(b).next().value;c=t(c);var k=c.next().value;c=c.next().value;this.ta=[b,k,c,f];d="bilinear"===d?1:0;b=t([g-1+".0",h-1+".0"]);f=b.next().value;b=b.next().value;var l=t(1<k?[""+(g-1)/(k-1),"(y2-y1) * height_ratio","y1*"+f+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+f]);g=l.next().value;k=l.next().value;l=l.next().value;var m=
t(1<c?[""+(h-1)/(c-1),"(x2-x1) * width_ratio","x1*"+b+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+b]);h=m.next().value;c=m.next().value;m=m.next().value;this.Ha="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+h+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+
a+") {\n          return;\n        }\n\n        float height_scale = "+k+";\n        float width_scale = "+c+";\n\n        float in_y = "+l+";\n        if( in_y < 0.0 || in_y > "+f+" ) {\n          setOutput(float("+e+"));\n          return;\n        }\n        float in_x = "+m+";\n        if( in_x < 0.0 || in_x > "+b+" ) {\n          setOutput(float("+e+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    "};function Kz(){if(2===K.get("WEBGL_VERSION")){var a="#version 300 es";var b="in";var c="out";var d="in";var e="texture";var f="outputColor";var g="out vec4 outputColor;";var h="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "}else a="",b="attribute",d=c="varying",e="texture2D",f="gl_FragColor",g="",h="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    ";
return{version:a,Uh:b,bl:c,al:d,Dd:e,output:f,sk:g,tk:h}};function Lz(a,b){var c=void 0===c?"index":c;var d=Cr(b);return d.map(function(e,f){return"int "+a[f]+" = "+c+" / "+e+"; "+(f===d.length-1?"int "+a[f+1]+" = "+c+" - "+a[f]+" * "+e:"index -= "+a[f]+" * "+e)+";"}).join("")}function Mz(a){return 1===a.length?""+a[0]:"vec"+a.length+"("+a.join(",")+")"}
function Nz(a){var b=["coords.x","coords.y","coords.z"];if(b.length!==a.length)throw Error("dc`"+b.length+"`"+a.length);for(var c=[],d=Math.floor(b.length/4),e=b.length%4,f=0;f<d;f++){var g=b.slice(4*f,4*f+4),h=a.slice(4*f,4*f+4);c.push(Mz(g)+", "+Mz(h))}0!==e&&(b=b.slice(4*d),a=a.slice(4*d),1===b.length&&(b=b.map(function(k){return"float("+k+")"}),a=a.map(function(k){return"float("+k+")"})),c.push(Mz(b)+", "+Mz(a)));return c.map(function(k){return"dot("+k+")"}).join("+")};function Oz(a,b,c,d){var e=[];a.forEach(function(m){var p=J(m.Pa.mb);m.Pa.Pb?e.push("uniform float "+m.name+(1<p?"["+p+"]":"")+";"):(e.push("uniform sampler2D "+m.name+";"),e.push("uniform int offset"+m.name+";"))});var f=e.join("\n");a=a.map(function(m){var p=d;p=void 0===p?!1:p;var q="";q=p?q+Pz(m):q+Qz(m);m.Pa.mb.length<=b.mb.length&&(q=p?q+Rz(m,b):q+Sz(m,b));return q}).join("\n");var g=b.ab,h=Kz(),k="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+h.Dd+"(textureSampler, uv).r;\n    }\n  ",
l=Tz(h);b.Nb?(g=Uz(b.mb,g),h="\n    void setOutput(vec4 val) {\n      "+h.output+" = val;\n    }\n  "):(g=Vz(b.mb,g),h="\n    void setOutput(float val) {\n      "+h.output+" = vec4(val, 0, 0, 0);\n    }\n  ");d&&(l+="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n");
return[l,k,h,f,g,a,c].join("\n")}
function Qz(a){var b=a.Pa.mb;switch(b.length){case 0:b=a.name;var c="get"+b.charAt(0).toUpperCase()+b.slice(1);if(a.Pa.Pb)a="float "+c+"() {return "+b+";}";else{var d=t(a.Pa.ab),e=d.next().value;d=d.next().value;1===e&&1===d?a="\n      float "+c+"() {\n        return sampleTexture("+b+", halfCR);\n      }\n    ":(e=t(a.Pa.ab),a=e.next().value,e=e.next().value,a="\n    float "+c+"() {\n      vec2 uv = uvFromFlat("+a+", "+e+", "+("offset"+b)+");\n      return sampleTexture("+b+", uv);\n    }\n  ")}return a;
case 1:return b=a.name,c="get"+b.charAt(0).toUpperCase()+b.slice(1),a.Pa.Pb?a="\n      float "+c+"(int index) {\n        "+Wz(a)+"\n      }\n    ":(e=a.Pa.ab,a=e[0],e=e[1],1===e&&1===a?a="\n      float "+c+"(int index) {\n        return sampleTexture("+b+", halfCR);\n      }\n    ":(d="offset"+b,a=1===e?"\n      float "+c+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+d+") + 0.5) / "+a+".0);\n        return sampleTexture("+b+", uv);\n      }\n    ":1===a?"\n      float "+c+"(int index) {\n        vec2 uv = vec2((float(index + "+
d+") + 0.5) / "+e+".0, 0.5);\n        return sampleTexture("+b+", uv);\n      }\n    ":"\n    float "+c+"(int index) {\n      vec2 uv = uvFromFlat("+a+", "+e+", index + "+d+");\n      return sampleTexture("+b+", uv);\n    }\n  ")),a;case 2:return Xz(a);case 3:c=a.Pa.mb;e=a.name;b="get"+e.charAt(0).toUpperCase()+e.slice(1);d=c[1]*c[2];var f=c[2],g=sr(c),h=g.jf;g=g.Vd;g.length<c.length?(a=Yz(a,g),a="\n        "+Qz(a)+"\n        float "+b+"(int row, int col, int depth) {\n          return "+b+"("+Zz(["row",
"col","depth"],h)+");\n        }\n      "):a.Pa.Pb?a="\n      float "+b+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+d+", "+f+", 1)));\n        "+Wz(a)+"\n      }\n    ":(g=a.Pa.ab,h=g[0],g=g[1],a=a.Pa.tc,a=g===d&&null==a?"\n        float "+b+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+f+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+
g+".0, "+h+".0);\n          return sampleTexture("+e+", uv);\n        }\n      ":g===f&&null==a?"\n    float "+b+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+c[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+g+".0, "+h+".0);\n      return sampleTexture("+e+", uv);\n    }\n  ":"\n      float "+b+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+
d+" + col * "+f+" + depth + "+("offset"+e)+";\n        vec2 uv = uvFromFlat("+h+", "+g+", index);\n        return sampleTexture("+e+", uv);\n      }\n  ");return a;case 4:c=a.Pa.mb;e=a.name;b="get"+e.charAt(0).toUpperCase()+e.slice(1);d=c[3];f=c[2]*d;h=c[1]*f;var k=sr(c);g=k.Vd;k=k.jf;g.length<c.length?(a=Yz(a,g),a="\n      "+Qz(a)+"\n      float "+b+"(int row, int col, int depth, int depth2) {\n        return "+b+"("+Zz(["row","col","depth","depth2"],k)+");\n      }\n    "):a.Pa.Pb?a="\n      float "+
b+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+h+", "+f+", "+d+", 1)));\n        "+Wz(a)+"\n      }\n    ":(g=a.Pa.tc,k=a.Pa.ab,a=k[0],k=k[1],a=k===h&&null==g?"\n      float "+b+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+f+", "+d+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+
k+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":k===d&&null==g?"\n      float "+b+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+c[1]*c[2]+", "+c[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+k+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+b+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+
h+" + col * "+f+" +\n          depth * "+d+" + depth2;\n      vec2 uv = uvFromFlat("+a+", "+k+", index + "+("offset"+e)+");\n      return sampleTexture("+e+", uv);\n    }\n  ");return a;case 5:c=a.Pa.mb;e=a.name;b="get"+e.charAt(0).toUpperCase()+e.slice(1);d=c[4];f=c[3]*d;h=c[2]*f;g=c[1]*h;var l=sr(c);k=l.Vd;l=l.jf;k.length<c.length?(a=Yz(a,k),a="\n      "+Qz(a)+"\n      float "+b+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+b+"("+Zz(["row","col","depth","depth2","depth3"],
l)+");\n      }\n    "):a.Pa.Pb?a="\n      float "+b+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+g+", "+h+", "+f+", "+d+")) +\n          depth3;\n        "+Wz(a)+"\n      }\n    ":(k=a.Pa.tc,l=a.Pa.ab,a=l[0],l=l[1],a=l===g&&null==k?"\n      float "+b+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+
h+", "+f+", "+d+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+l+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":l===d&&null==k?"\n      float "+b+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+c[1]*c[2]*c[3]+",\n               "+c[2]*c[3]+", "+c[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+
l+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+b+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+g+" + col * "+h+" + depth * "+f+" +\n          depth2 * "+d+" + depth3 + "+("offset"+e)+";\n      vec2 uv = uvFromFlat("+a+", "+l+", index);\n      return sampleTexture("+e+", uv);\n    }\n  ");return a;case 6:c=a.Pa.mb;e=a.name;b="get"+e.charAt(0).toUpperCase()+
e.slice(1);f=sr(c);d=f.Vd;f=f.jf;if(d.length<c.length)a=Yz(a,d),a="\n      "+Qz(a)+"\n      float "+b+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+b+"("+Zz("row col depth depth2 depth3 depth4".split(" "),f)+");\n      }\n    ";else if(d=c[5],f=c[4]*d,h=c[3]*f,g=c[2]*h,k=c[1]*g,a.Pa.Pb)a="\n      float "+b+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+
k+", "+g+", "+h+", "+f+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+d+", 1)));\n        "+Wz(a)+"\n      }\n    ";else{l=a.Pa.tc;var m=a.Pa.ab;a=m[0];m=m[1];a=m===k&&null==l?"\n      float "+b+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+g+", "+h+", "+f+", "+d+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+
m+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":m===d&&null==l?"\n      float "+b+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+c[1]*c[2]*c[3]*c[4]+",\n               "+c[2]*c[3]*c[4]+",\n               "+c[3]*c[4]+",\n               "+c[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+
m+".0, "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+b+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+k+" + col * "+g+" + depth * "+h+" +\n          depth2 * "+f+" + depth3 * "+d+" + depth4 + "+("offset"+e)+";\n      vec2 uv = uvFromFlat("+a+", "+m+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}return a;
default:throw Error("ec`"+b.length);}}
function Pz(a){switch(a.Pa.mb.length){case 0:a=a.name;var b="get"+a.charAt(0).toUpperCase()+a.slice(1),c=Kz();return"\n    vec4 "+b+"() {\n      return "+c.Dd+"("+a+", halfCR);\n    }\n  ";case 1:b=a.name;c="get"+b.charAt(0).toUpperCase()+b.slice(1);a=a.Pa.ab;a=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];var d=Kz();return"\n    vec4 "+c+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+a[0]+", "+a[1]+", index);\n      return "+d.Dd+"("+b+", uv);\n    }\n  ";case 2:b=a.Pa.mb;c=a.name;d="get"+c.charAt(0).toUpperCase()+
c.slice(1);var e=a.Pa.ab,f=e[0],g=e[1];a=Kz();null!=e&&ir(b,e)?a="\n      vec4 "+d+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+g+".0, "+f+".0);\n\n        return "+a.Dd+"("+c+", uv);\n      }\n    ":(e=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],a="\n    vec4 "+d+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(b[1]/2)+", "+e[0]+", "+e[1]+", row, col);\n      return "+a.Dd+"("+c+", uv);\n    }\n  ");return a;case 3:return d=a.Pa.mb,c=a.name,b="get"+c.charAt(0).toUpperCase()+
c.slice(1),e=a.Pa.ab,e=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],1===d[0]?(c=d.slice(1),a=Yz(a,c),a="\n        "+Pz(a)+"\n        vec4 "+b+"(int b, int row, int col) {\n          return "+b+"("+Zz(["b","row","col"],[1,2])+");\n        }\n      "):(a=e[0],e=e[1],f=Math.ceil(d[2]/2),d=f*Math.ceil(d[1]/2),g=Kz(),a="\n    vec4 "+b+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+e+", "+d+", "+f+", b, row, col);\n      return "+g.Dd+"("+c+", uv);\n    }\n  "),a;default:d=a.Pa.mb;
e=d.length;b=a.name;c="get"+b.charAt(0).toUpperCase()+b.slice(1);a=a.Pa.ab;f=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];a=f[0];f=f[1];var h=Math.ceil(d[e-1]/2),k=h*Math.ceil(d[e-2]/2);g="int b, int row, int col";h="b * "+k+" + (row / 2) * "+h+" + (col / 2)";for(var l=2;l<e-1;l++)g="int b"+l+", "+g,k*=d[e-l-1],h="b"+l+" * "+k+" + "+h;d=Kz();return"\n    vec4 "+c+"("+g+") {\n      int index = "+h+";\n      int texR = index / "+f+";\n      int texC = index - texR * "+f+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+
f+", "+a+");\n      return "+d.Dd+"("+b+", uv);\n    }\n  "}}
function Uz(a,b){switch(a.length){case 0:return $z();case 1:return a=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],1===a[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+a[1]+".0);\n      }\n    ":1===a[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+a[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+a[0]+", "+a[1]+"));\n      return resTexRC.x * "+a[1]+" + resTexRC.y;\n    }\n  ";
case 2:var c=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)];ir(a,b)?a="\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+c[0]+", "+c[1]+"));\n      }\n    ":(a=Math.ceil(a[1]/2),a="\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+c[0]+", "+c[1]+"));\n\n      int index = resTexRC.x * "+c[1]+" + resTexRC.y;\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec2(r, c);\n    }\n  ");
return a;case 3:return c=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],b=Math.ceil(a[2]/2),a=b*Math.ceil(a[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+c[0]+", "+c[1]+"));\n      int index = resTexRC.x * "+c[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+b+");\n      int c = imod(index, "+b+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:c=[Math.ceil(b[0]/2),
Math.ceil(b[1]/2)];b=Math.ceil(a[a.length-1]/2);for(var d=b*Math.ceil(a[a.length-2]/2),e=d,f="",g="b, r, c",h=2;h<a.length-1;h++)e*=a[a.length-h-1],f="\n      int b"+h+" = index / "+e+";\n      index -= b"+h+" * "+e+";\n    "+f,g="b"+h+", "+g;return"\n    ivec"+a.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+c[0]+", "+c[1]+"));\n      int index = resTexRC.x * "+c[1]+" + resTexRC.y;\n\n      "+f+"\n\n      int b = index / "+d+";\n      index -= b * "+
d+";\n\n      int r = 2 * (index / "+b+");\n      int c = imod(index, "+b+") * 2;\n\n      return ivec"+a.length+"("+g+");\n    }\n  "}}
function Vz(a,b){switch(a.length){case 0:return $z();case 1:return 1===b[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+b[1]+".0);\n      }\n    ":1===b[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+b[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+b[0]+", "+b[1]+"));\n      return resTexRC.x * "+b[1]+" + resTexRC.y;\n    }\n  ";case 2:return ir(a,b)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+
b[0]+", "+b[1]+"));\n      }\n    ":1===a[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+b[0]+", "+b[1]+"));\n        int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===a[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+b[0]+", "+b[1]+"));\n        int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":
"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+b[0]+", "+b[1]+"));\n      int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n      int r = index / "+a[1]+";\n      int c = index - r * "+a[1]+";\n      return ivec2(r, c);\n    }\n  ";case 3:return a=Lz(["r","c","d"],a),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+b[0]+", "+b[1]+"));\n      int index = resTexRC.x * "+
b[1]+" + resTexRC.y;\n      "+a+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return a=Lz(["r","c","d","d2"],a),"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+b[0]+", "+b[1]+"));\n      int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n      "+a+"\n      return ivec4(r, c, d, d2);\n    }\n  ";case 5:return a=Lz(["r","c","d","d2","d3"],a),"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+b[0]+",\n                             "+
b[1]+"));\n\n      int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n\n      "+a+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ";case 6:return a=Lz("r c d d2 d3 d4".split(" "),a),"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+b[0]+", "+b[1]+"));\n      int index = resTexRC.x * "+b[1]+" + resTexRC.y;\n\n      "+a+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ";default:throw Error("fc`"+
a.length);}}
function Tz(a){var b=K.get("PROD")?"\n      bool isNaN(float val) {\n        return false;\n      }\n\n      bool hasNaN(vec4 values) {\n        return false;\n      }\n    ":"\n      bool isNaN(float val) {\n        return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n      }\n\n      bvec4 isNaN(vec4 val) {\n        return bvec4(\n          isNaN(val.x),\n          isNaN(val.y),\n          isNaN(val.z),\n          isNaN(val.w)\n        );\n      }\n\n      bool hasNaN(vec4 values) {\n        return any(bvec4(\n          isNaN(values.x),\n          isNaN(values.y),\n          isNaN(values.z),\n          isNaN(values.w)\n        ));\n      }\n    ";return a.version+
"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+a.al+" vec2 resultUV;\n    "+a.sk+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    "+b+"\n\n    float getNaN(vec4 values) {\n      return dot(vec4(1), values);\n    }\n\n    "+a.tk+
"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    \nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  "}
function $z(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}
function Xz(a){var b=a.Pa.mb,c=a.name,d="get"+c.charAt(0).toUpperCase()+c.slice(1),e=a.Pa.ab;if(null!=e&&ir(b,e))return"\n    float "+d+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+e[1]+".0, "+e[0]+".0);\n      return sampleTexture("+c+", uv);\n    }\n  ";var f=sr(b),g=f.jf;f=f.Vd;if(f.length<b.length)return b=Yz(a,f),"\n      "+Qz(b)+"\n      float "+d+"(int row, int col) {\n        return "+d+"("+Zz(["row","col"],g)+");\n      }\n    ";if(a.Pa.Pb)return"\n      float "+
d+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+b[1]+", 1)));\n        "+Wz(a)+"\n      }\n    ";g=e[0];e=e[1];a="offset"+c;return 1===e?"\n    float "+d+"(int row, int col) {\n      float index = dot(vec3(row, col, "+a+"), vec3("+b[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+g+".0);\n      return sampleTexture("+c+", uv);\n    }\n  ":1===g?"\n    float "+d+"(int row, int col) {\n      float index = dot(vec3(row, col, "+a+"), vec3("+b[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+
e+".0, 0.5);\n      return sampleTexture("+c+", uv);\n    }\n  ":"\n  float "+d+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+b[1]+" + col + "+a+";\n    vec2 uv = uvFromFlat("+g+", "+e+", index);\n    return sampleTexture("+c+", uv);\n  }\n"}function Wz(a){var b=a.name;a=J(a.Pa.mb);return 1===a?"return "+b+";":"\n    for (int i = 0; i < "+a+"; i++) {\n      if (i == index) {\n        return "+b+"[i];\n      }\n    }\n  "}
function Rz(a,b){var c=a.name;c=c.charAt(0).toUpperCase()+c.slice(1);var d="get"+c+"AtOutCoords",e=a.Pa.mb.length,f=b.mb.length;b=Gv(a.Pa.mb,b.mb);var g=aA(f),h=f-e,k="xyzwuv".split("");var l=0===e?"":2>f&&1<=b.length?"coords = 0;":b.map(function(p){return"coords."+k[p+h]+" = 0;"}).join("\n");var m="";m=2>f&&0<e?"coords":a.Pa.mb.map(function(p,q){return"coords."+k[q+h]}).join(", ");a="return outputValue;";1===e&&1<f?a="\n      return vec4(outputValue.xy, outputValue.xy);\n    ":0===e&&0<f?a=1===f?
"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ":b.length&&(f=e-2,--e,-1<b.indexOf(f)&&-1<b.indexOf(e)?a="return vec4(outputValue.x);":-1<b.indexOf(f)?a="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":-1<b.indexOf(e)&&(a="return vec4(outputValue.xx, outputValue.zz);"));return"\n    vec4 "+d+"() {\n      "+g+" coords = getOutputCoords();\n      "+l+"\n      vec4 outputValue = get"+c+"("+m+");\n      "+
a+"\n    }\n  "}
function Sz(a,b){var c=a.name,d=c.charAt(0).toUpperCase()+c.slice(1),e="get"+d+"AtOutCoords",f=b.ab,g=a.Pa.ab,h=a.Pa.mb.length,k=b.mb.length;if(!a.Pa.Pb&&h===k&&null==a.Pa.tc&&ir(g,f))return"\n      float "+e+"() {\n        return sampleTexture("+c+", resultUV);\n      }\n    ";c=aA(k);b=Gv(a.Pa.mb,b.mb);var l=k-h,m="xyzwuv".split("");b=0===h?"":2>k&&1<=b.length?"coords = 0;":b.map(function(p){return"coords."+m[p+l]+" = 0;"}).join("\n");f="";f=2>k&&0<h?"coords":a.Pa.mb.map(function(p,q){return"coords."+
m[q+l]}).join(", ");return"\n    float "+e+"() {\n      "+c+" coords = getOutputCoords();\n      "+b+"\n      return get"+d+"("+f+");\n    }\n  "}function aA(a){if(1>=a)return"int";if(2===a)return"ivec2";if(3===a)return"ivec3";if(4===a)return"ivec4";if(5===a)return"ivec5";if(6===a)return"ivec6";throw Error("gc`"+a);}function Yz(a,b){a=JSON.parse(JSON.stringify(a));a.Pa.mb=b;return a}function Zz(a,b){return b.map(function(c){return a[c]}).join(", ")};var dA=function(a,b,c){this.Ga=["x"];this.ta=a;var d=a.length;a=a[a.length-1];var e=c?"<":">";this.Ha="\n      int getIndex(int i) {\n        "+(c?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+aA(d)+" coords = getOutputCoords();\n        int end = "+bA(d)+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+e+" end) {\n            continue;\n          }\n          if (idx == end && "+
b+") {\n            continue;\n          }\n          "+bA(d)+" = idx;\n          val += getX("+cA(d)+");\n        }\n        setOutput(val);\n      }\n    "};function cA(a){if(1===a)return"coords";if(2===a)return"coords.x, coords.y";if(3===a)return"coords.x, coords.y, coords.z";if(4===a)return"coords.x, coords.y, coords.z, coords.w";throw Error("hc`"+a);}function bA(a){if(1===a)return"coords";if(2===a)return"coords.y";if(3===a)return"coords.z";if(4===a)return"coords.w";throw Error("hc`"+a);};var eA=function(a,b,c){this.Ga=["x"];this.ta=a;this.Jd=c;this.Ha="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+("NHWC"===this.Jd?"coords[1]":"coords[2]")+";\n      int w = "+("NHWC"===this.Jd?"coords[2]":"coords[3]")+";\n      int d = "+("NHWC"===this.Jd?"coords[3]":"coords[1]")+";\n\n      int in_h = h / "+b+";\n      int offset_h = imod(h, "+b+");\n      int in_w = w / "+b+";\n      int offset_w = imod(w, "+b+");\n      int offset_d = (offset_h * "+
b+" + offset_w) *\n        "+("NHWC"===this.Jd?this.ta[3]:this.ta[1])+";\n      int in_d = d + offset_d;\n\n      float result = "+("NHWC"===this.Jd?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)")+";\n      setOutput(result);\n    }\n  "};var fA=function(a){this.Ga=["A"];var b=Kz();this.ta=a;this.Ha="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+
b.output+" = encode_float(x);\n      }\n    "};var gA=function(a,b,c){this.Ga=["real","imag"];var d=b[1];this.ta=b;this.Ha="\n      const float exponentMultiplier = "+(c?"2.0 * "+Math.PI:"-2.0 * "+Math.PI)+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+a+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+d+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+
d+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(c?d+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "};var hA=function(a){this.Ga=["A"];var b=Kz(),c=t(a),d=c.next().value;c=c.next().value;this.ta=a;this.Ha="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+c+".0, "+d+".0);\n\n        vec4 values = "+b.Dd+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "};var iA=function(a,b,c){this.Ga=["A","indices"];var d=a.slice();d[c]=b;this.ta=d;this.s=d.length;b=aA(this.s);d=a.length;if(4<d)throw Error("ic`"+d);if(1===d)a="int(getIndices(resRC))";else{d=["resRC.x","resRC.y","resRC.z","resRC.w"];for(var e=[],f=0;f<a.length;f++)f===c?e.push("int(getIndices("+d[f]+"))"):e.push(""+d[f]);a=e.join()}this.Ha="\n      void main() {\n        "+b+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "};var jA=function(a,b,c){this.g=a;this.Aa=b;this.Ga=["x","indices"];this.ta=c;a=aA(b.length);c=aA(c.length);this.Ha="\n        "+a+" strides = "+a+"("+this.Aa+");\n         void main() {\n          "+c+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.g+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(1<this.g?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function kA(a,b,c){var d=a.length;if(0!==d%c)throw Error("jc`"+d+"`"+c);d/=c;if(b.length<d)throw Error("lc`"+b.length+"`"+d);for(var e=d=0;e<a.length;e+=c)b[d++]=a[e]}function lA(a,b){return[Math.max(1,Math.ceil(b/2)),Math.max(1,Math.ceil(a/2))]}function mA(a,b){b=t(lA(a,b));a=b.next().value;b=b.next().value;return a*b*4}
function nA(a,b,c,d,e){var f=c*d;if(e.length<f)throw Error("lc`"+e.length+"`"+f);f=1===d%2;for(var g=1===c%2,h=Math.floor(d/2),k=Math.floor(c/2),l=Math.ceil(d/2),m=l*Math.ceil(c/2),p=fr(c)*fr(d),q=0;q<b;q++){for(var r=q*c*d,u=q*p,x=f?4:0,v=d+(f?1:0),y=u,C=r,D=r+d,F=0;F<k;++F){for(var H=0;H<h;++H)e[C++]=a[y++],e[C++]=a[y++],e[D++]=a[y++],e[D++]=a[y++];y+=x;C+=v;D+=v}if(f)for(x=u+4*(l-1),v=r+d-1,y=4*l,C=2*d,D=0;D<k;++D)e[v]=a[x],e[v+d]=a[x+2],x+=y,v+=C;if(g){u+=4*(m-l);x=r+(c-1)*d;for(v=0;v<h;++v)e[x++]=
a[u++],e[x++]=a[u++],u+=2;f&&(e[r+c*d-1]=a[u])}}return e};function oA(a,b){b=b();if(pA){var c=a.getError();if(c!==a.NO_ERROR)throw Error("mc`"+qA(a,c));}return b}var pA=!1;
function qA(a,b){switch(b){case a.NO_ERROR:return"NO_ERROR";case a.INVALID_ENUM:return"INVALID_ENUM";case a.INVALID_VALUE:return"INVALID_VALUE";case a.INVALID_OPERATION:return"INVALID_OPERATION";case a.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case a.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case a.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+b}}
function rA(a,b){return sA(a,function(){return a.getExtension(b)},'Extension "'+b+'" not supported on this browser.')}function tA(a,b){var c=sA(a,function(){return a.createShader(a.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");oA(a,function(){return a.shaderSource(c,b)});oA(a,function(){return a.compileShader(c)});if(!1===a.getShaderParameter(c,a.COMPILE_STATUS))throw console.log(a.getShaderInfoLog(c)),Error("nc");return c}
function uA(a,b){var c=sA(a,function(){return a.createShader(a.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");oA(a,function(){return a.shaderSource(c,b)});oA(a,function(){return a.compileShader(c)});if(!1===a.getShaderParameter(c,a.COMPILE_STATUS))throw vA(b,a.getShaderInfoLog(c)),Error("oc");return c}var wA=/ERROR: [0-9]+:([0-9]+):/g;
function vA(a,b){var c=wA.exec(b);if(null==c)console.log("Couldn't parse line number in error: "+b),console.log(a);else{c=+c[1];a=a.split("\n");for(var d=a.length.toString().length+2,e=a.map(function(h,k){return or((k+1).toString(),d)+h}),f=a=0;f<e.length;f++)a=Math.max(e[f].length,a);f=e.slice(0,c-1);var g=e.slice(c-1,c);c=e.slice(c);console.log(f.join("\n"));console.log(b.split("\n")[0]);console.log("%c "+or(g[0],a),"border:1px solid red; background-color:#e3d2d2; color:#a61717");console.log(c.join("\n"))}}
function xA(a){return sA(a,function(){return a.createProgram()},"Unable to create WebGLProgram.")}function yA(a,b){oA(a,function(){return a.linkProgram(b)});if(!1===a.getProgramParameter(b,a.LINK_STATUS))throw console.log(a.getProgramInfoLog(b)),Error("pc");}
function zA(a){var b=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]),c=sA(a,function(){return a.createBuffer()},"Unable to create WebGLBuffer");oA(a,function(){return a.bindBuffer(a.ARRAY_BUFFER,c)});oA(a,function(){return a.bufferData(a.ARRAY_BUFFER,b,a.STATIC_DRAW)});return c}
function AA(a){var b=new Uint16Array([0,1,2,2,1,3]),c=sA(a,function(){return a.createBuffer()},"Unable to create WebGLBuffer");oA(a,function(){return a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c)});oA(a,function(){return a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW)});return c}function BA(a){return sA(a,function(){return a.createTexture()},"Unable to create WebGLTexture.")}
function CA(a,b){var c=K.get("WEBGL_MAX_TEXTURE_SIZE");if(0>=a||0>=b)throw Error("rc`"+a+"`"+b);if(a>c||b>c)throw Error("sc`"+a+"`"+b+"`"+c+"`"+c);}function DA(a){return sA(a,function(){return a.createFramebuffer()},"Unable to create WebGLFramebuffer.")}
function EA(a,b,c,d,e,f){var g=a.getAttribLocation(b,c);if(-1===g)return!1;oA(a,function(){return a.bindBuffer(a.ARRAY_BUFFER,d)});oA(a,function(){return a.vertexAttribPointer(g,e,a.FLOAT,!1,20,f)});oA(a,function(){return a.enableVertexAttribArray(g)});return!0}function FA(a,b,c){GA(a,c);oA(a,function(){return a.activeTexture(a.TEXTURE0+c)});oA(a,function(){return a.bindTexture(a.TEXTURE_2D,b)})}
function HA(a,b,c){return sA(a,function(){return a.getUniformLocation(b,c)},'uniform "'+c+'" not present in program.')}function IA(a,b,c,d){oA(a,function(){return FA(a,b,d)});oA(a,function(){return a.uniform1i(c,d)})}function JA(a,b,c){oA(a,function(){return a.bindFramebuffer(a.FRAMEBUFFER,c)});oA(a,function(){return a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0)})}
function KA(a,b){oA(a,function(){return a.bindFramebuffer(a.FRAMEBUFFER,b)});oA(a,function(){return a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)})}function sA(a,b,c){a=oA(a,function(){return b()});if(null==a)throw Error(c);return a}function GA(a,b){var c=a.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1;b+=a.TEXTURE0;if(b<a.TEXTURE0||b>c)throw Error("uc`"+c);}function LA(a){return J(a.slice(0,a.length-2))}
function MA(a){if(0===a.length)throw Error("vc");return[1<a.length?a[a.length-2]:1,a[a.length-1]]}
function NA(a,b){b=void 0===b?!1:b;var c=K.get("WEBGL_MAX_TEXTURE_SIZE");b&&(c*=2,a=a.map(function(e,f){return f>=a.length-2?fr(a[f]):a[f]}),1===a.length&&(a=[2,a[0]]));2!==a.length&&(a=sr(a).Vd);var d=J(a);return 1>=a.length&&d<=c?[1,d]:2===a.length&&a[0]<=c&&a[1]<=c?a:3===a.length&&a[0]*a[1]<=c&&a[2]<=c?[a[0]*a[1],a[2]]:3===a.length&&a[0]<=c&&a[1]*a[2]<=c?[a[0],a[1]*a[2]]:4===a.length&&a[0]*a[1]*a[2]<=c&&a[3]<=c?[a[0]*a[1]*a[2],a[3]]:4===a.length&&a[0]<=c&&a[1]*a[2]*a[3]<=c?[a[0],a[1]*a[2]*a[3]]:
b?(b=LA(a),d=c=2,a.length&&(d=t(MA(a)),c=d.next().value,d=d.next().value),nr(c/2*b*(d/2)).map(function(e){return 2*e})):nr(d)}function OA(a,b){a=a.slice(-2);b=b.slice(-2);if(ir(a,b)||!a.length||!b.length||0===a[0]||0===a[1]||0===b[0]||0===b[1])return!0;if(a.length!==b.length){var c=a.slice(-1)[0],d=b.slice(-1)[0];if(c===d||0===c%2&&0===d%2&&(1===a[0]||1===b[0]))return!0}return a[1]===b[1]&&0===a[0]%2&&0===b[0]%2};function PA(a){var b=Kz();return tA(a,b.version+"\n    precision highp float;\n    "+b.Uh+" vec3 clipSpacePos;\n    "+b.Uh+" vec2 uv;\n    "+b.bl+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}
function QA(a,b,c,d,e,f){CA(b,c);var g=BA(a),h=a.TEXTURE_2D;oA(a,function(){return a.bindTexture(h,g)});oA(a,function(){return a.texParameteri(h,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE)});oA(a,function(){return a.texParameteri(h,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)});oA(a,function(){return a.texParameteri(h,a.TEXTURE_MIN_FILTER,a.NEAREST)});oA(a,function(){return a.texParameteri(h,a.TEXTURE_MAG_FILTER,a.NEAREST)});oA(a,function(){return a.texImage2D(h,0,d,b,c,0,e,f,null)});oA(a,function(){return a.bindTexture(a.TEXTURE_2D,
null)});return g}function RA(a,b,c){oA(a,function(){return a.bindBuffer(a.ARRAY_BUFFER,c)});return EA(a,b,"clipSpacePos",c,3,0)&&EA(a,b,"uv",c,2,12)}function SA(a,b,c){oA(a,function(){return a.bindTexture(a.TEXTURE_2D,b)});oA(a,function(){return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c)});oA(a,function(){return a.bindTexture(a.TEXTURE_2D,null)})}
function TA(a,b,c,d,e,f){CA(c,d);oA(a,function(){return a.bindTexture(a.TEXTURE_2D,b)});oA(a,function(){return a.texSubImage2D(a.TEXTURE_2D,0,0,0,c,d,f,a.FLOAT,e)});oA(a,function(){return a.bindTexture(a.TEXTURE_2D,null)})}
function UA(a,b,c,d,e){if(2===K.get("WEBGL_VERSION")){var f=a.createBuffer();oA(a,function(){return a.bindBuffer(a.PIXEL_PACK_BUFFER,f)});var g=4*c*d*e.Re;oA(a,function(){return a.bufferData(a.PIXEL_PACK_BUFFER,g,a.STREAM_READ)});oA(a,function(){return a.readPixels(0,0,d,c,a.RGBA,a.FLOAT,0)});oA(a,function(){return a.bindBuffer(a.PIXEL_PACK_BUFFER,null)});b=f}return b}
function VA(a,b,c,d){var e=t([c,b]),f=e.next().value,g=e.next().value,h=new Float32Array(b*c*d.Re);oA(a,function(){return a.readPixels(0,0,f,g,d.ni,a.FLOAT,h)});b=new Float32Array(b*c);kA(h,b,d.Re);return b}function WA(a,b,c,d){var e=t([c,b]),f=e.next().value,g=e.next().value,h=new Uint8Array(b*c*4);oA(a,function(){return a.readPixels(0,0,f,g,d.ni,a.UNSIGNED_BYTE,h)});return new Float32Array(h.buffer)}
function XA(a,b,c,d,e,f,g){f=new Float32Array(mA(f,g));a.bindBuffer(a.PIXEL_PACK_BUFFER,b);a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,f);a.bindBuffer(a.PIXEL_PACK_BUFFER,null);a=new Float32Array(J([c,d,e]));nA(f,c,d,e,a);return a}function YA(a,b,c,d,e,f){var g=t(lA(e,f)),h=g.next().value,k=g.next().value,l=new Float32Array(mA(e,f));oA(a,function(){return a.readPixels(0,0,h,k,a.RGBA,a.FLOAT,l)});e=new Float32Array(J([b,c,d]));return nA(l,b,c,d,e)};var ZA=function(a){this.ad=this.j=null;this.Ca=this.v=!1;this.H=[];var b=K.get("WEBGL_VERSION");null!=a?(this.g=a,Hs[b]=a):this.g=Js(b);1===K.get("WEBGL_VERSION")?(rA(this.g,"OES_texture_float"),this.g.getExtension("WEBGL_color_buffer_float"),K.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.Ka=rA(this.g,"OES_texture_half_float"),this.g.getExtension("EXT_color_buffer_half_float"))):rA(this.g,"EXT_color_buffer_float");this.Qa=zA(this.g);this.R=AA(this.g);this.o=DA(this.g);a=this.g;var c=this.Ka;if(2===
K.get("WEBGL_VERSION")){b=a.R32F;var d=a.R16F;var e=a.RGBA16F;var f=a.RGBA32F;var g=a.RED;var h=4;var k=1;c=a.HALF_FLOAT}else g=f=e=d=b=a.RGBA,k=h=4,c=null!=c?c.HALF_FLOAT_OES:null;this.i={zk:b,Ak:d,Ck:e,Bk:f,Lh:g,ni:a.RGBA,Re:h,rk:k,nj:c}};
ZA.prototype.dispose=function(){var a=this;if(!this.v){null!=this.ad&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing.");null!=this.j&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var b=this.g;oA(b,function(){return b.finish()});
oA(b,function(){return b.bindFramebuffer(b.FRAMEBUFFER,null)});oA(b,function(){return b.deleteFramebuffer(a.o)});oA(b,function(){return b.bindBuffer(b.ARRAY_BUFFER,null)});oA(b,function(){return b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null)});oA(b,function(){return b.deleteBuffer(a.R)});this.v=!0}};
var $A=function(a,b){a.V();a.j===b&&(KA(a.g,a.o),a.j=null);oA(a.g,function(){return a.g.deleteTexture(b)})},bB=function(a,b,c,d){return aB(a,b,function(){return VA(a.g,c,d,a.i)})},cB=function(a,b,c,d){return aB(a,b,function(){return WA(a.g,c,d,a.i)})},dB=function(a,b,c,d){var e=a.g;a=a.i;var f=new Float32Array(c*d*a.Re);e.bindBuffer(e.PIXEL_PACK_BUFFER,b);e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,f);e.bindBuffer(e.PIXEL_PACK_BUFFER,null);b=new Float32Array(c*d);kA(f,b,a.Re);return b},fB=function(a,
b,c,d){a.V();JA(a.g,b,a.o);b=UA(a.g,b,c,d,a.i);eB(a);return b},iB=function(a){var b=gB(a,a.g);return hB(a,b)},gB=function(a,b){if(K.get("WEBGL_FENCE_API_ENABLED")){var c=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);b.flush();var d=function(){var f=b.clientWaitSync(c,0,0);return f===b.ALREADY_SIGNALED||f===b.CONDITION_SATISFIED};var e=c}else 0<K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?(e=a.beginQuery(),a.endQuery(),d=function(){return jB(a,e)}):d=function(){return!0};return{query:e,Fk:d}},
kB=function(a,b,c,d,e,f,g){return aB(a,b,function(){return YA(a.g,c,d,e,f,g)})},mB=function(a,b){a.V();var c=a.g,d=uA(c,b),e=PA(c),f=xA(c);oA(c,function(){return c.attachShader(f,e)});oA(c,function(){return c.attachShader(f,d)});yA(c,f);a.Ca||(lB(a,f),a.Ca=RA(c,a.ad,a.Qa));return f},nB=function(a,b){a.V();b===a.ad&&(a.ad=null);null!=b&&oA(a.g,function(){return a.g.deleteProgram(b)})},lB=function(a,b){a.V();a.ad=b;oA(a.g,function(){return a.g.useProgram(b)})},oB=function(a,b,c,d){d=void 0===d?!0:d;
a.V();return d?HA(a.g,b,c):a.g.getUniformLocation(b,c)},tz=function(a,b,c){a.V();return a.g.getUniformLocation(b,c)},qB=function(a,b,c,d){a.V();d=t(lA(c,d));c=d.next().value;d=d.next().value;pB(a,b,c,d)},rB=function(a){a.V();if(null==a.ad)throw Error("xc");var b=a.g;oA(b,function(){return b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0)})},sB=function(a){null==a.T&&(a.T=rA(a.g,2===K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query"));
return a.T};ZA.prototype.beginQuery=function(){if(2===K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var a=this.g,b=sB(this),c=a.createQuery();a.beginQuery(b.g,c);return c}a=sB(this);b=a.U();a.j(a.i,b);return b};ZA.prototype.endQuery=function(){if(2===K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var a=this.g,b=sB(this);a.endQuery(b.g)}else a=sB(this),a.v(a.i)};
var uB=function(a,b){return cr(a,function d(){var e=this,f;return Da(d,function(g){return 1==g.g?(f=e,wa(g,pr(function(){return f.v||jB(f,b)}),2)):g.return(tB(e,b))})})},tB=function(a,b){var c=K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION");if(0===c)return null;if(2===c)return a=a.g,a.getQueryParameter(b,a.QUERY_RESULT)/1E6;a=sB(a);return a.g(b,a.H)/1E6},jB=function(a,b){var c=K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION");if(0===c)return!0;if(2===c){var d=a.g;c=sB(a);b=d.getQueryParameter(b,
d.QUERY_RESULT_AVAILABLE);null==a.U&&(a.U=a.g.getParameter(c.i));return b&&!a.U}c=sB(a);b=c.g(b,c.o);null==a.U&&(a.U=a.g.getParameter(c.T));return b&&!a.U},hB=function(a,b){return new Promise(function(c){vB(a,function(){return b.Fk()},function(){return c()})})},xB=function(a){for(var b=wB(a.H.map(function(e){return e.Dk})),c=0;c<=b;++c){var d=a.H[c].Uk;d()}a.H=a.H.slice(b+1)},vB=function(a,b,c){a.H.push({Dk:b,Uk:c});1<a.H.length||pr(function(){xB(a);return 0===a.H.length})},eB=function(a){null!=a.j?
JA(a.g,a.j,a.o):KA(a.g,a.o)},aB=function(a,b,c){a.V();JA(a.g,b,a.o);b=c();eB(a);return b},pB=function(a,b,c,d){a.V();var e=a.g;JA(e,b,a.o);a.j=b;oA(e,function(){return e.viewport(0,0,c,d)});oA(e,function(){return e.scissor(0,0,c,d)})};ZA.prototype.V=function(){if(this.v)throw Error("wc");};function wB(a){for(var b=0;b<a.length&&a[b]();++b);return b-1};function yB(a,b,c,d){var e=b.Ha,f=c.map(function(l,m){var p={mb:l.shape,ab:l.Pb?null:l.Ja.ab,Pb:l.Pb,Nb:l.Pb?!1:l.Ja.Nb,tc:null};null!=l.Ja&&null!=l.Ja.slice&&0<l.Ja.slice.tc&&(p.tc=l.Ja.slice.tc);return{name:b.Ga[m],Pa:p}});c=f.map(function(l){return l.Pa});d={mb:d.shape,ab:d.Ja.ab,Pb:!1,Nb:d.Ja.Nb,tc:null};e=Oz(f,d,e,b.hc);f=mB(a,e);for(var g={},h=0;h<b.Ga.length;h++){var k=b.Ga[h];g[k]=oB(a,f,k,!1);g["offset"+k]=oB(a,f,"offset"+k,!1)}return{ad:b,source:e,Nh:f,oj:g,tb:a,xk:c,Nk:d}}
function zB(a,b){if(a.length!==b.length)throw Error("yc`"+a.length+"`"+b.length);a.forEach(function(c,d){var e=c.mb;d=b[d];var f=d.shape;if(!ir(e,f))throw Error("zc`"+e+"`"+f);if(!c.Pb||!d.Pb)if(c=c.ab,e=d.Pb?null:d.Ja.ab,!ir(c,e))throw Error("Ac`"+c+"`"+e);})}
function AB(a,b,c,d){zB(a.xk,b);zB([a.Nk],[c]);var e=c.Ja.jc,f=c.Ja.ab,g=a.tb;c.Ja.Nb?qB(g,e,f[0],f[1]):pB(g,e,f[1],f[0]);lB(g,a.Nh);b.forEach(function(h,k){var l=a.ad.Ga[k],m=a.oj[l];l=a.oj["offset"+l];if(null!=m)if(h.Pb)1===J(h.shape)?g.g.uniform1f(m,h.qj[0]):(k=h.qj,k instanceof Float32Array||(k=new Float32Array(k)),g.g.uniform1fv(m,k));else{null!=h.Ja.slice&&null!=l&&g.g.uniform1i(l,h.Ja.slice.tc);h=h.Ja.jc;g.V();if(null==g.ad)throw Error("xc");IA(g.g,h,m,k)}});null!=d&&d(g,a.Nh);rB(g)}
function BB(a,b,c){var d="";b.concat(c).forEach(function(e){d+=e.shape+"_"+(e.Pb?"uniform":e.Ja.ab)+"_"+(null!=e.Ja&&null!=e.Ja.slice&&0<e.Ja.slice.tc)});b=a.constructor.name;return b+="_"+d+"_"+a.Ha};var CB=function(a,b,c){this.Ga=["A"];this.ta=a;var d=c.hb,e=c.lb,f=c.rb,g=c.Gb,h=c.Yb,k=c.Ub,l=c.Ia,m=l.left;l=l.top;c=d*c.Db;var p=Kz();this.Ha="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            int blockIndex = rc.y + col;\n            int pos = rc.x + row;\n\n            if(blockIndex >= "+a[1]+" || pos >= "+a[0]+") continue;\n\n            int offsetY = int(blockIndex / ("+
g+")) * "+f+" - "+l+";\n            int d0 = offsetY + "+k+" * (pos / "+c+");\n\n            if(d0 >= "+b[0]+" || d0 < 0) continue;\n\n            int offsetX = int(mod(float(blockIndex), "+g+".) * "+e+". - "+m+".);\n            int d1 = offsetX + "+h+" * (int(mod(float(pos), "+c+".) / "+d+".));\n\n            if(d1 >= "+b[1]+" || d1 < 0) continue;\n\n            result[row * 2 + col] = getA(d0, d1, int(mod(float(pos), "+d+".)));\n          }\n        }\n\n        "+p.output+" = result;\n      }\n    "};var DB=function(a,b,c,d,e){this.Ga=["x"];var f=a[3]-1;this.ta=a;a="float("+c+") + float("+d+") * sum";this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+b+"; j <= "+b+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+f+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+
(.5===e?"inversesqrt("+a+")":1===e?"1.0/("+a+")":"exp(log("+a+") * float(-"+e+"));")+";\n        setOutput(val);\n      }\n    "};var EB=function(a,b,c,d,e){this.Ga=["inputImage","outputImage","dy"];this.ta=a;this.depth=a[3];this.alpha=d;this.beta=e;this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+b+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+
b+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+
d+") * norm + float("+c+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+d+")\n                * float("+e+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+e+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "};var FB=function(a){this.Ga=["dy","maxPos"];this.ta=a.Zc;var b=a.Ld,c=a.Md;this.Ha="\n      const ivec2 pads = ivec2("+(b-1-a.Ia.top)+", "+(c-1-a.Ia.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+
b+";\n          wR += "+a.Ub+") {\n          float dyR = float(dyRCorner + wR) / "+a.rb+".0;\n\n          if (dyR < 0.0 || dyR >= "+a.Lb+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a.lb+".0;\n\n            if (dyC < 0.0 || dyC >= "+a.Gb+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+
(b*c-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+c+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};var GB=function(a,b,c,d,e,f){c=void 0===c?!1:c;d=void 0===d?!1:d;e=void 0===e?!1:e;f=void 0===f?null:f;this.Ga=["matrixA","matrixB"];this.hc=!0;this.ta=b;a=Math.ceil((c?a[1]:a[2])/2);b=c?"i * 2, rc.y":"rc.y, i * 2";var g=d?"rc.z, i * 2":"i * 2, rc.z";c=c?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"];d=d?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];var h="",k="";f&&(h="vec4 activation(vec4 x) {\n        "+f+"\n      }",k="result = activation(result);");f=e?"result += getBiasAtOutCoords();":"";e&&this.Ga.push("bias");
this.Ha="\n      "+h+"\n\n      const float sharedDimension = "+a+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+a+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+b+");\n          vec4 b = getMatrixB(rc.x, "+g+");\n\n          result += ("+c[0]+" * "+d[0]+") + ("+c[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+
f+"\n\n        "+k+"\n\n        setOutput(result);\n      }\n    "};var HB=function(a,b,c){this.Ga=["probs"];this.ta=[a,c];this.Ha="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(b-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+
(b-1)+"));\n      }\n    "},IB=function(a,b){return function(c,d){null==a.g&&(a.g=oB(c,d,"seed"));c.g.uniform1f(a.g,b)}};var JB=function(a,b,c,d){this.Ga=["indices"];this.ta=[a,b];this.Ha="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+d+"), float("+c+"),\n                      float(index == coords.y)));\n      }\n    "};function KB(a,b){return"xyzwuv".split("").slice(0,b).map(function(c){return a+"."+c})}function LB(a,b){return 1===b?[a]:KB(a,b)};var MB=function(a){this.Ga=["A"];this.Gi=!0;this.ta=a;var b=a.length;if(0===b)this.Ha="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var c=LB("rc",b),d=aA(b);if(1===b)var e="rc > "+a[0];else{e="";for(var f=b-2;f<b;f++)e+=c[f]+" >= "+a[f],f<b-1&&(e+="||")}f=a[a.length-1];var g=a[a.length-2];1===b?b="":(b=c.slice(-2),b="\n    int r = "+b[0]+";\n    int c = "+b[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+f+";\n    bool rEdge = rp1 >= "+
g+";\n  ");f=a.length;g=[];for(var h=0;1>=h;h++)for(var k=0;1>=k;k++){for(var l=(0===h?"r":"rp1")+", "+(0===k?"c":"cp1"),m=2;m<f;m++)l=c[c.length-1-m]+","+l;g.push(l)}this.Ha="\n        void main() {\n          "+d+" rc = getOutputCoords();\n\n          if("+e+") {\n            setOutput(vec4(0));\n          } else {\n            "+b+"\n\n            setOutput(vec4("+(1===f?"getA(rc),\n            rc + 1 >= "+a[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+g[0]+"),\n          cEdge ? 0. : getA("+
g[1]+"),\n          rEdge ? 0. : getA("+g[2]+"),\n          rEdge || cEdge ? 0. : getA("+g[3]+")")+"));\n          }\n        }\n      "}};var NB=function(a,b,c){this.Ga=["x"];this.ta=b.map(function(h,k){return h[0]+a[k]+h[1]});var d=a.length,e=aA(d),f=b.map(function(h){return h[0]}).join(",");b=b.map(function(h,k){return h[0]+a[k]}).join(",");var g=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,d);this.Ha=1===d?"\n        int start = "+f+";\n        int end = "+b+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+c+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ":
"\n      "+e+" start = "+e+"("+f+");\n      "+e+" end = "+e+"("+b+");\n\n      void main() {\n        "+e+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+c+"));\n        } else {\n          "+e+" coords = outC - start;\n          setOutput(getX("+g+"));\n        }\n      }\n    "};var OB=function(a,b,c){this.Ga=["x"];this.hc=!0;this.ta=b.map(function(r,u){return r[0]+a[u]+r[1]});var d=a.length,e=aA(d),f=b.map(function(r){return r[0]}).join(",");b=b.map(function(r,u){return r[0]+a[u]}).join(",");var g=LB("rc",d),h=LB("source",d),k=g[d-1]+" < "+this.ta[d-1],l=1===d?"source":"vec2("+h.slice(-2).join()+")";g=[e+" rc = outputLoc;",g[d-1]+" += 1;\n       if("+k+") {\n      ",1===d?"":"}\n       rc = outputLoc;\n       "+g[d-2]+" += 1;\n       if("+g[d-2]+" < "+this.ta[d-2]+") {",
1===d?"":"  "+g[d-1]+" += 1;\n         if("+k+") {"];k=1===d?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";for(var m="",p=0,q=1===d?2:4;p<q;p++)m+="\n        "+g[p]+"\n        if ("+k+") {\n          result["+p+"] = float("+c+");\n        } else {\n          "+e+" source = rc - start;\n          result["+p+"] = getChannel(getX("+h.join()+"), "+l+");\n        }\n      ";this.Ha="\n      const "+e+" start = "+e+"("+f+");\n      const "+e+" end = "+e+"("+b+");\n\n      void main() {\n        "+
e+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+(m+(1===d?"} ":"}}"))+"\n        setOutput(result);\n      }\n    "};var PB=function(a,b,c){this.Ga=["x"];if("avg"===b&&c)throw Error("Bc");var d=a.Db,e=a.rb,f=a.lb,g=a.Ub,h=a.Yb,k=a.Ld,l=a.Md,m=a.Ia.top,p=a.Ia.left;this.ta=a.Qb;var q="avg"===b,r="0.0";q||(r="-1.0 / 1e-20");c?this.Ha="\n        const ivec2 strides = ivec2("+e+", "+f+");\n        const ivec2 pads = ivec2("+m+", "+p+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+
k+";\n              wR += "+g+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+a.Eb+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+h+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+a.Fb+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+
l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ":(c=b+"("+b+"("+b+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])","avg"===b&&(c="avgValue / count"),b=4*Math.floor(d/4),d%=4,q="\n      if ("+q+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ",this.Ha="\n      const ivec2 strides = ivec2("+e+", "+f+");\n      const ivec2 pads = ivec2("+
m+", "+p+");\n      const float initializationValue = "+r+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+a.Fb+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+
r+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+k+";\n            wR += "+g+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+a.Eb+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+b+"; wC += 4) {\n            int xC = xCCorner + wC * "+h+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+h+", d),\n              getValue(batch, xR, xC + 2 * "+
h+", d),\n              getValue(batch, xR, xC + 3 * "+h+", d)\n            );\n\n            "+q+"\n          }\n\n          int xC = xCCorner + "+b+";\n          if ("+(1===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+q+"\n          } else if ("+(2===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+
h+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+q+"\n          } else if ("+(3===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+h+", d),\n              getValue(batch, xR, xC + 2 * "+h+", d),\n              initializationValue\n            );\n\n            "+q+"\n          }\n        }\n        setOutput("+c+");\n      }\n    ")};var QB=function(a,b){this.Ga=["x"];var c=a.Ff,d=a.ff;this.ta=[a.Cb,Math.ceil(d/c)];a="0.0";var e="";"prod"===b?a="1.0":"min"===b?(a="1.0 / 1e-20",e="min"):"max"===b&&(a="-1.0 / 1e-20",e="max");var f=b+"("+b+"("+b+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===b?f="sumValue":"prod"===b?f="prodValue":"all"===b?f="allValue":"any"===b&&(f="anyValue");var g=4*Math.floor(c/4),h=c%4;e="\n      if ("+("sum"===b)+") {\n        sumValue += dot(values, ones);\n      } else if ("+
("prod"===b)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+e+"(values, minMaxValue);\n      }\n    ";var k="vec4";"all"===b?(a="1.0",e="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",k="bvec4"):"any"===b&&(a="0.0",e="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",
k="bvec4");b="";0<d%c&&(b="\n        if (inIdx < 0 || inIdx >= "+d+") {\n          return initializationValue;\n        }\n      ");this.Ha="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+b+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+
c+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+g+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+k+" values = "+k+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+e+"\n        }\n\n        int inIdx = inOffset + "+
g+";\n        if ("+(1===h)+") {\n          "+k+" values = "+k+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+e+"\n        } else if ("+(2===h)+") {\n          "+k+" values = "+k+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+e+"\n        } else if ("+
(3===h)+") {\n          "+k+" values = "+k+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+e+"\n        }\n        setOutput("+f+");\n      }\n    "};var SB=function(a,b){this.Ga=["A"];this.hc=!0;this.ta=a;for(var c="",d=0;4>d;d++){var e="thisRC = rc;";1===d%2&&(e+="thisRC.z += 1;");1<d&&(e+="thisRC.y += 1;");c+="\n        "+e+"\n        "+(0<d?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+d+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+
(0<d?"}":"")+"\n      "}this.Ha="\n      "+("\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Lz(["r","c","d"],b)+"\n      return ivec3(r, c, d);\n    }\n  ")+"\n      "+RB(a)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+a[1]+";\n        int cols = "+a[2]+";\n\n        "+c+"\n\n        setOutput(result);\n      }\n    "};
function RB(a){return"\n    int getFlatIndex(ivec3 coords) {\n      return round("+Nz(Cr(a).map(function(b){return b.toString()}).concat(["1."]))+");\n    }\n  "};var TB=function(a,b,c){this.Ga=["dy"];this.ta=[];this.ta=b.shape;var d=t(b.shape);d.next();b=d.next().value;d=d.next().value;var e=t(a.shape);e.next();a=e.next().value;e=e.next().value;var f=[c&&1<a?b-1:b,c&&1<e?d-1:d],g=[c&&1<a?a-1:a,c&&1<e?e-1:e];c=f[0]/g[0];f=f[1]/g[1];g=1/c;var h=1/f;this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+
c+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+g+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+(2*Math.ceil(g)+2)+");\n        const int winWidth = int("+(2*Math.ceil(h)+2)+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+
a+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+e+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(b-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+
(d-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "};var UB=function(a,b,c,d){this.Ga=["A"];this.ta=[];var e=t(a),f=e.next().value;a=e.next().value;var g=e.next().value;e=e.next().value;this.ta=[f,b,c,e];f=[d&&1<b?a-1:a,d&&1<c?g-1:g];b=[d&&1<b?b-1:b,d&&1<c?c-1:c];this.Ha="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+f[0]/b[0]+",\n          "+f[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+g+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "};/*

 Copyright 2018 Google LLC All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 =============================================================================
*/
var VB=function(a,b,c){this.Ga=["dy"];this.ta=[];this.ta=b.shape;var d=t(b.shape);d.next();b=d.next().value;d=d.next().value;var e=t(a.shape);e.next();a=e.next().value;e=e.next().value;var f=[c&&1<a?b-1:b,c&&1<e?d-1:d],g=[c&&1<a?a-1:a,c&&1<e?e-1:e],h=f[0]/g[0],k=f[1]/g[1],l=1/h,m=1/k;this.Ha="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+
h+");\n        const float widthScale = float("+k+");\n\n        const float invHeightScale = float("+l+");\n        const float invWidthScale = float("+m+");\n\n        const int winHeight = int("+(2*Math.ceil(l)+2)+");\n        const int winWidth = int("+(2*Math.ceil(m)+2)+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+
a+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+e+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+f[0]+") *\n                (float(dyR) / float("+g[0]+"));\n\n            float sourceFracCol =\n                float("+f[1]+
") *\n                  (float(dyC) / float("+g[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+b+") - 1),\n                "+c+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+d+") - 1),\n                "+c+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "};var WB=function(a,b,c,d){this.Ga=["A"];this.ta=[];var e=t(a),f=e.next().value;a=e.next().value;var g=e.next().value;e=e.next().value;this.ta=[f,b,c,e];f=[d&&1<b?a-1:a,d&&1<c?g-1:g];b=[d&&1<b?b-1:b,d&&1<c?c-1:c];this.Ha="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+f[0]/b[0]+",\n          "+f[1]/b[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+g+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+
(d?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "};var XB=function(a,b){this.Ga=["x"];var c=a.length;if(4<c)throw Error("Cc`"+c);this.ta=a;if(1===c)this.Ha="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+a[0]+" - coord - 1));\n        }\n      ";else{var d=a.map(function(e,f){return-1!==b.indexOf(f)&&1!==a[f]?a[f]+" - coords["+f+"] - 1":"coords["+f+"]"}).join(",");this.Ha="\n      void main() {\n        "+aA(c)+" coords = getOutputCoords();\n        setOutput(getX("+d+"));\n      }\n    "}};var YB=function(a,b,c,d,e,f){this.Ga=["updates","indices","defaultValue"];this.ta=f;var g=aA(e.length);f=aA(f.length);var h="";1===c?h="i":2===c&&(h="i, j");c="";1===d?c="i":2===d&&(c="i, coords[1]");this.Ha="\n        "+g+" strides = "+g+"("+e+");\n\n        void main() {\n          "+f+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+a+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+b+"; j++) {\n              int index = round("+
("getIndices("+h+")")+");\n              flattenedIndex += index * "+(1<b?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+("getUpdates("+c+")")+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "};var ZB=function(a){this.Ga=["x","segmentIds"];var b=a.Ff,c=a.ff,d=a.Mk;this.ta=[a.Cb,d*Math.ceil(c/b)];a=4*Math.floor(b/4);var e=b%4,f="";0<c%b&&(f="\n        if (inIdx < 0 || inIdx >= "+c+") {\n          return initializationValue;\n        }\n      ");var g="";0<c%b&&(g="\n        if (inIdx < 0 || inIdx >= "+c+") {\n          return -1.0;\n        }\n      ");this.Ha="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+
g+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+d+")) * float("+b+"));\n        int currentSeg = int(mod(float(outIdx), float("+d+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+a+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          \n        sumValue += dot(values, segFilter);\n    \n        }\n\n        int inIdx = inOffset + "+
a+";\n        if ("+(1===e)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          \n        sumValue += dot(values, segFilter);\n    \n        } else if ("+
(2===e)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          \n        sumValue += dot(values, segFilter);\n    \n        } else if ("+
(3===e)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          \n        sumValue += dot(values, segFilter);\n    \n        }\n        setOutput(sumValue);\n      }\n    "};var $B=function(a,b,c){this.Ga=["c","a","b"];this.ta=b;var d;if(4<c)throw Error("Dc`"+c);if(1===c)a=d="resRC";else{var e=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[];d=[];for(var g=0;g<b.length;g++)d.push(""+e[g]),g<a&&f.push(""+e[g]);a=f.join();d=d.join()}this.Ha="\n      void main() {\n        "+aA(c)+" resRC = getOutputCoords();\n        float cVal = getC("+a+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+d+"));\n        } else {\n          setOutput(getB("+d+"));\n        }\n      }\n    "};var cC=function(a){this.Ga=["source"];this.ta=a;this.s=a.length;var b=aA(this.s),c="uniform int start["+this.s+"];",d=aC(this.s);a=a.map(function(e,f){return"sourceLoc."+bC[f]+" = start["+f+"] + coords."+bC[f]+";"});b="\n        "+b+" sourceLoc;\n        "+b+" coords = getOutputCoords();\n        "+a.join("\n")+"\n      ";this.Ha="\n      "+c+"\n      void main() {\n        "+b+"\n        setOutput(getSource("+d+"));\n      }\n    "};
cC.prototype.i=function(a){var b=this;if(a.length!==this.s)throw Error("Ec`"+this.s+"`"+a.length);return function(c,d){if(null==b.g&&(b.g=tz(c,d,"start"),null==b.g))return;c.g.uniform1iv(b.g,a)}};var bC="xyzwuv".split("");function aC(a){if(1===a)return"sourceLoc";if(6>=a)return bC.slice(0,a).map(function(b){return"sourceLoc."+b}).join(",");throw Error("Fc`"+a);};var dC=function(a){this.Ga=["source"];this.hc=!0;this.ta=a;this.s=a.length;var b=aA(this.s),c=LB("coords",this.s),d=LB("sourceLoc",this.s),e=1===this.s?"sourceLoc":"vec2("+d.slice(-2).join()+")",f="getChannel(getSource("+d.join()+"), "+e+")";e="\n      result.x = "+f+";\n      if (++"+c[this.s-1]+" < "+a[this.s-1]+") {\n        ++"+d[this.s-1]+";\n        result.y = "+f+";\n        --"+d[this.s-1]+";\n      }\n    ";f=1===this.s?"":"\n      --"+c[this.s-1]+";\n      if (++"+c[this.s-2]+" < "+a[this.s-
2]+") {\n        ++"+d[this.s-2]+";\n        result.z = "+f+";\n        if (++"+c[this.s-1]+" < "+a[this.s-1]+") {\n          ++"+d[this.s-1]+";\n          result.w = "+f+";\n        }\n      }\n    ";a=4>=this.s?"sourceLoc = coords +\n            "+b+"("+a.map(function(g,h){return"start["+h+"]"}).join()+");":a.map(function(g,h){return d[h]+" = "+c[h]+" + start["+h+"];"}).join("\n");this.Ha="\n      uniform int start["+this.s+"];\n      void main() {\n        "+b+" coords = getOutputCoords();\n        "+
b+" sourceLoc;\n        "+a+" \n        vec4 result = vec4(0.);\n        "+e+"\n        "+f+"\n        setOutput(result);\n      }\n    "};dC.prototype.i=function(a){var b=this;if(a.length!==this.s)throw Error("Ec`"+this.s+"`"+a.length);return function(c,d){if(null==b.g&&(b.g=tz(c,d,"start"),null==b.g))return;c.g.uniform1iv(b.g,a)}};var eC=function(a,b,c,d){this.Ga=["x"];var e=c.filter(function(m,p){return-1===d.indexOf(p)});this.ta=e;var f=c.length,g=aA(c.length),h=aA(e.length),k="";if(1===f)k="coords * strides + begin";else{var l=0;k=c.map(function(m,p){return-1===d.indexOf(p)?(l++,1===e.length?"coords * strides["+p+"] + begin["+p+"]":"coords["+(l-1)+"] * strides["+p+"] + begin["+p+"]"):"begin["+p+"]"}).join(",")}this.Ha="\n      "+g+" begin = "+g+"("+a+");\n      "+g+" strides = "+g+"("+b+");\n\n      void main() {\n        "+
h+" coords = getOutputCoords();\n        setOutput(getX("+k+"));\n      }\n    "};var fC=function(a){this.tb=a;this.H=this.o=0;this.g={};this.i={}};fC.prototype.log=function(){};fC.prototype.dispose=function(){var a=this;if(null!=this.g){for(var b in this.g)this.g[b].forEach(function(d){$A(a.tb,d)});for(var c in this.i)this.i[c].forEach(function(d){$A(a.tb,d)});this.i=this.g=null;this.H=this.o=0}};
function gC(a,b){if(1===a)return b?3:1;if(0===a||null==a)return b?K.get("WEBGL_RENDER_FLOAT32_ENABLED")?3:4:K.get("WEBGL_RENDER_FLOAT32_ENABLED")?1:0;if(3===a||2===a)return 2;throw Error("Hc`"+a);};var hC=function(a,b){this.Ga=["A"];for(var c=Array(a.length),d=0;d<c.length;d++)c[d]=a[d]*b[d];this.ta=c;this.s=c.length;b=aA(this.s);c=a.length;if(5<c)throw Error("Ic`"+c);if(1===c)a="imod(resRC, "+a[0]+")";else{c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"];d=[];for(var e=0;e<a.length;e++)d.push("imod("+c[e]+", "+a[e]+")");a=d.join()}this.Ha="\n      void main() {\n        "+b+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "};var iC=function(a,b){this.Ga=["A"];for(var c=Array(a.length),d=0;d<c.length;d++)c[d]=a[b[d]];this.ta=c;this.s=c.length;a=aA(this.s);d=b.length;if(6<d)throw Error("Jc`"+d);c="resRC.x resRC.y resRC.z resRC.w resRC.u resRC.v".split(" ");d=Array(d);for(var e=0;e<b.length;e++)d[b[e]]=c[e];b=d.join();this.Ha="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+b+"));\n    }\n    "};var jC=function(a,b){this.Ga=["A"];this.hc=!0;for(var c=Array(a.length),d=0;d<c.length;d++)c[d]=a[b[d]];this.ta=c;this.s=c.length;if(6<this.s)throw Error("Kc`"+this.s);a=aA(this.s);d=KB("rc",this.s);for(var e=Array(this.s),f=0;f<b.length;f++)e[b[f]]=d[f];f="vec2("+e.slice(-2).join()+")";b="++"+d[this.s-1]+" < "+c[this.s-1];e="getChannel(getA("+e.join()+"), "+f+")";this.Ha="\n    void main() {\n      "+a+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+e+";\n      if("+
b+") {\n        result[1] = "+e+";\n      }\n      --"+d[this.s-1]+";\n      if(++"+d[this.s-2]+" < "+c[this.s-2]+") {\n        result[2] = "+e+";\n        if("+b+") {\n          result[3] = "+e+";\n        }\n      }  \n      setOutput(result);\n    }\n    "};var kC=function(a,b){this.Ga=["A"];this.ta=a;this.Ha="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+b+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "};kC.prototype.g=function(){var a=this;return function(b,c){if(null==a.i&&(a.i=tz(b,c,"NAN"),null==a.i))return;b.g.uniform1f(a.i,NaN)}};var lC=function(a,b){this.Ga=["A"];this.hc=!0;this.ta=a;this.Ha="\n      uniform float NAN;\n      vec4 unaryOperation(vec4 x) {\n        "+b+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "};lC.prototype.g=function(){var a=this;return function(b,c){if(null==a.i&&(a.i=tz(b,c,"NAN"),null==a.i))return;b.g.uniform1f(a.i,NaN)}};var mC=function(a){this.Ga=["A"];this.hc=!0;this.ta=a;var b=a.length,c=LB("rc",b);a=aA(b);if(1===b)var d="rc";else{d="";for(var e=0;e<b;e++)d+=c[e],e<b-1&&(d+=",")}c=c.slice(-2);b=1>=b?"rc":"vec2("+c.join(",")+")";this.Ha="\n      void main() {\n        "+a+" rc = getOutputCoords();\n        vec4 packedInput = getA("+d+");\n\n        setOutput(getChannel(packedInput, "+b+"));\n      }\n    "};var nC=function(){this.tb=void 0;this.U=new WeakMap;this.Ca=new WeakSet;this.T=new WeakMap;this.o=[];this.Se=this.Ef=this.j=0;this.v={};this.Ka=!1;if(1>K.get("WEBGL_VERSION"))throw Error("Mc");var a=Js(K.get("WEBGL_VERSION"));this.tb=new ZA(a);this.S=a.canvas;this.R=new fC(this.tb)};nC.prototype.register=function(a,b,c){if(this.Ja.has(a))throw Error("Wb");this.Ja.set(a,{shape:b,dtype:c})};nC.prototype.kj=function(a){this.Ja=new yu(a)};
nC.prototype.$e=function(a,b){if(null==a)throw Error("Yb");var c=[a.height,a.width];b=[a.height,a.width,b];if(K.get("IS_BROWSER")){if(!(a instanceof HTMLVideoElement||a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof ImageData))throw Error("ac`"+a.constructor.name);if(a instanceof HTMLVideoElement){if(null==this.H){if("complete"!==document.readyState)throw Error("Nc");this.H=document.createElement("canvas").getContext("2d")}this.H.canvas.width=a.width;this.H.canvas.height=
a.height;this.H.drawImage(a,0,0,a.width,a.height);a=this.H.canvas}}c=oC(this,c,"int32");this.Ja.get(c.Da).usage=2;var d=this.tb;var e=c.Da;pC(this,e);e=this.Ja.get(e).jc;d.V();SA(d.g,e,a);a=new hA(b);a=Z(this,a,[c]);this.qe(c.Da);return a};var oC=function(a,b,c){var d={};a.register(d,b,c);return{Da:d,shape:b,dtype:c}};
nC.prototype.write=function(a,b){if(null==b)throw Error("Oc");if(K.get("DEBUG"))for(var c=0;c<b.length;c++){var d=b[c];if(!(K.get("WEBGL_RENDER_FLOAT32_ENABLED")||0===d||5.96E-8<Math.abs(d)&&65504>Math.abs(d)))throw Error("Pc`"+d);}c=this.Ja.get(a);d=c.jc;var e=c.ab,f=c.usage,g=c.dtype,h=c.Nb;if("complex64"===g)throw Error("Qc");null!=d&&(qC(this,a,d,e,f,g,h),c.jc=null,c.ab=null);c.usage=1;c.values=b};
nC.prototype.mf=function(a){var b=this.Ja.get(a),c=b.values,d=b.dtype,e=b.Jb,f=b.shape;if(null!=b.slice)return a=Z(this,new kC(f,"return x;"),[{Da:a,shape:f,dtype:d}]),this.mf(a.Da);if(null!=c)return rC(this,a);if("string"===d)return c;b=null!=this.i;var g;b&&(g=performance.now());"complex64"===d?(d=L(e.nb),e=L(e.yb),e=Bu(d,e)):e=sC(this,a);b&&(this.Se+=performance.now()-g);return rC(this,a,e)};
nC.prototype.qg=function(a){return cr(this,function c(){var d=this,e,f,g,h,k,l,m,p,q,r,u,x,v,y,C,D,F,H,O,N,R,S,W,X;return Da(c,function(T){if(1==T.g){if(d.U.has(a))return e=d.U.get(a),T.return(new Promise(function(aa){return e.push(aa)}));g=f=d.Ja.get(a);h=g.jc;k=g.values;l=g.ab;m=g.Nb;p=g.shape;q=g.slice;r=g.dtype;if(null!=q)return u=new kC(p,"return x;"),x=Z(d,u,[{Da:a,shape:p,dtype:r}]),T.return(d.qg(x.Da));if(null!=k)return T.return(rC(d,a));d.U.set(a,[]);if(!K.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&
2===K.get("WEBGL_VERSION"))throw Error("Rc");v=l[1];y=l[0];m&&(C=t(lA(l[0],l[1])),v=C.next().value,y=C.next().value);D=fB(d.tb,h,y,v);return wa(T,iB(d.tb),2)}D instanceof WebGLTexture?F=sC(d,a):(H=J(p),m?(O=LA(p),R=N=1,p.length&&(S=t(MA(p)),N=S.next().value,R=S.next().value),F=XA(d.tb.g,D,O,N,R,l[0],l[1]).subarray(0,H)):F=dB(d.tb,D,l[0],l[1]).subarray(0,H));W=rC(d,a,F);X=d.U.get(a);d.U.delete(a);X.forEach(function(aa){return aa(W)});d.Ca.has(a)&&(d.Ca.delete(a),d.qe(a));return T.return(W)})})};
var sC=function(a,b){var c=a.Ja.get(b),d=c.shape,e=c.dtype,f=c.jc,g=c.ab;c=J(d);if(K.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")){if(a.Ja.get(b).Nb){var h=LA(d),k=1,l=1;d.length&&(l=t(MA(d)),k=l.next().value,l=l.next().value);return kB(a.tb,f,h,k,l,g[0],g[1]).subarray(0,c)}return bB(a.tb,f,g[0],g[1]).subarray(0,c)}var m=oC(a,d,"float32");m.size=J(d);a.Ja.get(m.Da).usage=3;f=Xs(function(){var p=new fA(d);return Z(a,p,[{shape:d,dtype:e,Da:b}],m,null,!1)});f=a.Ja.get(f.Da);c=cB(a.tb,f.jc,f.ab[0],f.ab[1]).subarray(0,
c);a.qe(m.Da);return c};
nC.prototype.time=function(a){return cr(this,function c(){var d=this,e,f,g,h,k,l,m;return Da(c,function(p){if(1==p.g)return e=d.i,f=[],g=!1,null==d.Qa?(d.Qa=f,g=!0):d.i.push(f),d.i=f,a(),h=kr(d.i.map(function(q){return q.query})).filter(function(q){return null!=q}),k=kr(d.i.map(function(q){return q.name})).filter(function(q){return null!=q}),d.i=e,g&&(d.Qa=null),wa(p,Promise.all(h),2);l=p.i;m={Ef:d.Ef,Se:d.Se,Hi:gr(l),wi:function(){return l.map(function(q,r){return{name:k[r],Kk:q}}).map(function(q){return q.name+
": "+q.Kk}).join(", ")},fl:null};d.Ef=0;d.Se=0;return p.return(m)})})};
var tC=function(a){return 0<K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?a.tb.beginQuery():{Xk:performance.now(),ri:null}},uC=function(a,b){if(0<K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))return a.tb.endQuery(),b;b.ri=performance.now();return b},vC=function(a,b){return cr(a,function d(){var e=this,f;return Da(d,function(g){if(0<K.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))return g.return(uB(e.tb,b));f=b;return g.return(f.ri-f.Xk)})})};
nC.prototype.qe=function(a){if(!this.Ca.has(a))if(this.U.has(a))this.Ca.add(a);else if(this.Ja.has(a)){var b=this.Ja.get(a),c=b.jc,d=b.dtype,e=b.ab,f=b.usage,g=b.Jb,h=b.Nb;b=b.slice;if(null!=c){b=b&&b.tg||a;var k=this.T.get(b);1<k?this.T.set(b,k-1):(this.T.delete(b),qC(this,a,c,e,f,d,h),this.Ja.data.delete(a))}null!=g&&(g.nb.dispose(),g.yb.dispose())}};
var wC=function(a){if(!K.get("WEBGL_CPU_FORWARD"))return null;null==a.g&&(a.g=at(K,"cpu"));return a.g},xC=function(a,b){var c=void 0===c?10:c;return null!=wC(a)&&b.every(function(d){return null==a.Ja.get(d.Da).jc&&d.size<c})};n=nC.prototype;n.ac=function(a,b){var c=yC(this,a.shape,"complex64");this.Ja.get(c.Da).Jb={nb:Ds(a.clone()),yb:Ds(b.clone())};return c};n.nb=function(a){return this.Ja.get(a.Da).Jb.nb.clone()};n.yb=function(a){return this.Ja.get(a.Da).Jb.yb.clone()};
n.slice=function(a,b,c){if(xC(this,[a]))return this.g.slice(a,b,c);var d=this.Ja.get(a.Da).Nb,e=Ty(a.shape,b,c);if(d||!e)return c=K.get("WEBGL_PACK_ARRAY_OPERATIONS")?new dC(c):new cC(c),b=c.i(b),Z(this,c,[a],null,b);pC(this,a.Da);var f=this.Ja.get(a.Da);d=Ur(c,{},a.dtype,this);e=this.Ja.get(d.Da);Object.assign(e,f);e.shape=c;b=Uy(b,a.Aa);f.slice&&(b+=f.slice.tc);e.slice={tc:b,tg:f.slice&&f.slice.tg||a.Da};a=this.T.get(e.slice.tg)||1;this.T.set(e.slice.tg,a+1);return d};
n.Ce=function(a,b,c,d,e,f,g,h,k){if(xC(this,[a]))return this.g.Ce(a,b,c,d,e,f,g,h,k);e=t(Qy(a.shape,b,c,d,e,f,g,h,k));b=e.next().value;c=e.next().value;var l=e.next().value;e=c.filter(function(m,p){return-1===l.indexOf(p)});if(e.some(function(m){return 0===m}))return Mt([],e);d=new eC(b,d,c,l);return Z(this,d,[a])};n.reverse=function(a,b){b=new XB(a.shape,b);return Z(this,b,[a])};
n.concat=function(a,b){if(xC(this,a))return this.g.concat(a,b);if(1===a.length)return a[0];if(a.length>K.get("WEBGL_MAX_TEXTURES_IN_SHADER")){var c=Math.floor(a.length/2),d=this.concat(a.slice(0,c),b);a=this.concat(a.slice(c),b);return this.concat([d,a],b)}d=Ru(a.map(function(e){return e.shape}),b);a=a.map(function(e){return bs(e,-1,J(e.shape.slice(b)))});c=new yz(a.map(function(e){return e.shape}));return Z(this,c,a).ra(d)};n.Kb=function(a){return Z(this,new kC(a.shape,"return -x;"),[a])};
n.Pe=function(a,b,c,d){var e=c?a.shape[2]:a.shape[1],f=d?b.shape[1]:b.shape[2],g=c?a.shape[1]:a.shape[2],h=t(a.shape),k=h.next().value;h.next();if((1===e||1===f)&&1E3<g)return c&&(a=a.Ya([0,2,1])),d&&(b=b.Ya([0,2,1])),a=1===f?a:cs(a,k,g,1),c=1===f?2:1,b=1===f?cs(b,k,1,g):b,this.lf(a,b).Na(c,!0);g=ts(a.dtype,b.dtype);f=new GB(a.shape,[k,e,f],c,d);k=zC(this,f.ta,g);return Z(this,f,[a,b],k)};
n.vi=function(a,b,c,d,e,f){var g=c?a.shape[2]:a.shape[1],h=d?b.shape[1]:b.shape[2],k=t(a.shape),l=k.next().value;k.next();k=ts(a.dtype,b.dtype);var m=a.shape;if(f)if("linear"===f)f="return x;";else if("relu"===f)f="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n\n  result.r = isNaN(x.r) ? x.r : result.r;\n  result.g = isNaN(x.g) ? x.g : result.g;\n  result.b = isNaN(x.b) ? x.b : result.b;\n  result.a = isNaN(x.a) ? x.a : result.a;\n\n  return result;\n";else throw Error("Lc`"+f);else f=
null;c=new GB(m,[l,g,h],c,d,!!e,f);d=zC(this,c.ta,k);a=[a,b];e&&a.push(e);return Z(this,c,a,d)};
n.lf=function(a,b){if("complex64"===a.dtype){var c=this.Ja.get(a.Da),d=this.Ja.get(b.Da),e=new rz("return areal * breal - aimag * bimag;",a.shape,b.shape),f=new rz("return areal * bimag + aimag * breal;",a.shape,b.shape);b=[AC(a,c.Jb.nb),AC(a,c.Jb.yb),AC(b,d.Jb.nb),AC(b,d.Jb.yb)];a=Z(this,e,b);b=Z(this,f,b);f=this.ac(a,b);a.dispose();b.dispose();return f}if(xC(this,[a,b]))return this.g.lf(a,b);if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"return a * b;",a.dtype);f=new sz("return a * b;",
a.shape,b.shape);e=yC(this,f.ta,a.dtype);return Z(this,f,[a,b],e)};n.Vf=function(a,b,c,d,e,f){var g=[a,b,c],h=null;null!=f&&(h=f.shape,g.push(f));f=null;null!=e&&(f=e.shape,g.push(e));if(K.get("WEBGL_PACK_BATCHNORMALIZATION"))return a=new qz(a.shape,b.shape,c.shape,h,f,d),Z(this,a,g);a=new pz(a.shape,b.shape,c.shape,h,f,d);return Z(this,a,g)};n.Mi=function(a,b,c,d,e){return Z(this,new DB(a.shape,b,c,d,e),[a])};n.Qh=function(a,b,c,d,e,f,g){return Z(this,new EB(b.shape,d,e,f,g),[b,c,a])};
n.ae=function(a,b){b=new hC(a.shape,b);return Z(this,b,[a])};n.Bd=function(a,b,c){b=K.get("WEBGL_PACK_ARRAY_OPERATIONS")?new OB(a.shape,b,c):new NB(a.shape,b,c);return Z(this,b,[a])};n.Ya=function(a,b){b=K.get("WEBGL_PACK_ARRAY_OPERATIONS")?new jC(a.shape,b):new iC(a.shape,b);return Z(this,b,[a])};n.af=function(a,b,c){c=new iA(a.shape,b.size,c);return Z(this,c,[a,b])};
n.ne=function(a,b,c){I(4>=a.s,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var d=b.reduce(function(h,k){return h*k}),e=Bv(a.shape,b,d),f=Cv(e.length,b.length);d=Dv(a.shape,b,d);var g=Ev(c,b.length);b=Fv(d,c,b.length);return a.ra(e).Ya(f).ra(d).slice(g,b)};
n.Ae=function(a,b,c){I(4>=a.s,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var d=b.reduce(function(f,g){return f*g}),e=[[0,0]];e.push.apply(e,la(c));for(c=1+b.length;c<a.shape.length;++c)e.push([0,0]);a=a.Bd(e);e=Bv(a.shape,b,d,!1);c=Cv(e.length,b.length,!1);b=Dv(a.shape,b,d,!1);return a.ra(e).Ya(c).ra(b)};
n.reduce=function(a,b,c){var d=a.shape[1];d=new QB({Ff:30>=d?d:Br(d,Math.floor(Math.sqrt(d))),ff:d,Cb:a.shape[0]},b);var e=t(d.ta),f=e.next().value;e=e.next().value;f=yC(this,[f,e],c);Z(this,d,[a],f);return 1===f.shape[1]?f:this.reduce(f,b,c)};
var CC=function(a,b,c,d){d=void 0===d?null:d;var e=b.shape[0],f=b.shape[1];null!=d&&(e=d.shape[0],f=d.shape[1]);e=new nz({Ff:30>=f?f:Br(f,Math.floor(Math.sqrt(f))),ff:f,Cb:e},c,null==d);var g=t(e.ta);f=g.next().value;g=g.next().value;f=yC(a,[f,g],"int32");g=[b];null!=d&&g.push(d);Z(a,e,g,f);return 1===f.shape[1]?f:CC(a,b,c,f)};nC.prototype.Na=function(a,b){Ku("sum",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;c=bs(a,-1,J(c));a=ts(a.dtype,"int32");return this.reduce(c,"sum",a).ra(b)};
nC.prototype.tf=function(a,b){var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;c=bs(a,-1,J(c));a=ts(a.dtype,"int32");return this.reduce(c,"prod",a).ra(b)};nC.prototype.Cf=function(a,b,c){var d=0,e=Lu([d],a.s),f=a;null!=e&&(f=a.Ya(e),d=Nu(1,a.s)[0]);for(var g=f.shape,h=d,k=[],l=g.length,m=0;m<l;m++)m!==h?k.push(g[m]):k.push(c);d=bs(f,-1,J([f.shape[d]]));a=ts(a.dtype,"int32");b=DC(this,d,"unsortedSegmentSum",b,a,c).ra(k);null!=e&&(b=b.Ya(Mu(e)));return b};
var DC=function(a,b,c,d,e,f){var g=b.shape[1];var h=!1;if(30>=g){var k=g;h=!0}else k=Br(g,Math.floor(Math.sqrt(g)));for(;!(h||k>f||k===g);)k=Br(g,k+1);h=k;k=new ZB({Ff:h,ff:g,Cb:b.shape[0],Mk:f});var l=t(k.ta),m=l.next().value;l=l.next().value;m=yC(a,[m,l],e);Z(a,k,[b,d],m);if(m.shape[1]===f)return m;d=St(0,f).ae([g/h]);return DC(a,m,c,d,e,f)};n=nC.prototype;n.Ne=function(a,b){b=[b];Ku("argMin",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return CC(this,a,"min").ra(b)};
n.le=function(a,b){b=[b];Ku("argMax",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return CC(this,a,"max").ra(b)};n.Id=function(a,b,c,d){if(b!==a.s-1)throw Error("Sc`"+(a.s-1)+"`"+b);b=new dA(a.shape,c,d);return Z(this,b,[a])};n.Ic=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(equal(a, b));\n","bool");var c=new sz("return float(a == b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};
n.zd=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(notEqual(a, b));\n","bool");var c=new sz("return float(a != b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};n.Lc=function(a,b){if(xC(this,[a,b]))return this.g.Lc(a,b);if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(lessThan(a, b));\n","bool");var c=new sz("return float(a < b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};
n.xd=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(lessThanEqual(a, b));\n","bool");var c=new sz("return float(a <= b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};n.Ec=function(a,b){if(xC(this,[a,b]))return this.g.Ec(a,b);if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(greaterThan(a, b));\n","bool");var c=new sz("return float(a > b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};
n.wd=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var c=new sz("return float(a >= b);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};n.Td=function(a){return Z(this,new kC(a.shape,"return float(!(x >= 1.0));"),[a])};
n.Sd=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var c=new sz("return float(a >= 1.0 && b >= 1.0);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};
n.kf=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var c=new sz("return float(a >= 1.0 || b >= 1.0);",a.shape,b.shape),d=yC(this,c.ta,"bool");return Z(this,c,[a,b],d)};n.Xi=function(a,b,c){var d=new $B(a.s,b.shape,b.s),e=yC(this,d.ta,ts(b.dtype,c.dtype));return Z(this,d,[a,b,c],e)};
n.de=function(a){Av("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var b=L(a);return zv(a.shape,b)};n.Bf=function(a,b){var c=L(a);return Fu(c,a.shape,a.dtype,b)};n.min=function(a,b){Ku("min",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return this.reduce(a,"min",a.dtype).ra(b)};
n.Ud=function(a,b){if(xC(this,[a,b]))return this.g.Ud(a,b);var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isNaN(a)) + vec4(isNaN(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",a.shape,b.shape):new sz("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return min(a, b);\n",
a.shape,b.shape);return Z(this,c,[a,b],null,c.g())};
n.ue=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",a.shape,b.shape):new sz("if (b == 0.0) return NAN;\n  return mod(a, b);",a.shape,b.shape);return Z(this,c,[a,b],null,c.g())};
n.max=function(a,b){Ku("max",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return this.reduce(a,"max",a.dtype).ra(b)};
n.yd=function(a,b){if(xC(this,[a,b]))return this.g.yd(a,b);var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isNaN(a)) + vec4(isNaN(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",a.shape,b.shape):new sz("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return max(a, b);\n",
a.shape,b.shape);return Z(this,c,[a,b],null,c.g())};n.all=function(a,b){Ku("all",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return this.reduce(a,"all",a.dtype).ra(b)};n.any=function(a,b){Ku("any",b,a.s);var c=t(Iu(a.shape,b));b=c.next().value;c=c.next().value;a=bs(a,-1,J(c));return this.reduce(a,"any",a.dtype).ra(b)};
n.$d=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("return (a - b) * (a - b);",a.shape,b.shape):new sz("return (a - b) * (a - b);",a.shape,b.shape);return Z(this,c,[a,b])};
n.dj=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  result.x = a.x == b.x ? 1. : result.x;\n  result.y = a.y == b.y ? 1. : result.y;\n  result.z = a.z == b.z ? 1. : result.z;\n  result.w = a.w == b.w ? 1. : result.w;\n  return result;\n","float32");var c=new sz("if (a == b) return 1.0;\n  return a / b;",a.shape,b.shape),d=yC(this,c.ta,"float32");return Z(this,c,
[a,b],d)};
n.Ze=function(a,b){if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"\n  vec4 resultSign = sign(a) * sign(b);\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  ivec4 result = ia / ib;\n  ivec4 amodb = ia - ib * result;\n\n  // Vectorize INT_DIV\n  // if (resultSign < 0.0 && amodb != 0) result -= 1;\n  // return float(result);\n  return vec4(result -\n     ivec4(lessThan(resultSign, vec4(0.0))) * ivec4(notEqual(amodb, ivec4(0))));\n","int32");var c=new sz("\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",a.shape,
b.shape),d=yC(this,c.ta,"int32");return Z(this,c,[a,b],d)};n.add=function(a,b){if("complex64"===a.dtype&&"complex64"===b.dtype)return EC(this,a,b,"return a + b;");var c=ts(a.dtype,b.dtype);if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"return a + b;",c);var d=new sz("return a + b;",a.shape,b.shape);c=yC(this,d.ta,c);return Z(this,d,[a,b],c)};
var BC=function(a,b,c,d,e){d=new uz(d,b.shape,c.shape);e=zC(a,d.ta,e);return Z(a,d,[b,c],e)},EC=function(a,b,c,d){var e=a.Ja.get(b.Da),f=a.Ja.get(c.Da);f=t([[e.Jb.nb,f.Jb.nb],[e.Jb.yb,f.Jb.yb]].map(function(h){var k=t(h);h=k.next().value;var l=k.next().value;k=AC(b,h);var m=AC(c,l),p=new sz(d,b.shape,c.shape);h=yC(a,p.ta,ts(h.dtype,l.dtype));return Z(a,p,[k,m],h)}));e=f.next().value;f=f.next().value;var g=a.ac(e,f);e.dispose();f.dispose();return g},AC=function(a,b){return{Da:b.Da,dtype:b.dtype,shape:a.shape}};
n=nC.prototype;n.Wg=function(a){for(var b=a[0],c=1;c<a.length;c++)b=this.add(b,a[c]);return b};n.rh=function(a,b){if("complex64"===a.dtype&&"complex64"===b.dtype)return EC(this,a,b,"return a - b;");if(xC(this,[a,b]))return this.g.rh(a,b);var c=ts(a.dtype,b.dtype);if(K.get("WEBGL_PACK_BINARY_OPERATIONS"))return BC(this,a,b,"return a - b;",a.dtype);var d=new sz("return a - b;",a.shape,b.shape);c=yC(this,d.ta,c);return Z(this,d,[a,b],c)};
n.pow=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS"),d=c?new uz("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
a.shape,b.shape):new sz("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",a.shape,b.shape),e=ts(a.dtype,b.dtype);c=c?zC(this,d.ta,e):yC(this,d.ta,e);return Z(this,d,[a,b],c,d.g())};n.ceil=function(a){return Z(this,new kC(a.shape,"return ceil(x);"),[a])};n.floor=function(a){return Z(this,new kC(a.shape,"return floor(x);"),[a])};
n.sign=function(a){return Z(this,new kC(a.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n"),[a])};
n.round=function(a){return Z(this,new kC(a.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"),[a])};
n.exp=function(a){var b;K.get("WEBGL_PACK")?b=new lC(a.shape,"return exp(x);"):b=new kC(a.shape,"return exp(x);");return Z(this,b,[a])};n.expm1=function(a){return Z(this,new kC(a.shape,"return exp(x) - 1.0;"),[a])};
n.log=function(a){var b;K.get("WEBGL_PACK")?b=new lC(a.shape,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n"):b=new kC(a.shape,"if (x < 0.0) return NAN;\n  return log(x);");return Z(this,b,[a],null,b.g())};
n.log1p=function(a){return Z(this,new kC(a.shape,"return log(1.0 + x);"),[a])};n.sqrt=function(a){return Z(this,new kC(a.shape,"return sqrt(x);"),[a])};n.yf=function(a){return Z(this,new kC(a.shape,"return inversesqrt(x);"),[a])};n.kb=function(a){return Z(this,new kC(a.shape,"return x * x;"),[a])};n.uf=function(a){return Z(this,new kC(a.shape,"return 1.0 / x;"),[a])};
n.hd=function(a){var b;K.get("WEBGL_PACK")?b=new lC(a.shape,"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n\n  result.r = isNaN(x.r) ? x.r : result.r;\n  result.g = isNaN(x.g) ? x.g : result.g;\n  result.b = isNaN(x.b) ? x.b : result.b;\n  result.a = isNaN(x.a) ? x.a : result.a;\n\n  return result;\n"):b=new kC(a.shape,"if (isNaN(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n");return Z(this,b,[a])};
n.sf=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",a.shape,b.shape):new sz("return (a < 0.) ? b * a : a;",a.shape,b.shape);return Z(this,c,[a,b])};n.Ue=function(a){return Z(this,new kC(a.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);"),[a])};
n.oi=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,b.shape):new sz("return (b >= 1.0) ? a : a * (b + 1.0);",a.shape,b.shape);return Z(this,c,[a,b])};
n.zf=function(a){return Z(this,new kC(a.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),[a])};n.Ci=function(a){var b=new kC(a.shape,"return float(int(x));"),c=yC(this,b.ta,"int32");return Z(this,b,[a],c)};
n.Wi=function(a,b,c){var d;K.get("WEBGL_PACK_CLIP")?d=new wz(a.shape):d=new vz(a.shape);return Z(this,d,[a],null,d.g(b,c))};n.abs=function(a){return Z(this,new kC(a.shape,"return abs(x);"),[a])};n.$h=function(a){var b=this.Ja.get(a.Da);return Z(this,new xz(a.shape),[AC(a,b.Jb.nb),AC(a,b.Jb.yb)])};n.Hc=function(a){return Z(this,new kC(a.shape,"return 1.0 / (1.0 + exp(-1.0 * x));"),[a])};
n.ze=function(a){return Z(this,new kC(a.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"),[a])};
n.sin=function(a){return Z(this,new kC(a.shape,"if (isNaN(x)) return x;\n  return sin(x);\n"),[a])};n.cos=function(a){return Z(this,new kC(a.shape,"if (isNaN(x)) return x;\n  return cos(x);\n"),[a])};n.tan=function(a){return Z(this,new kC(a.shape,"return tan(x);"),[a])};n.asin=function(a){return Z(this,new kC(a.shape,"return asin(x);"),[a])};n.acos=function(a){return Z(this,new kC(a.shape,"return acos(x);"),[a])};
n.atan=function(a){return Z(this,new kC(a.shape,"if (isNaN(x)) return x;\n  return atan(x);\n"),[a])};
n.atan2=function(a,b){var c=K.get("WEBGL_PACK_BINARY_OPERATIONS")?new uz("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isNaN(a)) + vec4(isNaN(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",a.shape,b.shape):new sz("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return atan(a, b);\n",a.shape,b.shape);return Z(this,
c,[a,b],null,c.g())};n.sinh=function(a){return Z(this,new kC(a.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"),[a])};n.cosh=function(a){return Z(this,new kC(a.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"),[a])};n.tanh=function(a){return Z(this,new kC(a.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"),[a])};n.asinh=function(a){return Z(this,new kC(a.shape,"return log(x + sqrt(x * x + 1.0));"),[a])};
n.acosh=function(a){var b=new kC(a.shape,"if (isNaN(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return Z(this,b,[a],null,b.g())};n.atanh=function(a){var b=new kC(a.shape,"if (isNaN(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return Z(this,b,[a],null,b.g())};
n.Ve=function(a){return Z(this,new kC(a.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n'),[a])};
n.step=function(a,b){return Z(this,new kC(a.shape,"if (isNaN(x)) return x;"+("\n    return x > 0.0 ? 1.0 : float("+(void 0===b?0:b)+");\n  ")),[a])};
n.oe=function(a,b,c){if(1!==c.Mb||1!==c.Db||1!==c.Ub||1!==c.Yb||1!==c.rb||1!==c.lb||"SAME"!==c.Ia.type&&"VALID"!==c.Ia.type)if(K.get("WEBGL_CONV_IM2COL")&&1===a.shape[0]){var d=c.Gb,e=c.Lb,f=c.Db*c.Mb*c.hb,g=e*d,h=[f,g];a=a.Fg([0]);b=b.ra([1,f,-1]);f=new CB(h,a.shape,c);h=Z(this,f,[a]).ra([1,h[0],h[1]]);g=new GB(h.shape,[1,g,c.Ab],!0,!1);c=Z(this,g,[h,b]).ra([1,e,d,c.Ab])}else c=Z(this,new Fz(c),[a,b]);else e=a.shape,d=this.Ja.get(a.Da),K.get("WEBGL_LAZILY_UNPACK")&&K.get("WEBGL_PACK_BINARY_OPERATIONS")&&
0!==e[2]%2&&d.Nb?(g=Ur([1,e[0]*e[1]*(e[2]+1),c.hb],{Da:a.Da},a.dtype,this),e=d.shape,d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,I(OA(d.shape,g.shape),"packed reshape "+d.shape+" to "+g.shape+" isn't free"),b=this.ra(b,[1,c.hb,c.Ab]),b=this.Pe(g,b,!1,!1),g=this.Ja.get(b.Da),I(g.Nb,"batchMatMul result is expected to be packed"),d.shape=e,g.shape=c.Qb,c=Ur(c.Qb,{Da:b.Da},b.dtype,this)):(d=this.ra(a,[1,e[0]*e[1]*e[2],c.hb]),b=this.ra(b,[1,c.hb,c.Ab]),c=this.ra(this.Pe(d,b,!1,!1),c.Qb));return c};
n.ei=function(a,b,c){return Z(this,new Az(c),[a,b])};n.$g=function(a,b,c){return Z(this,new zz(c),[a,b])};n.fh=function(a,b,c){if(K.get("WEBGL_PACK_DEPTHWISECONV")&&2>=c.lb&&1===c.Ab/c.hb){var d=new Iz(c);return Z(this,d,[a,b],zC(this,c.Qb,a.dtype))}d=new Hz(c);return Z(this,d,[a,b])};n.ki=function(a,b,c){return Z(this,new Ez(c),[a,b])};n.ji=function(a,b,c){return Z(this,new Dz(c),[a,b])};n.ah=function(a,b,c){return Z(this,new Gz(c),[a,b])};n.ii=function(a,b,c){return Z(this,new Cz(c),[a,b])};
n.hi=function(a,b,c){return Z(this,new Bz(c),[a,b])};n.te=function(a,b){b=new PB(b,"max",!1);var c=yC(this,b.ta,a.dtype);return Z(this,b,[a],c)};n.Oe=function(a,b){b=new PB(b,"avg",!1);var c=yC(this,b.ta,"float32");return Z(this,b,[a],c)};n.Ri=function(a,b,c,d){c=new PB(d,"max",!0);c=Z(this,c,[b]);d=new FB(d);b=yC(this,d.ta,b.dtype);a=Z(this,d,[a,c],b);c.dispose();return a};n.Vh=function(a,b,c){c=new oz(c);b=yC(this,c.ta,b.dtype);return Z(this,c,[a],b)};n.Ib=function(a,b){return zu(a,b,this)};
n.Df=function(a,b){for(var c=a.shape[b],d=Array(a.s-1),e=0,f=0;f<a.s;f++)f!==b&&(d[e++]=a.shape[f]);e=Array(a.s).fill(0);f=a.shape.slice();f[b]=1;c=Array(c);for(var g=0;g<c.length;g++)e[b]=g,c[g]=this.slice(a,e,f).ra(d);return c};n.ra=function(a,b){var c=this.Ja.get(a.Da);return!c.Nb||OA(a.shape,b)||null!==c.jc&&OA(c.shape,b)?Au(a,b):FC(this,a,b)};n.vf=function(a,b,c,d){b=new UB(a.shape,b,c,d);return Z(this,b,[a])};n.ej=function(a,b,c){b=new TB(a,b,c);return Z(this,b,[a])};
n.xf=function(a,b,c,d){b=new WB(a.shape,b,c,d);return Z(this,b,[a])};n.fj=function(a,b,c){b=new VB(a,b,c);return Z(this,b,[a])};n.wh=function(a,b,c,d){a=b?a:$y(a);c=new HB(a.shape[0],a.shape[1],c);b=yC(this,c.ta,"int32");return Z(this,c,[a],b,IB(c,d))};n.we=function(a,b,c,d){return Z(this,new JB(a.size,b,c,d),[a])};n.xh=function(a,b,c,d,e){Av("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");a=L(a);b=L(b);return Cu(a,b,c,d,e)};
n.eh=function(a,b,c,d,e,f){d=new Jz(a.shape,b.shape,d,e,f);return Z(this,d,[a,b,c])};n.Qe=function(a,b,c){I(1<b,"blockSize should be > 1 for depthToSpace, but was: "+b);var d=a.shape[0],e=("NHWC"===c?a.shape[1]:a.shape[2])*b,f=("NHWC"===c?a.shape[2]:a.shape[3])*b,g=("NHWC"===c?a.shape[3]:a.shape[1])/(b*b);return Z(this,new eA("NHWC"===c?[d,e,f,g]:[d,g,e,f],b,c),[a])};n.split=function(a,b,c){return Eu(a,b,c)};
n.Gh=function(a,b,c){var d=Iy(a,c),e=d.Bg,f=d.sg,g=d.Cg,h=d.Aa,k=d.ug;d=[k/g,g];a=a.ra([f,e]);b=b.ra([f,g]);if(0===k)return Au(Mt([]),c);g=Nt(0);e=new YB(f,e,a.s,b.s,h,d);return Z(this,e,[b,a,g]).ra(c)};n.Ih=function(a,b,c,d){var e=Iy(a,c);e=new YB(e.sg,e.Bg,a.s,b.s,e.Aa,[e.ug,1]);return Z(this,e,[b,a,d]).ra(c)};n.ud=function(a){return GC(this,a,!1)};n.Yc=function(a){return GC(this,a,!0)};
var GC=function(a,b,c){var d=a.Ja.get(b.Da),e=new gA("return real * expI + imag * expR;",b.shape,c);d=[AC(b,d.Jb.nb),AC(b,d.Jb.yb)];c=Z(a,new gA("return real * expR - imag * expI;",b.shape,c),d);e=Z(a,e,d);a=bs(a.ac(c,e),b.shape[0],b.shape[1]);c.dispose();e.dispose();return a};nC.prototype.kh=function(a,b){var c=b.shape,d=c[c.length-1],e=t(Jv(a,b));c=e.next().value;var f=e.next().value,g=e.next().value;e=e.next().value;b=b.ra([f,d]);a=a.ra([a.size/g,g]);d=new jA(d,e,[f,g]);return Z(this,d,[a,b]).ra(c)};
var yC=function(a,b,c){return Ur(b,{},c,a)},zC=function(a,b,c){b=Ur(b,{},c,a);a.Ja.get(b.Da).Nb=!0;return b},HC=function(a,b){var c=new mC(b.shape);return Z(a,c,[b],Ur(c.ta,{},b.dtype,a))},FC=function(a,b,c){b=b.ra([LA(b.shape)].concat(la(MA(b.shape))));var d=[LA(c)].concat(la(MA(c)));d=new SB(d,b.shape);return Z(a,d,[b]).ra(c)},Z=function(a,b,c,d,e,f){f=void 0===f?!0:f;null==d&&(d=b.hc?zC(a,b.ta,c[0].dtype):yC(a,b.ta,c[0].dtype));if(0===d.size)return a.Ja.get(d.Da).values=tr(d.dtype,0),d;var g=c.map(function(m){if("complex64"===
m.dtype)throw Error("Tc");var p=a.Ja.get(m.Da);if(null==p.jc){if(!b.hc&&J(m.shape)<=K.get("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:m.shape,Ja:null,Pb:!0,qj:a.mf(m.Da)};b.hc&&(p.Nb=!0,p.shape=m.shape)}else if(!!p.Nb!==!!b.hc)p.Nb?m=HC(a,m):(p=new MB(m.shape),m=Z(a,p,[m],zC(a,m.shape,m.dtype))),p=a.Ja.get(m.Da);else if(p.Nb&&!OA(p.shape,m.shape)){var q=m,r=m.shape;m.shape=p.shape;m=FC(a,m,r);p=a.Ja.get(m.Da);q.shape=r}pC(a,m.Da);return{shape:m.shape,Ja:p,Pb:!1}});pC(a,d.Da);var h={shape:d.shape,Ja:a.Ja.get(d.Da),
Pb:!1};c=BB(b,g,h);var k=IC(a,c,function(){return yB(a.tb,b,g,h)});c=null!=a.i;var l;c&&(l=tC(a));AB(k,g,h,e);e=1024*K.get("WEBGL_NUM_MB_BEFORE_PAGING");if(f&&a.j>e)for(f=a.j-e;0<f&&0<a.o.length;)e=a.o.shift(),k=a.Ja.get(e),f-=JC(k.ab,k.dtype),a.qg(e);c&&(l=uC(a,l),a.i.push({name:b.constructor.name,query:vC(a,l)}));return K.get("WEBGL_LAZILY_UNPACK")||!a.Ja.get(d.Da).Nb||b.Gi?d:HC(a,d)},IC=function(a,b,c){b in a.v||(a.v[b]=c());return a.v[b]};
nC.prototype.dispose=function(){if(!this.Ka){for(var a in this.v)nB(this.tb,this.v[a].Nh);this.R.dispose();this.S.remove();null!=this.H&&this.H.canvas.remove();this.tb.dispose();this.Ka=!0}};nC.prototype.jh=function(){var a=this;return Xs(function(){var b=K.get("DEBUG");K.set("DEBUG",!1);var c=L(a.abs(Nt(1E-8)))[0];K.set("DEBUG",b);return 0<c?32:16})};
var pC=function(a,b){var c=a.Ja.get(b),d=c.shape,e=c.dtype,f=c.values,g=c.usage,h=c.Nb;if(null!=c.jc)K.get("WEBGL_NUM_MB_BEFORE_PAGING")<Number.POSITIVE_INFINITY&&0<=a.o.indexOf(b)&&(a.o.splice(a.o.indexOf(b),1),a.o.push(b));else{var k=null!=a.i,l;k&&(l=performance.now());var m=NA(d,h);c.ab=m;K.get("WEBGL_NUM_MB_BEFORE_PAGING")<Number.POSITIVE_INFINITY&&a.o.push(b);a.j+=JC(m,e);var p=a.R,q=gC(g,h),r=m[0]+"_"+m[1]+"_"+q+"_"+h;r in p.g||(p.g[r]=[]);r in p.i||(p.i[r]=[]);if(0<p.g[r].length){p.H--;p.o++;
p.log();var u=p.g[r].shift();p.i[r].push(u);var x=u}else{p.o++;p.log();if(3===q){var v=p.tb,y=m[0],C=m[1];v.V();var D=v.g,F=v.i,H=t(lA(y,C)),O=H.next().value,N=H.next().value;var R=QA(D,O,N,F.Bk,D.RGBA,D.FLOAT)}else if(4===q){var S=p.tb,W=m[0],X=m[1];S.V();var T=S.g,aa=S.i,ka=t(lA(W,X)),za=ka.next().value,qa=ka.next().value;R=QA(T,za,qa,aa.Ck,T.RGBA,aa.nj)}else if(1===q){var Ua=p.tb,Ia=m[0],Ma=m[1];Ua.V();var pb=Ua.g,ab=Ua.i,Ib=t([Ma,Ia]),cb=Ib.next().value,Jb=Ib.next().value;R=QA(pb,cb,Jb,ab.zk,
ab.Lh,pb.FLOAT)}else if(0===q){var Nb=p.tb,qb=m[0],Og=m[1];Nb.V();var Gd=Nb.g,cc=Nb.i,rf=t([Og,qb]),Pg=rf.next().value,ed=rf.next().value;R=QA(Gd,Pg,ed,cc.Ak,cc.Lh,cc.nj)}else if(2===q){var fd=p.tb,Qg=m[0],nc=m[1];fd.V();var sf=fd.g,je=t([nc,Qg]),nm=je.next().value,om=je.next().value;R=QA(sf,nm,om,sf.RGBA,sf.RGBA,sf.UNSIGNED_BYTE)}p.i[r].push(R);x=R}c.jc=x;if(null!=f){if(h){var tf=LA(d),pt=1,qt=1;if(d.length){var rt=t(MA(d));pt=rt.next().value;qt=rt.next().value}var st=a.tb,Bf=pt,oc=qt,tt=m[0],ut=
m[1],id=f instanceof Float32Array?f:new Float32Array(f);st.V();for(var vt=st.g,jE=x,wt=t(lA(tt,ut)),kE=wt.next().value,lE=wt.next().value,Oc=new Float32Array(mA(tt,ut)),Am=1===oc%2,xt=1===Bf%2,yt=Math.floor(oc/2),zt=Math.floor(Bf/2),aj=Math.ceil(oc/2),mE=aj*Math.ceil(Bf/2),At=fr(Bf)*fr(oc),bj=0;bj<tf;bj++){for(var Bm=bj*Bf*oc,cj=bj*At,nE=Am?4:0,Bt=oc,Cf=cj,Cm=0;Cm<zt;++Cm){for(var oE=2*Cm*oc,Dm=0;Dm<yt;++Dm){var dj=Bm+oE+2*Dm;Oc[Cf]=id[dj];Oc[Cf+1]=id[dj+1];Oc[Cf+2]=id[dj+Bt];Oc[Cf+3]=id[dj+Bt+1];
Cf+=4}Cf+=nE}if(Am)for(var Em=Bm+oc-1,Fm=cj+4*(aj-1),pE=2*oc,qE=4*aj,Ct=0;Ct<zt;++Ct)Oc[Fm]=id[Em],Oc[Fm+2]=id[Em+oc],Em+=pE,Fm+=qE;if(xt){for(var Gm=Bm+(Bf-1)*oc,Hm=cj+4*(mE-aj),Dt=0;Dt<yt;++Dt)Oc[Hm++]=id[Gm++],Oc[Hm++]=id[Gm++],Hm+=2;Am&&xt&&(Oc[cj+At-4]=id[Gm])}}TA(vt,jE,kE,lE,Oc,vt.RGBA)}else{var Im=a.tb,Et=m[0],Ft=m[1],Ug=f instanceof Float32Array?f:new Float32Array(f);Im.V();var Jm=2===K.get("WEBGL_VERSION")?1:4,rE=Im.g,sE=x,Gt=Im.i,Ht=t([Ft,Et]),tE=Ht.next().value,uE=Ht.next().value,It=Et*
Ft;if(1===Gt.rk&&It===Ug.length)var Jt=Ug;else{var Km=Jt=new Float32Array(It*Jm),Kt=Ug.length*Jm;if(Km.length<Kt)throw Error("kc`"+Km.length+"`"+Kt);for(var Lt=0,Lm=0;Lm<Ug.length;++Lm)Km[Lt]=Ug[Lm],Lt+=Jm}TA(rE,sE,tE,uE,Jt,Gt.Lh)}c.values=null;k&&(a.Ef+=performance.now()-l)}}},rC=function(a,b,c){var d=a.Ja.get(b),e=d.jc,f=d.ab,g=d.dtype,h=d.usage,k=d.Nb;null!=e&&(qC(a,b,e,f,h,g,k),d.jc=null,d.ab=null,d.Nb=!1);d.usage=1;if(null!=c){if("float32"!==g&&"complex64"!==g)if("int32"===g||"bool"===g){a="int32"===
g?new Int32Array(c.length):new Uint8Array(c.length);for(b=0;b<a.length;++b)a[b]=Math.round(c[b]);c=a}else throw Error("z`"+g);d.values=c}return d.values},qC=function(a,b,c,d,e,f,g){K.get("WEBGL_NUM_MB_BEFORE_PAGING")<Number.POSITIVE_INFINITY&&(b=a.o.indexOf(b),0<=b&&a.o.splice(b,1));a.j-=JC(d,f);a=a.R;if(null!=a.g){e=gC(e,g);d=d[0]+"_"+d[1]+"_"+e+"_"+g;d in a.g||(a.g[d]=[]);a.g[d].push(c);a.H++;a.o--;d=a.i[d];c=d.indexOf(c);if(0>c)throw Error("Gc");d.splice(c,1);a.log()}},JC=function(a,b){return a[0]*
a[1]*wr(b)};K.get("IS_BROWSER")&&bt("webgl",function(){return new nC},2);Q({Mm:function(a,b,c){a=U(a,"labels","confusionMatrix");b=U(b,"predictions","confusionMatrix");I(null==c||0<c&&Number.isInteger(c),"If provided, numClasses must be a positive integer, but got "+c);I(1===a.s,"Expected the rank of labels to be 1, but got "+a.s);I(1===b.s,"Expected the rank of predictions to be 1, but got "+b.s);I(a.shape[0]===b.shape[0],"Mismatch in the number of examples: "+(a.shape[0]+" vs. "+b.shape[0]+". ")+"Labels and predictions should have the same number of elements.");I(0<
c&&Number.isInteger(c),"numClasses is required to be a positive integer, but got "+c);a=lv(fs(a,"int32"),c);c=lv(fs(b,"int32"),c);return fs(a.Ya().Xa(c),"int32")}});var KC=function(){};KC.Jc=function(a,b){return new a(b)};var LC=function(){this.g={}},MC;function NC(a){I(null!=a.className,"Class being registered does not have the static className property defined.");I("string"===typeof a.className,"className is required to be a string, but got type "+typeof a.className);I(0<a.className.length,"Class being registered has an empty-string as its className, which is disallowed.");null==MC&&(MC=new LC);MC.g[a.className]=[a,a.Jc]};var OC=function(){};w(OC,KC);OC.Jc=KC.Jc;OC.prototype.S=function(a,b,c){b=void 0===b?!1:b;a=this.R(a,c);c=a.value;var d=a.oh;this.o(d);Object.keys(d).forEach(function(e){return d[e].dispose()});if(b)return c;c.dispose();return null};OC.prototype.R=function(a,b){return ft(a,b)};ea();Object.defineProperty(OC,Symbol.g,{value:function(a){return null!=a.S&&null!=a.R&&null!=a.o}});var PC=function(a,b,c){c=void 0===c?null:c;this.i={};this.g={};this.c=Ds(V.Wa(-a));this.U=Ds(V.Wa(b));this.j=Ds(V.Wa(1-b));null===c&&(c=K.get("EPSILON"));this.H=Ds(V.Wa(c))};w(PC,OC);
PC.prototype.o=function(a){var b=this,c={},d;for(d in a)c.wc=d,c.he=K.g.g[c.wc],null==this.i[c.wc]&&(c.Og=!1,Xs(function(e){return function(){b.i[e.wc]=os(V.sc(e.he),e.Og)}}(c))),null==this.g[c.wc]&&(c.Lg=!1,Xs(function(e){return function(){b.g[e.wc]=os(V.sc(e.he),e.Lg)}}(c))),c.Of=a[c.wc],c.If=this.i[c.wc],c.Lf=this.g[c.wc],Xs(function(e){return function(){var f=b.U.ka(e.If).add(b.j.ka(e.Of.kb())),g=e.Lf.add(b.H).sqrt().Va(e.If.add(b.H).sqrt()).ka(e.Of),h=b.U.ka(e.Lf).add(b.j.ka(g.kb()));b.i[e.wc].assign(f);
b.g[e.wc].assign(h);f=b.c.ka(g).add(e.he);e.he.assign(f)}}(c)),c={wc:c.wc,he:c.he,Og:c.Og,Lg:c.Lg,If:c.If,Of:c.Of,Lf:c.Lf}};PC.prototype.dispose=function(){var a=this;this.c.dispose();this.H.dispose();this.U.dispose();this.j.dispose();null!=this.g&&(Object.keys(this.g).forEach(function(b){return a.g[b].dispose()}),Object.keys(this.i).forEach(function(b){return a.i[b].dispose()}))};PC.Jc=function(a,b){return new a(b.learningRate,b.rho,b.epsilon)};PC.className="AdadeltaOptimizer";NC(PC);var QC=function(a,b){this.H=void 0===b?.1:b;this.g={};this.c=Ds(V.Wa(-a));this.i=Ds(V.Wa(K.get("EPSILON")))};w(QC,OC);
QC.prototype.o=function(a){var b=this,c={},d;for(d in a)c.ld=d,c.Ke=K.g.g[c.ld],null==this.g[c.ld]&&(c.Pg=!1,Xs(function(e){return function(){b.g[e.ld]=os(V.fill(e.Ke.shape,b.H),e.Pg)}}(c))),c.Pf=a[c.ld],c.Ig=this.g[c.ld],Xs(function(e){return function(){var f=e.Ig.add(e.Pf.kb());b.g[e.ld].assign(f);f=b.c.ka(e.Pf.Va(f.add(b.i).sqrt())).add(e.Ke);e.Ke.assign(f)}}(c)),c={ld:c.ld,Ke:c.Ke,Pg:c.Pg,Ig:c.Ig,Pf:c.Pf}};
QC.prototype.dispose=function(){var a=this;this.i.dispose();this.c.dispose();null!=this.g&&Object.keys(this.g).forEach(function(b){return a.g[b].dispose()})};QC.Jc=function(a,b){return new a(b.learningRate,b.initialAccumulatorValue)};QC.className="AdagradOptimizer";NC(QC);var RC=function(a,b,c,d){d=void 0===d?null:d;var e=this;this.i={};this.g={};this.c=Ds(V.Wa(-a));this.U=Ds(V.Wa(b));this.v=Ds(V.Wa(c));Xs(function(){e.j=os(V.Wa(b));e.H=os(V.Wa(c))});this.Ka=Ds(V.Wa(1-b));this.Qa=Ds(V.Wa(1-c));this.T=Ds(V.Wa(1));null===d&&(d=K.get("EPSILON"));this.Ca=Ds(V.Wa(d))};w(RC,OC);
RC.prototype.o=function(a){var b=this;Xs(function(){var c=b.T.sub(b.j),d=b.T.sub(b.H),e;for(e in a){var f=K.g.g[e];null==b.i[e]&&(b.i[e]=os(V.sc(f),!1));null==b.g[e]&&(b.g[e]=os(V.sc(f),!1));var g=a[e],h=b.g[e],k=b.U.ka(b.i[e]).add(b.Ka.ka(g));g=b.v.ka(h).add(b.Qa.ka(g.kb()));h=k.Va(c);var l=g.Va(d);b.i[e].assign(k);b.g[e].assign(g);k=b.c.ka(h.Va(b.Ca.add(l.sqrt()))).add(f);f.assign(k)}b.j.assign(b.j.ka(b.U));b.H.assign(b.H.ka(b.v))})};
RC.prototype.dispose=function(){var a=this;this.c.dispose();this.Ca.dispose();this.U.dispose();this.v.dispose();this.j.dispose();this.H.dispose();this.Ka.dispose();this.Qa.dispose();this.T.dispose();null!=this.i&&Object.keys(this.i).forEach(function(b){return a.i[b].dispose()});null!=this.g&&Object.keys(this.g).forEach(function(b){return a.g[b].dispose()})};RC.Jc=function(a,b){return new a(b.learningRate,b.beta1,b.beta2,b.epsilon)};RC.className="AdamOptimizer";NC(RC);var SC=function(a,b,c,d,e){d=void 0===d?null:d;e=void 0===e?0:e;var f=this;this.i={};this.g={};this.c=Ds(V.Wa(-a));this.v=Ds(V.Wa(b));this.T=Ds(V.Wa(c));this.Ca=Ds(V.Wa(e));Xs(function(){f.H=os(V.Wa(0));f.j=os(V.Wa(b))});this.Qa=Ds(V.Wa(1-b));this.U=Ds(V.Wa(1));null===d&&(d=K.get("EPSILON"));this.Ka=Ds(V.Wa(d))};w(SC,OC);
SC.prototype.o=function(a){var b=this;Xs(function(){var c=b.U.sub(b.j),d=b.c.Va(b.U.add(b.Ca.ka(b.H))),e;for(e in a){var f=K.g.g[e];null==b.i[e]&&(b.i[e]=os(V.sc(f),!1));null==b.g[e]&&(b.g[e]=os(V.sc(f),!1));var g=a[e],h=b.g[e],k=b.v.ka(b.i[e]).add(b.Qa.ka(g));h=b.T.ka(h);g=g.abs();g=h.yd(g);b.i[e].assign(k);b.g[e].assign(g);k=d.Va(c).ka(k.Va(b.Ka.add(g))).add(f);f.assign(k)}b.H.assign(b.H.add(b.U));b.j.assign(b.j.ka(b.v))})};
SC.prototype.dispose=function(){var a=this;this.c.dispose();this.Ka.dispose();this.j.dispose();this.v.dispose();this.T.dispose();this.Qa.dispose();this.Ca.dispose();this.H.dispose();this.U.dispose();null!=this.i&&Object.keys(this.i).forEach(function(b){return a.i[b].dispose()});null!=this.g&&Object.keys(this.g).forEach(function(b){return a.g[b].dispose()})};SC.Jc=function(a,b){return new a(b.learningRate,b.beta1,b.beta2,b.epsilon,b.decay)};SC.className="AdamaxOptimizer";NC(SC);var UC=function(a){TC(this,a)};w(UC,OC);UC.prototype.o=function(a){var b=this;Object.keys(a).forEach(function(c){var d=a[c],e=K.g.g[c];Xs(function(){var f=b.c.ka(d).add(e);e.assign(f)})})};var TC=function(a,b){null!=a.c&&a.c.dispose();a.c=Ds(V.Wa(-b))};UC.prototype.dispose=function(){this.c.dispose()};UC.Jc=function(a,b){return new a(b.learningRate)};UC.className="SGDOptimizer";NC(UC);var VC=function(a,b,c){c=void 0===c?!1:c;TC(this,a);this.i=b;this.H=c;this.m=V.Wa(this.i);this.g={}};w(VC,UC);
VC.prototype.o=function(a){var b=this,c={},d;for(d in a)c.md=d,c.ie=K.g.g[c.md],null==this.g[c.md]&&(c.Qg=!1,Xs(function(e){return function(){b.g[e.md]=os(V.sc(e.ie),e.Qg)}}(c))),c.Kg=this.g[c.md],c.Qf=a[c.md],Xs(function(e){return function(){var f=b.m.ka(e.Kg).add(e.Qf);var g=b.H?b.c.ka(e.Qf.add(f.ka(b.m))).add(e.ie):b.c.ka(f).add(e.ie);b.g[e.md].assign(f);e.ie.assign(g)}}(c)),c={md:c.md,ie:c.ie,Qg:c.Qg,Kg:c.Kg,Qf:c.Qf}};
VC.prototype.dispose=function(){UC.prototype.dispose.call(this);this.m.dispose();if(null!=this.g)for(var a in this.g)this.g[a].dispose()};VC.Jc=function(a,b){return new a(b.learningRate,b.momentum,b.useNesterov)};VC.className="MomentumOptimizer";NC(VC);var WC=function(a,b,c,d,e){b=void 0===b?.9:b;c=void 0===c?0:c;d=void 0===d?null:d;e=void 0===e?!1:e;this.g={};this.H={};this.i={};this.c=Ds(V.Wa(a));this.j=Ds(V.Wa(b));this.Ca=Ds(V.Wa(c));this.U=Ds(V.Wa(1-b));this.v=e;null===d&&(d=K.get("EPSILON"));this.T=Ds(V.Wa(d))};w(WC,OC);
WC.prototype.o=function(a){var b=this,c={},d;for(d in a)c.Sb=d,c.Pc=K.g.g[c.Sb],null==this.g[c.Sb]&&(c.Rg=!1,Xs(function(e){return function(){b.g[e.Sb]=os(V.sc(e.Pc),e.Rg)}}(c))),null==this.H[c.Sb]&&this.v&&(c.Mg=!1,Xs(function(e){return function(){b.H[e.Sb]=os(V.sc(e.Pc),e.Mg)}}(c))),null==this.i[c.Sb]&&(c.Ng=!1,Xs(function(e){return function(){b.i[e.Sb]=os(V.sc(e.Pc),e.Ng)}}(c))),c.Jf=this.g[c.Sb],c.Jg=this.H[c.Sb],c.Kf=this.i[c.Sb],c.Ed=a[c.Sb],Xs(function(e){return function(){var f=b.j.ka(e.Jf).add(b.U.ka(e.Ed.kb()));
if(b.v){var g=b.j.ka(e.Jg).add(b.U.ka(e.Ed)),h=b.Ca.ka(e.Kf).add(b.c.ka(e.Ed).Va(f.sub(g.kb().add(b.T)).sqrt()));b.g[e.Sb].assign(f);b.H[e.Sb].assign(g);b.i[e.Sb].assign(h);f=e.Pc.sub(h);e.Pc.assign(f)}else f=b.j.ka(e.Jf).add(b.U.ka(e.Ed.kb())),g=b.Ca.ka(e.Kf).add(b.c.ka(e.Ed).Va(f.add(b.T).sqrt())),b.g[e.Sb].assign(f),b.i[e.Sb].assign(g),f=e.Pc.sub(g),e.Pc.assign(f)}}(c)),c={Sb:c.Sb,Pc:c.Pc,Rg:c.Rg,Mg:c.Mg,Ng:c.Ng,Jf:c.Jf,Ed:c.Ed,Jg:c.Jg,Kf:c.Kf}};
WC.prototype.dispose=function(){var a=this;this.c.dispose();this.T.dispose();this.j.dispose();this.Ca.dispose();this.U.dispose();null!=this.g&&Object.keys(this.g).forEach(function(b){return a.g[b].dispose()});null!=this.H&&this.v&&Object.keys(this.H).forEach(function(b){return a.H[b].dispose()});null!=this.i&&Object.keys(this.i).forEach(function(b){return a.i[b].dispose()})};WC.Jc=function(a,b){return new a(b.learningRate,b.decay,b.momentum,b.epsilon,b.centered)};WC.className="RMSPropOptimizer";NC(WC);[VC,UC,PC,QC,WC,SC,RC];/*
 See the LICENSE file. */
var XC=V.Tf,YC=V.concat,ZC=V.split,$C=V.oe,aD=V.li,bD=V.Hh,cD=V.Xa,dD=V.te,eD=V.add,fD=V.pow,gD=V.de,hD=V.Ib,iD=V.Id,jD=V.we,kD=V.Rk,lD=V.Fg,mD=V.ae,nD=V.Wa,oD=V.Cd,pD=V.vc,qD=V.sc;M=V;var rD=function(a){this.g=a;"/"!==this.g.charAt(this.g.length-1)&&(this.g+="/")},tD=function(a){var b;return Ga(function(c){return 1==c.g?wa(c,sD(a,"weights_manifest.json"),2):3!=c.g?(b=c.i,wa(c,du(b,a.g),3)):c.return(c.i)})},uD=function(a){var b,c,d,e,f,g,h,k;return Ga(function(l){if(1==l.g)return wa(l,sD(a,"weights_manifest.json"),2);b=l.i;c={};d=t(b);for(e=d.next();!e.done;e=d.next())for(f=e.value,g=t(f.weights),h=g.next();!h.done;h=g.next())k=h.value,c[k.name]=kD(k.shape,0,1,k.dtype);return l.return(c)})},
sD=function(a,b){var c=new XMLHttpRequest;c.open("GET",a.g+b);c.send();return new Promise(function(d,e){c.onreadystatechange=function(){4==c.readyState&&(200==c.status?d(JSON.parse(c.responseText)):e(Error("Uc`"+b+"`"+a.g)))}})};var vD=function(a){this.o=this.g=null;this.H=-1;this.j=new rD(a);this.i=null};vD.prototype.load=function(){var a=this,b,c,d;return Ga(function(e){switch(e.g){case 1:return b=a,wa(e,tD(a.j),2);case 2:return b.i=e.i,e.U=3,c=a,d=wD,wa(e,sD(a.j,"params.json"),5);case 5:c.g=d(e.i);e.g=4;e.U=0;break;case 3:e.U=0,e.H=null,a.g=xD;case 4:return yD(a),e.return(a)}})};
var yD=function(a){a.g.Fc=[];a.g.Fc.push({filters:[3,3,2*a.g.rg,a.g.Ad]});for(var b=0;b<a.g.zh-3;b++)a.g.Fc.push({filters:[3,3,a.g.Ad,a.g.Ad],Kd:a.g.Kd?a.g.Kd[b]:null});a.g.Fc.push({filters:[2,2,a.g.Ad,a.g.Ad]});a.g.Fc.push({filters:[2,2,a.g.Ad,a.g.rg],kk:"identity"})},CD=function(a,b,c){return Xs(function(){var d=b,e=c;d=nD(1,"float32").sub(e).ka(d);e=nD(1,"float32").sub(e);var f=d.concat(e,3);d=a.g.Fc.length;for(e=0;e<d;e++){a.H+=1;1==a.H%2&&(a.o=f);var g=null;a.g.fg&&0<e&&e<d-2&&0==e%(a.g.fg+1)&&
(g=a.g.Ah);var h=f,k=a.g.Fc[e];f=e;if(null==k.filters)f=h;else{var l=k.filters,m=k.nk||1,p=k.dh?k.dh.toLowerCase():"same";if(e>=a.g.Bh){var q=zD(a,"depthwise_weights",f);if(g){h=aD(h,q,[m,m],p,"NHWC",k.Kd);k=ZC(h,g,h.s-1);m=[];for(p=0;p<g;p++){q=l[3]/g;var r=a.i["model/conv"+f+"/split_"+f+"_"+p+"/kernel"],u=a.i["model/conv"+f+"/split_"+f+"_"+p+"/bias"];r=cD(k[p].ra([-1,q]),r,!1,!1);u=eD(r,u);m.push(u.ra([k[p].shape[0],k[p].shape[1],k[p].shape[2],q]))}h=YC(m,h.s-1)}else g=zD(a,"biases",f),h=bD(h,q,
zD(a,"pointwise_weights",f),[m,m],p,k.Kd,"NHWC").add(g)}else g=k.nk||1,h=$C(h,AD(a,"weights",f),[g,g],k.dh?k.dh.toLowerCase():"same","NHWC",[1,1]);f=BD(a,h,f)}g=0==e;l=e==d-1;null!=a.o&&(a.o.shape[a.o.shape.length-1]!=f.shape[f.shape.length-1]?(g=a,g.o=null,g.H=0):0==a.H%2&&(g||l||(f=f.add(a.o))));f="identity"==a.g.Fc[e].kk?f:f.hd();g=a.g.Fc[e];null!=g.Qk&&(l=g.Qk,f=dD(f,[l[0],l[1]],[l[0],l[1]],g.Pk?g.Pk.toLowerCase():"same"))}d=f;return a.g.Mh?d.Ya([0,1,3,2]).Dg().Ya([0,1,3,2]):d.Hc()})},AD=function(a,
b,c){return a.i["model/conv"+c+"/"+b]},zD=function(a,b,c){return a.i["model/conv"+c+"/SeparableConv2d/"+b]},BD=function(a,b,c){var d=AD(a,"gamma",c),e=AD(a,"beta",c),f=AD(a,"popmean",c);c=AD(a,"popvariance",c);return gc?(c=oD(L(c).map(function(g){return Math.sqrt(g+a.g.Uf)})),b.sub(f).ka(d.Va(c)).add(e)):XC(b,lD(f),lD(c),lD(e),lD(d),a.g.Uf)},xD={Mh:!0,Uf:1E-7,rg:4,Ad:128,zh:64,Bh:0,Ch:64,Kd:null,Fc:[],fg:null,Ah:null},wD=function(a){return{Mh:a.useSoftmaxLoss,Uf:a.batchNormVarianceEpsilon,rg:a.numInstruments,
Ad:a.numFilters,zh:a.numLayers,Bh:a.numRegularConvLayers,Ch:a.numSteps||64,Kd:a.dilation,Fc:[],fg:a.interleaveSplitEveryNLayers,Ah:a.numPointwiseSplits}};var DD={Ga:["i","n"],ta:[],Gi:!1,hc:!1,Ha:"\n    void main() {\n      float pmin = 0.1;\n      float pmax = 0.9;\n      float alpha = 0.7;\n      float wat = ((pmax - pmin) * i) / n;\n      float secondArg = (pmax - wat) / alpha;\n\n      setOutput(max(secondArg, pmin));\n    }\n  "},ED=function(a){this.o=a;this.g=!1;this.i=0;this.H=128};ED.prototype.cancel=function(){this.g=!0};
var GD=function(a,b,c,d){var e,f,g;return Ga(function(h){switch(h.g){case 1:e=null,d?e=nD(d,"float32"):(e=c.max(2).Na([1,2]).max(),d=L(e)[0]),a.H=d,f=b.clone(),g=0;case 2:if(!(g<d)){h.g=4;break}return a.g?(a.g=!1,h.return(Promise.reject("Harmonization cancelled."))):wa(h,FD(a,g,f,c,d),5);case 5:f=h.i;g++;h.g=2;break;case 4:return h.return(f)}})},FD=function(a,b,c,d,e){var f;return Ga(function(g){return 1==g.g?(f=Xs(function(){var h=HD(b,e);h=ID(c.shape,h,d);var k=CD(a.o,c,h);k=JD(k);h=gD(hD(h,"bool"),
k,c);c.dispose();return h}),wa(g,er(),2)):g.return(f)})},ID=function(a,b,c){return Xs(function(){var d=t(a),e=d.next().value,f=d.next().value,g=d.next().value;d=d.next().value;e=mD(kD([e,f,1,d],0,1,"float32"),[1,1,g,1]).Lc(b);return hD(e,"float32").ka(c)})},JD=function(a){return Xs(function(){a=fD(a,nD(1/.99,"float32"));var b=iD(a,2,!1,!1),c=b.slice([0,0,b.shape[2]-1,0],[b.shape[0],b.shape[1],1,b.shape[3]]);b=kD(c.shape,0,1,"float32").ka(c).Lc(b).le(2);return jD(b.flatten(),a.shape[2],1,0).ra([a.shape[0],
a.shape[1],a.shape[3],a.shape[2]]).Ya([0,1,3,2])})},HD=function(a,b){var c=K.Bb;return Xs(function(){return Z(c,DD,[nD(a,"float32"),nD(b,"float32")])})};var KD=function(a){var b,c,d,e,f,g;return Ga(function(h){if(1==h.g)return b=performance.now(),c=kD([1,32,46,4],0,1,"float32"),d=c.Na(2,!0).Ic(nD(0,"float32")),e=hD(d,"float32").add(qD(c)),wa(h,CD(a,c,e),2);f=h.i;L(f);g=performance.now()-b;return h.return(g)})},LD=function(){var a=ad(),b=kD([16,16],0,1,"float32"),c=kD([16,16],0,1,"float32");b=b.hh(c);L(b);return 3E3>ad()-a};var MD=function(a){vD.apply(this,arguments)};w(MD,vD);MD.prototype.load=function(){var a=this,b;return Ga(function(c){if(1==c.g)return wa(c,uD(a.j),2);b=c.i;a.i=b;a.g=ND;yD(a);return c.return(a)})};var ND={Mh:!0,Uf:1E-7,rg:4,Ad:128,zh:4,Bh:0,Ch:64,Kd:[[1,1]],Fc:[],fg:16,Ah:4};function OD(a){a=a.slice(0);a.sort(function(b,c){var d=oi(b);var e=oi(c);return(d=d==e?0:null==d?-1:null==e?1:Yh(d,2)-Yh(e,2))?d:Yh(b,1)-Yh(c,1)});return a}var PD=function(a){a=OD(a);for(var b=[gi(a[0])],c=0,d=1;d<a.length;d++){var e=Yh(b[c],1)+Yh(b[c],2),f=b[c],g=oi(a[d]);f=oi(f);(g==f||null!=g&&null!=f&&mi(g)==mi(f)&&Yh(g,2)==Yh(f,2))&&Yh(a[d],1)==e&&0!=Yh(a[d],1)%16?(e=Yh(b[c],2)+Yh(a[d],2),Zh(b[c],2,e)):(b.push(gi(a[d])),c++)}return b};K.set("WEBGL_PACK",!0);K.set("DEPRECATION_WARNINGS_ENABLED",!1);console.warn("TensorFlow.js deprecation warnings have been disabled.");var QD=function(a){a=void 0===a?!1:a;ar.call(this);this.R=a;this.H=new vD("/logos/2018/bach/r2/weights/pwsplit_quant1");this.o=new ED(this.H)};w(QD,ar);
QD.prototype.load=function(){var a=this;if("webgl"!=Ws())return Xk(104),Promise.reject("Backend "+Ws()+" is not webgl.");if(!LD())return Wk("d2",0,!0),Xk(105),Promise.reject("");Wk("d2",1,!0);Xk(105);return RD(this).then(function(){return a.H.load()}).then(function(){var b=pD([1,32,46,4],"float32");return GD(a.o,b,b.clone(),1)}).then(function(){return Promise.resolve(a)})};
var RD=function(a){var b,c,d,e,f;return Ga(function(g){switch(g.g){case 1:return b=new MD("/logos/2018/bach/r2/weights/pwsplit_quant1"),wa(g,b.load(),2);case 2:return Wk("d2",1),wa(g,KD(b),3);case 3:return c=g.i,al=d=Math.round(100*c)/100,Wk("d1",d,!0),Xk(103),Wk("d2",2),wa(g,KD(b),4);case 4:return e=g.i,al=f=Math.round(100*e)/100,Wk("d1",f,!0),Xk(103),a.R||90>e?g.return(Promise.resolve(e)):g.return(Promise.reject(e))}})};QD.prototype.Ca=function(){var a=this.H;return!!a.i&&!!a.g};
QD.prototype.v=function(a,b){SD(this,a).then(function(c){return TD(c)}).then(function(c){return b(c)})};var TD=function(a){return a.data().then(function(b){b=Array.from(b);for(var c=[],d=0;32>d;d++){for(var e=[],f=0;46>f;f++){var g=184*d+4*f;e.push(b.slice(g,g+4))}c.push(e)}b=vi(c);c=PD(bi(b));di(b,c);return b})},SD=function(a,b){b=oD([ui(b)]);var c=a.o;a=a.o.o;a=a.g?a.g.Ch:0;c.g=!1;c.i=0;var d=b.Na(2,!0).Ic(nD(0,"float32"));d=hD(d,"float32").add(qD(b));return GD(c,b,d,a)};
QD.prototype.T=function(){var a=this.o;return a.i/a.H};QD.prototype.cancel=function(){this.g&&this.o.cancel()};var UD=function(a,b,c,d){this.g=0;this.i=a;this.H=void 0===c?3:c;this.o=b;this.j=void 0===d?2E3:d};UD.prototype.fetch=function(a,b,c){var d=this;b=void 0===b?function(){}:b;c=new Mb(((void 0===c?0:c)?"//www.google.com":"")+"/async/"+this.i);Qb(c,a);c=c.toString();this.g++;b(this.g);return VD(this,c).catch(function(e){return d.g<d.H?d.o(d.j*Math.pow(2,d.g-1)).finally(function(){return d.fetch(a,b)}):Promise.reject(e)}).finally(function(){return d.g=0})};
var VD=function(a,b){var c=new XMLHttpRequest;c.open("GET",b);return new Promise(function(d,e){c.send();c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status&&c.responseText)a:{var f=c.responseText;f.startsWith(")]}'\n")&&(f=f.substring(5));var g={};try{g=JSON.parse(f)}catch(h){e(f);break a}g.hasOwnProperty(a.i)&&(g=g[a.i]);g.hasOwnProperty("__err__")?e(g.__err__):d(g)}else e(c)}})};var WD=function(a,b,c){UD.call(this,a,function(d){return new Promise(function(e){return setTimeout(e,d)})},void 0===b?3:b,void 0===c?2E3:c)};w(WD,UD);var XD=function(a){Xh(this,a,null)};kb(XD,Th);XD.prototype.Ge=function(a){var b,c={Ag:(b=$h(this,ki,1))&&pi(a,b)};a&&(c.Rf=this);return c};var YD=function(){ar.call(this);this.o=new WD("ddlcct",3,jd("min_backoff",2E3))};w(YD,ar);YD.prototype.load=function(){return Promise.resolve(this)};YD.prototype.v=function(a,b){a=encodeURIComponent(a.j());var c=new Sb;c.add("async","_fmt:jspb,ddlseq:"+a);this.o.fetch(c,function(d){Wk("d2",d)}).then(function(d){d=$h(new XD(d),ki,1);var e=PD(bi(d));di(d,e);b(d)},function(){b(null)})};var $D=function(){var a=(new Mb(location.href)).g,b=hd("flags",{});b=void 0!==b.bNoLocal&&b.bNoLocal;if(jd("disable_tfjs",!1)||b||dc(a,"force_remote"))return ZD();bl="l";Wk("d4","l");return(new QD(!!jd("disable_servomatic",!1)||dc(a,"force_local"))).load().then(function(c){bl="l";Wk("d4","l");Xk(111);return c},function(){return ZD()})},ZD=function(){bl="r";Wk("d4","r");Xk(111);return(new YD).load()};var aE=function(a,b){G.call(this,Ei,a,b);this.R=null;this.va=new $f;B(this.va,this);this.$a=new $f;B(this.$a,this);this.Ma=new Wo("",.5);Xo(this.Ma,nh());this.Ma.v="#b0cdeb";Dg(this.Ma,.5,.5);this.Ma.i(0,.1)};w(aE,G);
var bE=function(a,b){a.R&&eg(a.R);0==a.va.Ka.length&&b&&(a.R=b,gg(a.R,1.2),a.R.i(0,.05),B(a.R,a))},dE=function(a){var b=Math.round(Tone.Transport.bpm.value)+" bpm";a.R&&eg(a.R);cE(a);var c=a.R=a.Ma;c.R=b;Vo(c);B(a.R,a)},cE=function(a){fg(a.$a);fg(a.va)},fE=function(a,b,c){a.R&&eg(a.R);fg(a.va);if(b){var d=ik(b.j).slice(1),e=mj,f=Ej,g=Sj;switch(d){case "b":e=jj;f=mj;g=Ej;break;case "#":e=Ej,f=Sj,g=lj}eE(a,b);d=new E;e=new G(e);d.setSize(e.ha().height,e.ha().height);B(e,d);e=new mm(new A(-1,0,0),d,
d,function(){var h=b.j;Zh(h.wb,1,h.i-1);mp(b);c();eE(a,b)});rm(e,1,"112, 197, 255",1.5);d=new E;f=new G(f);d.setSize(f.ha().height,f.ha().height);B(f,d);f=new mm(new A(0,0,0),d,d,function(){var h=b.j;Zh(h.wb,1,h.i);mp(b);c();eE(a,b)});rm(f,1,"112, 197, 255",1.5);g=new G(g);d=new E;d.setSize(g.ha().height,g.ha().height);B(g,d);g=new mm(new A(1,0,0),d,d,function(){var h=b.j;Zh(h.wb,1,h.i+1);mp(b);c();eE(a,b)});rm(g,1,"112, 197, 255",1.5);B(e,a.va);B(f,a.va);81!=mi(b.j.wb)&&B(g,a.va)}},gE=function(a){var b=
ik(a.j).slice(1);a=hk(a.j).slice(1);if(b==a)return 0;if(a.includes("#"))return 1;if(a.includes("b")||b.includes("#"))return-1;if(b.includes("b"))return 1},eE=function(a,b){fg(a.$a);var c=null,d="#FFF";switch(gE(b)){case -1:d="#565B5D";c=new A(-1,.05,0);break;case 0:d="#6A6C6D";c=new A(0,.05,0);break;case 1:d="#7C7E7E",c=new A(1,.05,0)}b=new ip(c,.6,.3,d,"#09F");gg(b,.35);B(b,a.$a)};var hE=function(){Rl.call(this,hE.i,hE.g)};w(hE,Rl);hE.H=dm;hE.o=Yl;hE.j=Sl;hE.i={Rc:new dm("/logos/2018/bach/r2/","1_12_samples"),Hb:new dm("/logos/2018/bach/r2/","all_samples")};var iE=hE.i;
hE.g={Fj:new Yl(iE.Hb,0,3E3,0),Gj:new Yl(iE.Hb,4E3,3E3,0),Hj:new Yl(iE.Hb,8E3,3E3,0),Ij:new Yl(iE.Hb,12E3,3E3,0),Jj:new Yl(iE.Hb,16E3,3E3,0),Kj:new Yl(iE.Hb,2E4,3E3,0),Lj:new Yl(iE.Hb,24E3,3E3,0),Mj:new Yl(iE.Hb,28E3,3E3,0),Nj:new Yl(iE.Rc,0,3E3,0),Oj:new Yl(iE.Rc,4E3,3E3,0),Pj:new Yl(iE.Rc,8E3,3E3,0),Qj:new Yl(iE.Rc,12E3,3E3,0),Rj:new Yl(iE.Rc,16E3,3E3,0),Sj:new Yl(iE.Rc,2E4,3E3,0),Tj:new Yl(iE.Rc,24E3,3E3,0),Uj:new Yl(iE.Rc,28E3,3E3,0),Vj:new Yl(iE.Hb,32E3,3E3,0),Wj:new Yl(iE.Hb,36E3,3E3,0),Xj:new Yl(iE.Hb,
4E4,3E3,0),Yj:new Yl(iE.Hb,44E3,3E3,0),Zj:new Yl(iE.Hb,48E3,3E3,0),$j:new Yl(iE.Hb,52E3,3E3,0),ak:new Yl(iE.Hb,56E3,3E3,0),bk:new Yl(iE.Hb,6E4,3E3,0),dk:new Yl(iE.Hb,64E3,3E3,0),ek:new Yl(iE.Hb,68E3,3E3,0),fk:new Yl(iE.Hb,72E3,3E3,0),hk:new Yl(iE.Hb,76E3,3E3,0),ik:new Yl(iE.Hb,8E4,3E3,0),jk:new Yl(iE.Hb,84E3,3E3,0)};Va(hE);var vE=hE;var xE=function(){var a=wE;var b=void 0===b?{}:b;return Object.assign({},a,b)},yE={name:"VIOLIN",yc:.1,attack:1,release:.1,Ra:0},zE={name:"ORGAN",yc:.1,attack:0,release:.3,Ra:0},AE={name:"HARPSICHORD",yc:.4,attack:.3,release:.3,Ra:-1},BE={name:"CELLO",yc:.4,attack:0,release:.4,Ra:-1},CE={name:"PIANO",yc:.9,attack:0,release:.2,Ra:0},DE={name:"DOOGIE",yc:.6,attack:0,release:1,Ra:0},wE={name:"FAT_SAW",yc:.4,attack:0,release:1,Ra:0,Kh:function(){return(new Tone.Synth({oscillator:{type:"fatsawtooth"}})).toMaster()},
Ee:null},EE=[[AE,{name:"FLUTE",yc:.4,attack:.2,release:.2,Ra:0}],[AE],[AE,zE],[AE,zE]],FE=[[zE],[zE],[zE],[zE]],GE=[[AE],[AE],[AE],[AE]],HE=[[AE],[AE],[AE,zE],[AE,zE]],IE=[[yE],[yE],[BE],[BE]],JE=[[CE,yE],[CE],[CE],[CE,zE]],KE=[[CE],[CE],[CE],[CE]],LE=[[BE],[BE],[BE],[BE]],ME=[[xE()],[xE()],[xE()],[xE()]],NE=[EE,FE,GE,HE,KE,IE,JE,LE,ME,[[{name:"NASA",yc:.4,attack:0,release:1,Ra:-1}],[{name:"POWER",yc:.4,attack:0,release:1,Ra:-1}],[DE],[DE]]];var OE=new Map([[vE.g.Fj,"PIANO_A0"],[vE.g.Gj,"PIANO_A1"],[vE.g.Hj,"PIANO_A2"],[vE.g.Ij,"PIANO_A3"],[vE.g.Jj,"PIANO_A4"],[vE.g.Kj,"PIANO_A5"],[vE.g.Lj,"PIANO_A6"],[vE.g.Mj,"PIANO_A7"],[vE.g.Nj,"PIANO_C1"],[vE.g.Oj,"PIANO_C2"],[vE.g.Pj,"PIANO_C3"],[vE.g.Qj,"PIANO_C4"],[vE.g.Rj,"PIANO_C5"],[vE.g.Sj,"PIANO_C6"],[vE.g.Tj,"PIANO_C7"],[vE.g.Uj,"PIANO_C8"],[vE.g.Vj,"PIANO_DS1"],[vE.g.Wj,"PIANO_DS2"],[vE.g.Xj,"PIANO_DS3"],[vE.g.Yj,"PIANO_DS4"],[vE.g.Zj,"PIANO_DS5"],[vE.g.$j,"PIANO_DS6"],[vE.g.ak,"PIANO_DS7"],
[vE.g.bk,"PIANO_FS1"],[vE.g.dk,"PIANO_FS2"],[vE.g.ek,"PIANO_FS3"],[vE.g.fk,"PIANO_FS4"],[vE.g.hk,"PIANO_FS5"],[vE.g.ik,"PIANO_FS6"],[vE.g.jk,"PIANO_FS7"]]);var PE=function(a){var b=Tone.Buffers.call(this,{})||this;b.g=new Map;b.i=a;return b};w(PE,Tone.Buffers);n=PE.prototype;n.has=function(a,b){return this.g.has(b+"-"+a)};n.get=function(a,b){if(this.has(a,b))return this.g.get(b+"-"+a);throw Error("Vc`"+a+"`"+b);};n._bufferLoaded=function(){throw Error("Wc");};n.add=function(){throw Error("Xc");};n.dispose=function(){throw Error("Yc");};var QE=function(a,b){var c=[];for(var d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=a.lk;var e=a.yk;c=Tone.Sampler.apply(this,[{}].concat(la(c)))||this;c.j=d;c.U=e;c.i=new Tone.JCReverb(.1);c.i.connect(c.output);c.g=new PE(c.i);c.v=!1;c.H=24;return c};w(QE,Tone.Sampler);n=QE.prototype;
n.load=function(a){var b=this;return(new Promise(function(c){return a.preload(c)})).then(function(){var c=b.g,d=b.j.H,e=b.U,f;for(f in d){var g=d[f];g.H=c.i;if(g.U.hf()){var h=OE.get(g),k=h.split("_").pop();h=[h.split(k)[0].replace(/[_-]/g,""),k.replace(/s/i,"#").toUpperCase()];k=t(h);h=k.next().value;k=k.next().value;h==e&&(k=(new Tone.Frequency(k)).toMidi(),c.g.set(h+"-"+k,g))}}b.v=!0;return Promise.resolve()})};
n._findClosest=function(a,b){for(var c=0;c<this.H;c++){if(this.g.has(a+c,b))return-c;if(this.g.has(a-c,b))return c}return null};
n.triggerAttack=function(a,b,c,d,e,f,g){b=void 0===b?0:b;c=void 0===c?1:c;d=void 0===d?"":d;e=(new Tone.Frequency(a)).toMidi()+12*(e||0);var h=this._findClosest(e,d);if(null!==h){a=this.g.get(e-h,d);var k=a.U.buffer;h=Tone.intervalToFrequencyRatio(h);f=new Tone.BufferSource({buffer:k,playbackRate:h,fadeIn:void 0===f?this.attack:f,fadeOut:void 0===g?this.release:g,curve:"exponential"});b=this.toSeconds(b);f.playbackRate.setValueAtTime(h,0);am(a,c);a.play(void 0,!1,0,f,void 0,b);b=d+"-"+e;Tone.isArray(this._activeSources[b])||
(this._activeSources[b]=[]);this._activeSources[b].push({note:e,source:f})}else console.warn("Couldn't resample for instrument "+d+" and note "+a);return this};n.triggerAttackRelease=function(a,b,c,d,e,f,g,h){f=void 0===f?"":f;b=this.toSeconds(b);this.triggerAttack(a,c,d,f,g,h,e);this.triggerRelease(a,this.toSeconds(c)+b,e,f,g);return this};
n.triggerRelease=function(a,b,c,d,e){var f=this;d=void 0===d?"":d;c=void 0===c?this.release:c;a=(new Tone.Frequency(a)).toMidi()+12*(e||0);d=d+"-"+a;this._activeSources[d]&&this._activeSources[d].length&&(this._activeSources[d].forEach(function(g){g.source.stop(f.toSeconds(b)+c,c)}),this._activeSources[d]=[]);return this};
n.releaseAll=function(a){var b=this;Tone.Sampler.prototype.releaseAll.call(this,a);for(var c in this._activeSources)this._activeSources[c].forEach(function(d){d.source.stop(b.toSeconds(a)+b.release,b.release)})};Tone.g=QE;var RE=function(){this.o=KE;this.g=new Map;this.H=[];this.U=new Tone.Volume(-5);this.j=new Tone.Meter;this.i=new Tone.Gain;this.i.chain(this.U,this.j,Tone.Master)},SE=function(a){for(var b=t(NE),c=b.next();!c.done;c=b.next()){c=t(c.value);for(var d=c.next();!d.done;d=c.next()){d=t(d.value);for(var e=d.next();!e.done;e=d.next())if(e=e.value,e.Kh)e.Ee=e.Kh(),e.Kh=void 0,e.Ee.connect(a.i),a.H.push(e.Ee);else if(!e.Ee&&!a.g.has(e.name)){var f=new QE({lk:vE.ya(),yk:e.name});f.connect(a.i);a.g.set(e.name,
f)}}}};RE.prototype.load=function(a){return Promise.all([].concat(la(this.g.values())).map(function(b){return b.load(a)}))};RE.prototype.play=function(a,b,c,d){if(TE[c]){c=t(this.o[c]);for(var e=c.next();!e.done;e=c.next()){e=e.value;var f=e.yc*(-.2+.4*Math.random());e.Ee?e.Ee.triggerAttackRelease(a,Dk(b),d,e.yc+f):this.g.get(e.name).triggerAttackRelease(a,Dk(b),d,e.yc+f,e.release,e.name,e.Ra,e.attack)}}};var TE=[!0,!0,!0,!0];var $E=function(a,b,c,d,e){Ym.call(this,a);var f=this;this.Sc=c;this.Lk=b;this.Ea=null;this.Hd=d;this.Ma=!1;this.v=new xm(0,-6);B(this.v,this);b=zm(this.v);this.o=new Dq(new A(0,18,0),new A(b.x,b.y,0));this.o.U=-10;Jq(this.o,!1);this.o.g=!1;B(this.o,this.v);this.lg=!1;this.Sa=new $f(0,-11,0);B(this.Sa,this);this.S=new aE(6.33,.88);gg(this.S,2.75);B(this.S,this.Sa);this.La=new mm(new A(-28.5,-8,0),new G(Wj),new G(Wj),function(){f.ke=!0;if(Ck){var l=f.wa;sg(l.S);l.g=!0;qg(l.S,Ml(l.j,200))}else Wq(f.wa);
Ck=!Ck});this.La.U=2;gg(this.La,4.5);rm(this.La,2);qm(this.La,.05,.25);B(this.La,this);var g=!1,h=Tone.Transport.bpm.value;this.Fa=new mm(new A(28,-8,0),new G(yi),new G(yi),function(){f.je=!0;g=!g;Nm(f.v,g);g?(f.Fa.Ea=gm.g.Sf,Rm(f.Hd,1,0),h=Tone.Transport.bpm.value,Tone.Transport.bpm.value=90,f.Sc.o=ME,Bq(f.o),rg(f.Ba,200,function(){return Lq(f.o,"Rock Mode")})):(Tone.Transport.bpm.value=h,Rm(f.Hd,0,1),f.Sc.o=KE,Bq(f.o),gm.g.Sg.stop(),f.Fa.Ea=gm.g.Sg);UE(f)});this.Fa.U=2;gg(this.Fa,5);this.Fa.Ea=
gm.g.Sg;rm(this.Fa,2);qm(this.Fa,.2,.2);B(this.Fa,this);this.je=this.ke=!1;this.od=0;b=new G(Ri);rh(b,0,.1);this.Oa=new mm(new A(-19.1,.9,0),new G(Qi),b,function(){cE(f.S);VE(f)});gg(this.Oa,2.8);this.Oa.Ea=gm.g.Dj;rm(this.Oa,1);qm(this.Oa,0,.3);B(this.Oa,this.Sa);b=new G(Mj);rh(b,0,.1);c=new G(Gj);rh(c,0,.1);this.W=new go(new A(-14.4,.9,0),new G(Jj),b,new G(Fj),c,function(){1==f.W.S?(jh(ih.ya(),5,f.j),f.v.play()):(jh(ih.ya(),4,f.j),Om(f.v))});gg(this.W,2.8);rm(this.W,1);qm(this.W,0,.3);B(this.W,
this.Sa);this.Qd=!1;var k=function(l){f.Qd||(f.Qd=!0,Lq(f.o,"Key signature tip"));cE(f.S);l?(Xp(f.T),Xp(f.R)):(Yp(f.T),Yp(f.R));Vq(f.wa,f.T.R)};this.wa=new Uq(function(){return k(!1)},function(){return k(!0)});gg(this.wa,3.6);this.wa.i(-7.5,1.7);B(this.wa,this.Sa);this.wa.g=!1;this.T=new Up(0);ih.ya().addListener(this.T);this.R=new Up(1);this.R.Oa=!1;this.j=new cq(this.R,this.T);hq(this.j,!1);this.j.i(0,6.8);this.j.U=-2;B(this.j,this.v);b=new G(pj,18.5);gg(b,2.7);this.Uc=new tq(new A(0,.2,0),function(){cE(f.S);
WE(f)});B(b,this.Sa);B(this.Uc,b);this.Ba=new pg;B(this.Ba,this);this.lc=new Wn(a.Yf,!1);B(this.lc,this);this.lc.g=!1;this.Tc=new mm(new A(-.9,1.7,0),new G(Bi),new G(Ci),function(){Tone.Transport.bpm.value=Math.min(Tone.Transport.bpm.value+5,120);Wk("d8",Tone.Transport.bpm.value);dE(f.S);UE(f);jh(ih.ya(),9)});gg(this.Tc,3);rm(this.Tc,1);B(this.Tc,this.Sa);this.Za=new mm(new A(-.9,0,0),new G(zi),new G(Ai),function(){Tone.Transport.bpm.value=Math.max(Tone.Transport.bpm.value-5,45);Wk("d8",Tone.Transport.bpm.value);
dE(f.S);UE(f);jh(ih.ya(),9)});gg(this.Za,3);rm(this.Za,1);qm(this.Za,0,.05);B(this.Za,this.Sa);this.Ti=e;this.mc=new yq;this.mc.U=-10;this.Bc=null;this.$b=!1;this.Tb=new Oq(this.v,this.j,this.o,a.Yf,function(){return XE(f)},function(){return YE(f)});B(this.Tb,this.v);this.mg=0;this.Ob=new Bl(new A(0,0,0),function(){Bq(f.o);f.Ob.g=!1},function(){},!0);this.Ob.mc=!1;B(this.Ob,this);this.$=new lq(this.v,this.j,a.Yf,function(l){return ZE(f,l)},function(){return UE(f)});this.$.i(0,0,-1);this.$.g=!1;B(this.$,
this.v);ih.ya().addListener(this)};w($E,Ym);$E.prototype.load=function(){var a=this;setTimeout(function(){var b=[new Promise(function(c){zd(xi.ya(),c)}),a.Sc.load(vE.i.Rc),$D().then(function(c){a.Ea=c;return Promise.resolve()})];Promise.all(b).then(function(){a.Ma=!0})},200)};
$E.prototype.start=function(){Ym.prototype.start.call(this);bo(this.lc);Fq(this.o);this.Sc.load(vE.i.Hb);for(var a=t($n),b=a.next();!b.done;b=a.next())b=b.value,(new Image).src="/logos/2018/bach/r2/"+b.Pd+".gif";this.Ti?WE(this,this.Ti):(ym(this.v,!1),this.Tb.g=!0,this.Tb.play())};var XE=function(a){return(new Promise(function(b){return a.Bc=b})).then(function(){return a.Bc=null})};
$E.prototype.$a=function(a,b){var c=this;if(11==a)Lq(this.o,b);else if(3==a)this.mg++,4==this.mg?(Lq(this.o,"Instruction - 1"),uq(this.Uc)):Bq(this.o);else if(6==a)bE(this.S,b&&nk(b)||null);else if(2==a&&31==b)this.$.Oa&&Xk(114),this.Bc&&this.Bc();else if(7==a){var d=!1,e=function(){return new Ll(1E3,0,2*Math.PI,function(f){b.Wb.o=Math.cos(f)},{bc:function(){return d?null:qg(c.Ba,e())}})};qg(this.Ba,e());$q(jq(this.j)).then(function(){d=!0})}else 8==a?aF(this,b):9==a?(cE(this.S),UE(this)):13==a?(eg(this.mc),
VE(this),Zp(this.T,b.key),Zp(this.R,b.key),iq(this.j,pl(b.Ag))):14==a&&(bF(this),VE(this))};var UE=function(a){An(a.Lk,a.va())};$E.prototype.va=function(){return this.Ea&&this.Ea.g?[]:this.$.g?[].concat(la(qq(this.$)),la(Iq(this.o))):this.Tb.g?[]:[].concat(la([this.Oa,this.Uc,this.W,this.Tc,this.Za,this.Fa,this.La,this.wa].concat(la(this.T.va()),la(this.R.va()),la(Iq(this.o)),la(this.S.va.Ka),[this.Ob])),la(Mm(this.v)))};
var VE=function(a){cF(a)?bF(a):dF(a);fo(a.W,0);Om(a.v);jh(ih.ya(),12);Sp(a.T,-1);Sp(a.R,-1)},bF=function(a){bq(a.T,0);bq(a.R,0);Tp(a.T,a.T.j);Tp(a.R,a.R.j)},dF=function(a){for(var b=1;3>=b;b++)bq(a.T,b),bq(a.R,b);b=a.T;for(var c=t(b.j[0]),d=c.next();!d.done;d=c.next()){d=t(d.value);for(var e=d.next();!e.done;e=d.next()){e=e.value;for(var f=0;f<e.g.length;f++);}}Wp(b);hq(a.j,!1)},WE=function(a,b){sg(a.Ba);Bq(a.o);Jq(a.o,!1);if(!a.Ea.g){var c=jq(a.j);!b&&4>ml(c)?Lq(a.o,"Instruction - Notes"):(a.od++,
gm.ya().j&&(gm.g.Ej.play(),gm.g.Rh.play()),Om(a.v),jh(ih.ya(),12),jh(ih.ya(),9),Sp(a.T,-1),Sp(a.R,-1),fo(a.W,0),Xn(a.lc,function(){Um.ya().U=!1;b?(a.$b=!0,setTimeout(function(){eF(a,b,!0)},2E3)):br(a.Ea,ll(c),function(d){return eF(a,d)});UE(a)}))}},eF=function(a,b,c){c=void 0===c?!1:c;Um.ya().U=!0;UE(a);Yn(a.lc);co(a.lc);gm.g.Rh.stop();b?(b=pl(b),b=ol(b),c||(b[0]=jq(a.j)[0]),iq(a.j,b),oq(a.$),a.j.$.U=1,hq(a.j,!0).then(function(){fo(a.W,1);nq(a.$,!0,!a.$b);XE(a).then(function(){Yk(4);a.$b||(Hq(a.o,
"Feedback - 1"),Jq(a.o,!0),UE(a))});a.$b||(Lq(a.o,"Share suggestion"),jh(ih.ya(),1,a.j),a.v.play());UE(a)})):(Lq(a.o,"Game crash notification"),ZD().then(function(d){a.Ea=d}))},YE=function(a){B(a.mc,a);ym(a.v,!0);eg(a.Tb);a.Tb.g=!1;UE(a)},aF=function(a,b){fE(a.S,b,function(){a.lg||(a.lg=!0,Lq(a.o,"Accidentals tip"));jh(ih.ya(),10)});UE(a)},cF=function(a){var b=a.T.j.slice(1);a=a.R.j.slice(1);b=b.reduce(function(c,d){return c&&ql(d)},!0);a=a.reduce(function(c,d){return c&&ql(d)},!0);return b&&a},ZE=
function(a,b){sg(a.Ba);Yk(5);a.j.$.U=0;dq(a.j,!1);Jq(a.o,!1);Kq(a.o,!1);dF(a);fo(a.W,0);Om(a.v);jh(ih.ya(),12);Sp(a.T,-1);Sp(a.R,-1);Bq(a.o);a.$b&&(a.$b=!1,YE(a),eg(a.mc));1==b?pq(a.$).then(function(){return WE(a)}):1<a.od&&!a.je?rg(a.Ba,3E3,function(){pm(a.Fa,new A(1,0,0));a.je=!0}):2<a.od&&!a.ke&&rg(a.Ba,3E3,function(){pm(a.La);a.ke=!0});2==b&&VE(a)};
$E.prototype.ub=function(a){Ym.prototype.ub.call(this,a);var b=this.Ea;b.g&&(b.i+=a,!b.j&&9E3<b.i&&(b.j=!0,el(9E3)),!b.U&&2E4<b.i&&(b.U=!0,el(2E4),.5>b.T()&&b.cancel()))};var fF=function(a){this.U=a;ih.ya().addListener(this);this.o=this.H=this.g=null;this.j=this.i=!1;Tone.Transport.bpm.value=60;Tone.Draw.anticipation=.3};fF.prototype.$a=function(a,b){12==a?this.stop():1==a||5==a||4==a?(b&&(this.H=b),1==a?this.play():5==a?this.i?this.resume():this.play():(Tone.Transport.pause(),gF(this)&&(this.i=!0))):3==a&&this.H&&(this.o=kl(jq(this.H)))};fF.prototype.stop=function(){this.i=!1;Tone.Transport.stop();this.g&&this.g.stop()};
var gF=function(a){return!a.i&&!!a.g&&"started"==a.g.state};fF.prototype.wake=function(){this.j&&this.resume()};fF.prototype.resume=function(){Tone.Transport.start();this.i=!1};fF.prototype.play=function(){var a=this;this.i=!1;this.g&&this.g.stop();Tone.Transport.start();this.o=kl(jq(this.H));var b=this.o.map(function(c,d){return d});this.g=new Tone.Sequence(function(c,d){hF(a,c,d,a.o)},b,"16n");this.g.g=!0;this.g.start("+16n")};
var hF=function(a,b,c,d){Tone.Draw.schedule(function(){jh(ih.ya(),2,c)},b);d=t(d[c]);for(var e=d.next();!e.done;e=d.next())(e=e.value)&&a.U.play(lk(e),e.getDuration(),Yh(e.wb,2),b)};var iF=function(a,b){this.o=a;this.i=null;this.Yf=b},jF=function(a,b){a.g=b},Zm=function(a,b){b.Ma||b.load();if(b.Ma){a.i=b;b.start();var c=b.va()}else a.i!=a.g&&(a.i=a.g,a.g.Ac=b,a.g.start(),c=a.g.va());c&&An(a.o,a.i.va())};var kF=function(a){Ym.call(this,a);this.j=new $f(0,1);gg(this.j,7);B(this.j,this);this.T=new G(ak);this.T.g=!1;B(this.T,this.j);this.v=new G(bk);B(this.v,this.j);this.R=new G(ck);gg(this.R,1.2);B(this.R,this.j);this.o=new pg;B(this.o,this);this.Ma=!1};w(kF,Ym);kF.prototype.load=function(){var a=this;Promise.all([new Promise(function(b){return gm.i.nd.preload(b)}),new Promise(function(b){return xi.ya().preload(1,b)})]).then(function(){a.Ma=!0})};
kF.prototype.start=function(){var a=this;Ym.prototype.start.call(this);gm.ya().j&&gm.g.Bj.play();ug(this.o,[new Ll(4E3,6.8,7.2,function(b){return gg(a.j,b)}),new io(this.j,4E3,new A(0,2,0))]);qg(this.o,[Ml(this.v,400),Ml(this.R,200)]);rg(this.o,500,function(){gm.ya().j&&gm.g.Cj.play();a.T.g=!0});qg(this.o,[new io(this.v,1E3,new A(-7,7,0)),new Ll(1E3,0,90,function(b){a.v.Tb=b*Math.PI/180}),Nl(this.v,600)]);rg(this.o,1E3);qg(this.o,[Nl(this.T,200),Nl(this.R,200)]);rg(this.o,0,function(){return a.end()})};var lF=function(a,b){var c=document.createElement("canvas");c.width=52;c.height=52;var d=c.getContext("2d");d.fillStyle="rgba(0,0,0,.3)";d.arc(26,26,26,0,2*Math.PI);d.fill();d.strokeStyle="#fff";d.lineWidth=3.5;d.beginPath();d.moveTo(15,15);d.lineTo(37,37);d.stroke();d.beginPath();d.moveTo(37,15);d.lineTo(15,37);d.stroke();this.g=c;this.g.style.top="10px";this.g.style.right="10px";this.g.style.cursor="pointer";this.g.style.position="absolute";this.g.style.pointerEvents="all";this.g.style.display=
"none";me(this.g,"click",b);a.appendChild(this.g)};var mF=function(){this.R=this.Ka=this.Qa=this.i=this.j=null;this.S=!1;this.U=null;this.v=this.o=!1;this.H=!0;this.T=this.Ca=!1;this.g=null};mF.prototype.reset=function(){this.R=this.Ka=this.Qa=this.i=this.j=null;this.S=!1;this.U=null;this.v=this.o=!1;this.H=!0;this.T=this.Ca=!1;this.g=null};
var qF=function(){var a=nF;a.g="landscape";document[oF]&&pF(a)},pF=function(a){a.g&&(window.screen.lockOrientation&&window.screen.lockOrientation(a.g),window.screen.orientation&&window.screen.orientation.lock&&window.screen.orientation.lock(a.g).catch(Ta))},sF=function(a){a.o&&(a.T?(rF.call(document),a.T=!1):(a.U.call(a.i),pF(a)))},uF=function(a,b,c){var d=nF;c=void 0===c?Ta:c;d.i=a;d.j=b;d.Qa=c;d.U=a[gd(a,"requestFullscreen")];a=!!(document[gd(document,"fullscreenEnabled")]&&d.U&&rF);d.o=Ok()&&a;
d.v=Nk();d.H=!0;if(d.o||d.v)$c(document.body,"margin","0"),$c(d.i,"overflow","visible","width","100%","height","100%"),document.body.scrollLeft=0,me(window,"scroll",tF,!0)};mF.prototype.close=function(){this.T=!0;sF(this)};var vF=function(){var a=document.createElement("div");a.style.pointerEvents="none";a.style.position="absolute";a.style.top="0";a.style.left="0";a.style.width="100%";a.style.height="100%";a.style.direction="ltr";a.dataset.width=Sf;a.dataset.height=518.4;return a};Va(mF);
var oF=gd(document,"fullscreenElement"),rF=document[gd(document,"exitFullscreen")],tF=function(a){a.preventDefault();a.stopPropagation();return!1};var wF=function(a,b){window.google&&google.doodle&&(b&&jb("google.doodle.cpDestroy",b),jb("google.doodle.cpInit",function(){b&&b();a()}))};var xF=function(a){Xh(this,a,null)};kb(xF,Th);xF.prototype.Ge=function(a){var b,c={br:null==(b=Yh(this,1))?void 0:b,Wn:null==(b=Yh(this,2))?void 0:b,mn:null==(b=Yh(this,3))?void 0:b};a&&(c.Rf=this);return c};var yF=function(){var a=void 0===a?!1:a;if(xd()&&wd())return Promise.resolve();var b="_fmt:jspb,doodle:80484806,slot:0,type:3,cta:1";sc()&&(b+=",ntp:1");if(xd()||a)b+=",impr:0";a=new Sb;a.add("async",b);return(new WD("ddllog",1)).fetch(a,void 0,!1).then(function(c){c=new xF(c);if(!xd()&&Yh(c,2)){var d=Yh(c,2);td=(new Mb(d)).g.get("ved","")}!wd()&&Yh(c,3)&&(vd=Yh(c,3))}).catch(function(){return Promise.resolve()})};var zF=function(a,b){b=void 0===b?50:b;Ad.call(this);this.T=a;this.H=0;this.o=this.g=!1;this.j=b};w(zF,Ad);zF.prototype.start=function(){this.H=ib();var a=!this.o&&!this.g;this.o=!1;this.g=!0;a&&AF(this)};var AF=function(a){a.o?a.o=!1:(requestAnimationFrame(function(){return AF(a)}),BF(a))},BF=function(a){var b=ib(),c=b-a.H;0>c||(c=a.j?Math.min(c,a.j):c,a.H=b,a.T(c))};zF.prototype.i=function(){this.g&&(this.o=!0,this.g=!1);Ad.prototype.i.call(this)};var CF=xi.ya(),nF=mF.ya(),DF=function(){};w(DF,Lf);DF.prototype.g=function(){return xi.ya()};DF.prototype.i=function(){return Hn.ya()};
var FF=function(a,b){Ad.call(this);var c=this;this.S=b.getContext("2d");this.Ea=a;this.W=new un(a);this.va=new zg(b,new A(0,4.5,-35));dg(Um.ya().g,this.va);var d=document.createElement("style");d.innerText=".ddlbh-a{margin-top:40px;width:250px;height:200px;z-index:8}.ddlbh-b{opacity:0}.ddlbh-c{opacity:1}.ddlbh-d.ddlbh-b{-webkit-transform:scale(0.4,0.4);-moz-transform:scale(0.4,0.4);-ms-transform:scale(0.4,0.4);-o-transform:scale(0.4,0.4);transform:scale(0.4,0.4)}.ddlbh-d.ddlbh-c{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1,1)}.ddlbh-e.ddlbh-b{-webkit-transform:translate(-50%,-50%) scale(0.4,0.4);-moz-transform:translate(-50%,-50%) scale(0.4,0.4);-ms-transform:translate(-50%,-50%) scale(0.4,0.4);-o-transform:translate(-50%,-50%) scale(0.4,0.4);transform:translate(-50%,-50%) scale(0.4,0.4)}.ddlbh-e.ddlbh-c{-webkit-transform:translate(-50%,-50%) scale(1,1);-moz-transform:translate(-50%,-50%) scale(1,1);-ms-transform:translate(-50%,-50%) scale(1,1);-o-transform:translate(-50%,-50%) scale(1,1);transform:translate(-50%,-50%) scale(1,1)}.ddlbh-f.ddlbh-g{-webkit-animation:1s infinite normal spin;-moz-animation:1s infinite normal spin;-o-animation:1s infinite normal spin;animation:1s infinite normal spin;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;-o-animation-timing-function:linear;animation-timing-function:linear}.ddlbh-f{background:url(/logos/2018/bach/r2/spinner.png) center/contain no-repeat;width:43px;height:43px;position:absolute;right:50px;bottom:50px}@-webkit-keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0);transform:rotate(0)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.ddlbh-h{width:100%;height:100%;background:rgba(0,0,0,0.5);-webkit-transition:opacity 200ms;-o-transition:opacity 200ms;-moz-transition:opacity 200ms;transition:opacity 200ms}.ddlbh-e{-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;width:400px;height:333px;position:absolute;top:50%;left:50%;background-image:-webkit-gradient(linear,left bottom, left top,from(#e7e7e7),color-stop(10%, #fff),color-stop(90%, #fff),to(#e7e7e7));background-image:-webkit-linear-gradient(bottom,#e7e7e7,#fff 10%,#fff 90%,#e7e7e7);background-image:-moz-linear-gradient(bottom,#e7e7e7,#fff 10%,#fff 90%,#e7e7e7);background-image:-o-linear-gradient(bottom,#e7e7e7,#fff 10%,#fff 90%,#e7e7e7);background-image:linear-gradient(to top,#e7e7e7,#fff 10%,#fff 90%,#e7e7e7);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition:all 200ms;-o-transition:all 200ms;-moz-transition:all 200ms;transition:all 200ms;text-align:center}.ddlbh-i{position:absolute;width:100%;margin:0;text-align:center}.ddlbh-j{padding-left:20px;padding-right:20px;margin:0}.ddlbh-k{top:0px}.ddlbh-l{font-family:Germania One,serif;font-size:20pt;color:#111;padding-top:10px}.ddlbh-m{bottom:0px}.ddlbh-n{font-family:Noto Sans,sans-serif;font-size:12pt;color:#111;padding-bottom:15px}.ddlbh-o{font-family:Germania One,serif;font-size:14pt;padding:5px 10px;color:#fff;border:2px solid #fff;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;position:absolute;bottom:30px;right:30px;text-align:right;background:none;z-index:5;pointer-events:auto;cursor:pointer;-webkit-transition:all 200ms;-o-transition:all 200ms;-moz-transition:all 200ms;transition:all 200ms}.ddlbh-o:hover{color:#999;border-color:#999}.ddlbh-o:active{-webkit-transition:none;-o-transition:none;-moz-transition:none;transition:none;-webkit-transform:translate(0px,5px);-moz-transform:translate(0px,5px);-ms-transform:translate(0px,5px);-o-transform:translate(0px,5px);transform:translate(0px,5px)}.ddlbh-o.ddlbh-p{opacity:0}.ddlbh-o.ddlbh-q{opacity:1}.ddlbh-r{left:50%;overflow:hidden;pointer-events:none;position:absolute;top:50%;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-ms-transform-origin:0 0;-o-transform-origin:0 0;transform-origin:0 0}.ddlbh-s{position:absolute;bottom:-5px;cursor:pointer;right:-5px;pointer-events:all;width:23%;-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;-o-transition:-o-transform 250ms;-moz-transition:transform 250ms, -moz-transform 250ms;transition:transform 250ms;transition:transform 250ms, -webkit-transform 250ms, -moz-transform 250ms, -o-transform 250ms;-webkit-transform-origin:100% 100%;-moz-transform-origin:100% 100%;-ms-transform-origin:100% 100%;-o-transform-origin:100% 100%;transform-origin:100% 100%}.ddlbh-s.ddlbh-t{bottom:5px;right:5px;width:21%}.ddlbh-s:hover{-webkit-transform:scale(1.3,1.3);-moz-transform:scale(1.3,1.3);-ms-transform:scale(1.3,1.3);-o-transform:scale(1.3,1.3);transform:scale(1.3,1.3)}.ddlbh-u{position:absolute;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);left:50%;top:45%;width:300px;height:300px;z-index:-1}.ddlbh-v{font-family:Noto Sans,sans-serif;font-size:12pt;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background:#fff;-webkit-transition:all 200ms;-o-transition:all 200ms;-moz-transition:all 200ms;transition:all 200ms;position:absolute;bottom:30px;left:127px;height:50px;width:400px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-left:10px;padding-right:40px}.ddlbh-w{font-family:Noto Sans,sans-serif;font-size:12pt;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background:#ddd;position:absolute;top:-50%;padding:5px;-webkit-transition:opacity 200ms;-o-transition:opacity 200ms;-moz-transition:opacity 200ms;transition:opacity 200ms}.ddlbh-x{-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;pointer-events:auto}.ddlbh-x.ddlbh-y{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.ddlbh-x.ddlbh-z{-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;pointer-events:auto}.ddlbh-A.ddlbh-y{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.ddlbh-A.ddlbh-z{-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;pointer-events:auto;cursor:pointer}.ddlbh-v.ddlbh-p{opacity:0;left:70px}.ddlbh-v.ddlbh-q{opacity:1;left:127px}.ddlbh-w.ddlbh-p{opacity:0}.ddlbh-w.ddlbh-q{opacity:1}.ddlbh-A{position:absolute;right:5px;width:30px;height:30px}";a.appendChild(d);this.Sa=Ok()||Nk()?null:new Cn(b);this.Qa=new dn(6E4,function(){var f=c.$;f.g&&(f.g=!1,f.o=!0);f=vE.ya();f.o||f.g.suspend();f.o=!0;f=gm.ya();f.o||f.g.suspend();f.o=!0;f=c.wa;f.j=gF(f);Tone.Transport.pause();gF(f)&&(f.i=!0)},function(){c.start()});Bd(this,
hb(Cd,this.Qa));this.Ka=new zn(this.Qa,b);Bd(this,hb(Cd,this.Ka));d=new pg;dg(Um.ya().g,d);this.j=new Qm;this.j.i(0,2,0);this.j.g=!1;B(this.j,Um.ya().j);this.Ca=vF();a.appendChild(this.Ca);this.g=document.createElement("div");this.g.className="ddlbh-r";this.g.style.width=Sf+"px";this.g.style.height="518.4px";this.Ca.appendChild(this.g);d=new $f;d.ub=function(){var f=c.Ca.offsetHeight/518.4;f="scale("+f+","+f+") translate(-50%, -50%)";c.g.style.webkitTransform=f;c.g.style.g=f;c.g.style.transform=f};
dg(Um.ya().g,d);d.ub();this.o=new iF(this.Ka,this.g);this.Fa=EF();this.H=new xn(this.o,this.W,b);this.Fa||this.g.appendChild(this.H.j);jF(this.o,new eo(this.o));this.T=new RE;this.R=new $E(this.o,this.Ka,this.T,this.j,this.Fa);d=new kF(this.o);var e=new Ym(this.o,function(){c.H=null;SE(c.T);Sm(c.j,function(){c.R.load();e.end()})});this.H.Ac=e;e.Ac=d;d.Ac=this.R;this.wa=new fF(this.T);ih.ya().addListener(this);Zm(this.o,this.H);this.Ba=new lF(this.g,function(){return nF.close()});uF(a,[b,this.Ca],
function(f){c.Ka.H=f});qF();me(a,["click","touchend"],function(){sF(nF);hn(c.Qa)},!0);this.$=new zF(function(f){Vf.width=c.S.canvas.width;Vf.height=c.S.canvas.height;var g=nF;if(g.o||g.v){var h=!!document[oF],k=window.innerWidth,l=window.innerHeight;0==window.scrollX&&0==window.scrollY||window.scrollTo(0,0);if(k!=g.Ka||l!=g.R||h!=g.S||g.H){g.Ca=k<l;for(var m=!1,p=0;p<g.j.length;++p){var q=g.j[p],r=q.width||q.dataset.width,u=q.height||q.dataset.height;if(uc())throw"";Nk()&&lc&&!ic&&!kc&&0==p&&(m=r<
u!=g.Ca);var x=m?Math.min(k/u,l/r):Math.min(k/r,l/u);r=x*r;u=x*u;if(m){x=(k-u)/2+u;var v=(l-r)/2;var y="rotate(90deg)"}else x=(k-r)/2,v=(l-u)/2,y="";cd(q,"TransformOrigin","0 0");cd(q,"Transform",y);$c(q,"position","absolute","width",r+"px","height",u+"px","left",x+"px","top",v+"px")}xb(ec,"CriOS")||document.body.clientWidth>k&&0<k&&$c(document.body,"width",k+"px");$c(g.i,"height","100%","width","100%");g.Qa(m);g.Ka=k;g.R=l;g.S=h;g.H=!1}}c.W.H(void 0);c.Sa&&(g=c.Sa,g.g.clientWidth==g.o&&g.g.clientHeight==
g.i||Bn(g));Xm(Um.ya(),f,c.S,c.va);c.Ba.g.style.display=document[oF]?"block":"none"});Bd(this,hb(Cd,this.$))};w(FF,Ad);
var EF=function(){var a=(new Mb(window.location.href)).g.get("doodle");if(a){a=a.substr(a.indexOf("_")+1);try{var b=Eh(a),c=Eo(),d=new Bo(new mo(c));c=[];a=0;for(var e=z.repeat(0,16);a<b.length;){var f=z.slice(b,a,a+d.g.U),g=d.g;no(g,f);po(g,g.H);for(var h=1;h<g.H;++h){so(g);qo(g,uo);po(g,g.H-h);for(var k=g.o,l=g.j[0],m=0;4>m;m++)l[0]=k[0][m],l[1]=k[1][m],l[2]=k[2][m],l[3]=k[3][m],k[0][m]=Ao[l[0]]^yo[l[1]]^zo[l[2]]^xo[l[3]],k[1][m]=xo[l[0]]^Ao[l[1]]^yo[l[2]]^zo[l[3]],k[2][m]=zo[l[0]]^xo[l[1]]^Ao[l[2]]^
yo[l[3]],k[3][m]=yo[l[0]]^zo[l[1]]^xo[l[2]]^Ao[l[3]]}so(g);qo(g,uo);po(g,0);var p=vh(e,oo(g));z.extend(c,p);e=f;a+=d.g.U}for(var q,r=c.length-1;0<r&&128==c[r];)r--;q=c.slice(0,r+1);var u=new Lh(q),x=new Co;var v=u.g.i;if(Mh.length){var y=Mh.pop();v&&Gh(y.g,v,void 0,void 0);var C=y}else C=new Lh(v,void 0,void 0);for(b=C;Nh(b);)switch(b.o){case 1:var D=Ph(b);x.o=D;break;case 2:D=Ph(b);x.i=D;break;case 3:D=Ph(b);x.g=D;break;default:Oh(b)}C.g.clear();C.o=-1;C.i=-1;C.H=!1;100>Mh.length&&Mh.push(C);return new ki(JSON.parse(atob(null==
x.g?"":x.g)))}catch(F){}}return null};FF.prototype.$a=function(a,b){if(0==a){a=this.T;for(var c=t(a.g.values()),d=c.next();!d.done;d=c.next())d.value.releaseAll();a=t(a.H);for(c=a.next();!c.done;c=a.next())c.value.triggerRelease();this.T.play(lk(b),b.getDuration(),0)}else 2==a&&(Sp(this.R.T,b),Sp(this.R.R,b))};FF.prototype.start=function(){this.Ea.classList.add("fpdoodleready");this.$.start();var a=vE.ya();a.o&&a.g.resume();a.o=!1;a=gm.ya();a.o&&a.g.resume();a.o=!1;this.wa.wake();this.Fa&&this.H.end()};
FF.prototype.i=function(){this.W.reset();Ad.prototype.i.call(this)};var GF=null;
(function(a,b){var c=function(){a();window.lol&&window.lol()};wF(c,b);c()})(function(){Sk=ib();Uk.d="80484806";!Tk&&Pk()&&(Tk=!0,Xk(10));Wk("d11",Math.random().toString(36).substring(2,15));var a=document.getElementById("hplogo"),b=a?a.querySelector("canvas"):null;if(b){var c=yF(),d=kh.ya().load(md,nd,Pm,"/logos/2018/bach/r2/");AudioContext.prototype.hasOwnProperty("_native_decodeAudioData")&&(AudioContext.prototype.decodeAudioData=AudioContext.prototype._native_decodeAudioData);new Dn(b);Wl(vE.ya(),
a,Tone.context);Wl(gm.ya(),a);am(gm.g.Sf,.4);c=[c,new Promise(function(e){Jf(Hn.ya(),e)}),new Promise(function(e){CF.preload(8,e)}),new Promise(function(e){var f=["Noto Serif","Noto Sans","Germania One"];window.WebFontConfig?null!=e&&Za(e)&&e():(jb("WebFontConfig.google.families",f),null!=e&&Za(e)&&jb("WebFontConfig.fontactive",e),e=document.createElement("script"),e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",e.type="text/javascript",
e.async="true",(document.getElementById("xjsc")||document.body).appendChild(e))}),new Promise(function(e){CF.preload(7,e)}),d];Lk()&&c.push(new Promise(function(e){CF.preload(6,e)}));Promise.all(c).then(function(){Mf=new DF;GF=new FF(a,b);GF.start()})}},function(){for(var a=0,b;b=CF.g[a];a++)b.j=[];Cd(GF)});
